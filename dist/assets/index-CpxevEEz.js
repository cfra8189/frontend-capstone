var Od=e=>{throw TypeError(e)};var Oo=(e,t,n)=>t.has(e)||Od("Cannot "+n);var N=(e,t,n)=>(Oo(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Od("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),F=(e,t,n,s)=>(Oo(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),H=(e,t,n)=>(Oo(e,t,"access private method"),n);var Bi=(e,t,n,s)=>({set _(i){F(e,t,i,n)},get _(){return N(e,t,s)}});function tv(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Of={exports:{}},ho={},Lf={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),sv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),lv=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),dv=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),Ld=Symbol.iterator;function mv(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var If={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,Vf={};function gr(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||If}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uf(){}Uf.prototype=gr.prototype;function ru(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||If}var iu=ru.prototype=new Uf;iu.constructor=ru;Ff(iu,gr.prototype);iu.isPureReactComponent=!0;var Id=Array.isArray,Bf=Object.prototype.hasOwnProperty,au={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function $f(e,t,n){var s,i={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Bf.call(t,s)&&!zf.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return{$$typeof:Ei,type:e,key:a,ref:o,props:i,_owner:au.current}}function fv(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ou(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fd=/\/+/g;function Lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pv(""+e.key):t.toString(36)}function ha(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case sv:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Lo(o,0):s,Id(i)?(n="",e!=null&&(n=e.replace(Fd,"$&/")+"/"),ha(i,t,n,"",function(u){return u})):i!=null&&(ou(i)&&(i=fv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",Id(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Lo(a,l);o+=ha(a,t,n,c,i)}else if(c=mv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Lo(a,l++),o+=ha(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(e,t,n){if(e==null)return e;var s=[],i=0;return ha(e,s,"","",function(a){return t.call(n,a,i++)}),s}function xv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ma={transition:null},gv={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ma,ReactCurrentOwner:au};function Wf(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:zi,forEach:function(e,t,n){zi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!ou(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=gr;Q.Fragment=rv;Q.Profiler=av;Q.PureComponent=ru;Q.StrictMode=iv;Q.Suspense=uv;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;Q.act=Wf;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Ff({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=au.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Bf.call(t,c)&&!zf.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ei,type:e.type,key:i,ref:a,props:s,_owner:o}};Q.createContext=function(e){return e={$$typeof:lv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ov,_context:e},e.Consumer=e};Q.createElement=$f;Q.createFactory=function(e){var t=$f.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:cv,render:e}};Q.isValidElement=ou;Q.lazy=function(e){return{$$typeof:hv,_payload:{_status:-1,_result:e},_init:xv}};Q.memo=function(e,t){return{$$typeof:dv,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ma.transition;ma.transition={};try{e()}finally{ma.transition=t}};Q.unstable_act=Wf;Q.useCallback=function(e,t){return Be.current.useCallback(e,t)};Q.useContext=function(e){return Be.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Be.current.useEffect(e,t)};Q.useId=function(){return Be.current.useId()};Q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Be.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};Q.useRef=function(e){return Be.current.useRef(e)};Q.useState=function(e){return Be.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Be.current.useTransition()};Q.version="18.3.1";Lf.exports=Q;var j=Lf.exports;const Kf=nv(j),yv=tv({__proto__:null,default:Kf},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=j,jv=Symbol.for("react.element"),bv=Symbol.for("react.fragment"),wv=Object.prototype.hasOwnProperty,Nv=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sv={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)wv.call(t,s)&&!Sv.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:jv,type:e,key:a,ref:o,props:i,_owner:Nv.current}}ho.Fragment=bv;ho.jsx=Gf;ho.jsxs=Gf;Of.exports=ho;var r=Of.exports,El={},Hf={exports:{}},nt={},Qf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,A){var I=C.length;C.push(A);e:for(;0<I;){var Y=I-1>>>1,re=C[Y];if(0<i(re,A))C[Y]=A,C[I]=re,I=Y;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var A=C[0],I=C.pop();if(I!==A){C[0]=I;e:for(var Y=0,re=C.length,ws=re>>>1;Y<ws;){var pt=2*(Y+1)-1,Sr=C[pt],Bt=pt+1,M=C[Bt];if(0>i(Sr,I))Bt<re&&0>i(M,Sr)?(C[Y]=M,C[Bt]=I,Y=Bt):(C[Y]=Sr,C[pt]=I,Y=pt);else if(Bt<re&&0>i(M,I))C[Y]=M,C[Bt]=I,Y=Bt;else break e}}return A}function i(C,A){var I=C.sortIndex-A.sortIndex;return I!==0?I:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,m=null,d=3,g=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var A=n(u);A!==null;){if(A.callback===null)s(u);else if(A.startTime<=C)s(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function w(C){if(y=!1,p(C),!v)if(n(c)!==null)v=!0,z(E);else{var A=n(u);A!==null&&O(w,A.startTime-C)}}function E(C,A){v=!1,y&&(y=!1,f(b),b=-1),g=!0;var I=d;try{for(p(A),m=n(c);m!==null&&(!(m.expirationTime>A)||C&&!_());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,d=m.priorityLevel;var re=Y(m.expirationTime<=A);A=e.unstable_now(),typeof re=="function"?m.callback=re:m===n(c)&&s(c),p(A)}else s(c);m=n(c)}if(m!==null)var ws=!0;else{var pt=n(u);pt!==null&&O(w,pt.startTime-A),ws=!1}return ws}finally{m=null,d=I,g=!1}}var k=!1,T=null,b=-1,P=5,R=-1;function _(){return!(e.unstable_now()-R<P)}function V(){if(T!==null){var C=e.unstable_now();R=C;var A=!0;try{A=T(!0,C)}finally{A?W():(k=!1,T=null)}}else k=!1}var W;if(typeof x=="function")W=function(){x(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,D=G.port2;G.port1.onmessage=V,W=function(){D.postMessage(null)}}else W=function(){S(V,0)};function z(C){T=C,k||(k=!0,W())}function O(C,A){b=S(function(){C(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,z(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var I=d;d=A;try{return C()}finally{d=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var I=d;d=C;try{return A()}finally{d=I}},e.unstable_scheduleCallback=function(C,A,I){var Y=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,C){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=I+re,C={id:h++,callback:A,priorityLevel:C,startTime:I,expirationTime:re,sortIndex:-1},I>Y?(C.sortIndex=I,t(u,C),n(c)===null&&C===n(u)&&(y?(f(b),b=-1):y=!0,O(w,I-Y))):(C.sortIndex=re,t(c,C),v||g||(v=!0,z(E))),C},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(C){var A=d;return function(){var I=d;d=A;try{return C.apply(this,arguments)}finally{d=I}}}})(Xf);Qf.exports=Xf;var kv=Qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=j,tt=kv;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yf=new Set,ei={};function js(e,t){lr(e,t),lr(e+"Capture",t)}function lr(e,t){for(ei[e]=t,e=0;e<t.length;e++)Yf.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Ud={};function Ev(e){return Tl.call(Ud,e)?!0:Tl.call(Vd,e)?!1:Pv.test(e)?Ud[e]=!0:(Vd[e]=!0,!1)}function Tv(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rv(e,t,n,s){if(t===null||typeof t>"u"||Tv(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,s,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var lu=/[\-:]([a-z])/g;function cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lu,cu);Pe[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lu,cu);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lu,cu);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function uu(e,t,n,s){var i=Pe.hasOwnProperty(t)?Pe[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rv(t,n,i,s)&&(n=null),s||i===null?Ev(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var an=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Zf=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),Bd=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Bd&&e[Bd]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Io;function Or(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var Fo=!1;function Vo(e,t){if(!e||Fo)return"";Fo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Or(e):""}function Av(e){switch(e.tag){case 5:return Or(e.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function Ml(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Cs:return"Portal";case Rl:return"Profiler";case du:return"StrictMode";case Al:return"Suspense";case Dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zf:return(e.displayName||"Context")+".Consumer";case qf:return(e._context.displayName||"Context")+".Provider";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:Ml(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return Ml(e(t))}catch{}}return null}function Dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ml(t);case 8:return t===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ep(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mv(e){var t=ep(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=Mv(e))}function tp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ep(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _l(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function np(e,t){t=t.checked,t!=null&&uu(e,"checked",t,!1)}function Ol(e,t){np(e,t);var n=Ln(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ll(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ll(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $d(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ll(e,t,n){(t!=="number"||Aa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lr=Array.isArray;function $s(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ln(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Lr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ln(n)}}function sp(e,t){var n=Ln(t.value),s=Ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){_v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function ap(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=ap(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var Ov=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,Ws=null,Ks=null;function Gd(e){if(e=Ai(e)){if(typeof zl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=go(t),zl(e.stateNode,e.type,t))}}function lp(e){Ws?Ks?Ks.push(e):Ks=[e]:Ws=e}function cp(){if(Ws){var e=Ws,t=Ks;if(Ks=Ws=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function up(e,t){return e(t)}function dp(){}var Uo=!1;function hp(e,t,n){if(Uo)return e(t,n);Uo=!0;try{return up(e,t,n)}finally{Uo=!1,(Ws!==null||Ks!==null)&&(dp(),cp())}}function ni(e,t){var n=e.stateNode;if(n===null)return null;var s=go(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var $l=!1;if(en)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{$l=!1}function Lv(e,t,n,s,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var zr=!1,Da=null,Ma=!1,Wl=null,Iv={onError:function(e){zr=!0,Da=e}};function Fv(e,t,n,s,i,a,o,l,c){zr=!1,Da=null,Lv.apply(Iv,arguments)}function Vv(e,t,n,s,i,a,o,l,c){if(Fv.apply(this,arguments),zr){if(zr){var u=Da;zr=!1,Da=null}else throw Error(L(198));Ma||(Ma=!0,Wl=u)}}function bs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(bs(e)!==e)throw Error(L(188))}function Uv(e){var t=e.alternate;if(!t){if(t=bs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Hd(i),e;if(a===s)return Hd(i),t;a=a.sibling}throw Error(L(188))}if(n.return!==s.return)n=i,s=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=a;break}if(l===s){o=!0,s=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=i;break}if(l===s){o=!0,s=a,n=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function fp(e){return e=Uv(e),e!==null?pp(e):null}function pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pp(e);if(t!==null)return t;e=e.sibling}return null}var xp=tt.unstable_scheduleCallback,Qd=tt.unstable_cancelCallback,Bv=tt.unstable_shouldYield,zv=tt.unstable_requestPaint,fe=tt.unstable_now,$v=tt.unstable_getCurrentPriorityLevel,pu=tt.unstable_ImmediatePriority,gp=tt.unstable_UserBlockingPriority,_a=tt.unstable_NormalPriority,Wv=tt.unstable_LowPriority,yp=tt.unstable_IdlePriority,mo=null,Lt=null;function Kv(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Qv,Gv=Math.log,Hv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(Gv(e)/Hv|0)|0}var Gi=64,Hi=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oa(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?s=Ir(l):(a&=o,a!==0&&(s=Ir(a)))}else o=n&~i,o!==0?s=Ir(o):a!==0&&(s=Ir(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-St(t),i=1<<n,s|=e[n],t&=~i;return s}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-St(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&s)&&(i[o]=Xv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),e}function Bo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-St(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}function xu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-St(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var J=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bp,gu,wp,Np,Sp,Gl=!1,Qi=[],Pn=null,En=null,Tn=null,si=new Map,ri=new Map,mn=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Pr(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ai(t),t!==null&&gu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jv(e,t,n,s,i){switch(t){case"focusin":return Pn=Pr(Pn,e,t,n,s,i),!0;case"dragenter":return En=Pr(En,e,t,n,s,i),!0;case"mouseover":return Tn=Pr(Tn,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return si.set(a,Pr(si.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,ri.set(a,Pr(ri.get(a)||null,e,t,n,s,i)),!0}return!1}function kp(e){var t=Xn(e.target);if(t!==null){var n=bs(t);if(n!==null){if(t=n.tag,t===13){if(t=mp(n),t!==null){e.blockedOn=t,Sp(e.priority,function(){wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Bl=s,n.target.dispatchEvent(s),Bl=null}else return t=Ai(n),t!==null&&gu(t),e.blockedOn=n,!1;t.shift()}return!0}function Yd(e,t,n){fa(e)&&n.delete(t)}function ej(){Gl=!1,Pn!==null&&fa(Pn)&&(Pn=null),En!==null&&fa(En)&&(En=null),Tn!==null&&fa(Tn)&&(Tn=null),si.forEach(Yd),ri.forEach(Yd)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Gl||(Gl=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,ej)))}function ii(e){function t(i){return Er(i,e)}if(0<Qi.length){Er(Qi[0],e);for(var n=1;n<Qi.length;n++){var s=Qi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pn!==null&&Er(Pn,e),En!==null&&Er(En,e),Tn!==null&&Er(Tn,e),si.forEach(t),ri.forEach(t),n=0;n<mn.length;n++)s=mn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&mn.shift()}var Gs=an.ReactCurrentBatchConfig,La=!0;function tj(e,t,n,s){var i=J,a=Gs.transition;Gs.transition=null;try{J=1,yu(e,t,n,s)}finally{J=i,Gs.transition=a}}function nj(e,t,n,s){var i=J,a=Gs.transition;Gs.transition=null;try{J=4,yu(e,t,n,s)}finally{J=i,Gs.transition=a}}function yu(e,t,n,s){if(La){var i=Hl(e,t,n,s);if(i===null)qo(e,t,s,Ia,n),Xd(e,s);else if(Jv(i,e,t,n,s))s.stopPropagation();else if(Xd(e,s),t&4&&-1<Zv.indexOf(e)){for(;i!==null;){var a=Ai(i);if(a!==null&&bp(a),a=Hl(e,t,n,s),a===null&&qo(e,t,s,Ia,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else qo(e,t,s,null,n)}}var Ia=null;function Hl(e,t,n,s){if(Ia=null,e=fu(s),e=Xn(e),e!==null)if(t=bs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function Cp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case pu:return 1;case gp:return 4;case _a:case Wv:return 16;case yp:return 536870912;default:return 16}default:return 16}}var Sn=null,vu=null,pa=null;function Pp(){if(pa)return pa;var e,t=vu,n=t.length,s,i="value"in Sn?Sn.value:Sn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[a-s];s++);return pa=i.slice(e,1<s?1-s:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function qd(){return!1}function st(e){function t(n,s,i,a,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xi:qd,this.isPropagationStopped=qd,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ju=st(yr),Ri=ce({},yr,{view:0,detail:0}),sj=st(Ri),zo,$o,Tr,fo=ce({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(zo=e.screenX-Tr.screenX,$o=e.screenY-Tr.screenY):$o=zo=0,Tr=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Zd=st(fo),rj=ce({},fo,{dataTransfer:0}),ij=st(rj),aj=ce({},Ri,{relatedTarget:0}),Wo=st(aj),oj=ce({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),lj=st(oj),cj=ce({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uj=st(cj),dj=ce({},yr,{data:0}),Jd=st(dj),hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fj[e])?!!t[e]:!1}function bu(){return pj}var xj=ce({},Ri,{key:function(e){if(e.key){var t=hj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gj=st(xj),yj=ce({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=st(yj),vj=ce({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),jj=st(vj),bj=ce({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wj=st(bj),Nj=ce({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=st(Nj),kj=[9,13,27,32],wu=en&&"CompositionEvent"in window,$r=null;en&&"documentMode"in document&&($r=document.documentMode);var Cj=en&&"TextEvent"in window&&!$r,Ep=en&&(!wu||$r&&8<$r&&11>=$r),th=" ",nh=!1;function Tp(e,t){switch(e){case"keyup":return kj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function Pj(e,t){switch(e){case"compositionend":return Rp(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function Ej(e,t){if(Es)return e==="compositionend"||!wu&&Tp(e,t)?(e=Pp(),pa=vu=Sn=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ep&&t.locale!=="ko"?null:t.data;default:return null}}var Tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tj[e.type]:t==="textarea"}function Ap(e,t,n,s){lp(s),t=Fa(t,"onChange"),0<t.length&&(n=new ju("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Wr=null,ai=null;function Rj(e){zp(e,0)}function po(e){var t=As(e);if(tp(t))return e}function Aj(e,t){if(e==="change")return t}var Dp=!1;if(en){var Ko;if(en){var Go="oninput"in document;if(!Go){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),Go=typeof rh.oninput=="function"}Ko=Go}else Ko=!1;Dp=Ko&&(!document.documentMode||9<document.documentMode)}function ih(){Wr&&(Wr.detachEvent("onpropertychange",Mp),ai=Wr=null)}function Mp(e){if(e.propertyName==="value"&&po(ai)){var t=[];Ap(t,ai,e,fu(e)),hp(Rj,t)}}function Dj(e,t,n){e==="focusin"?(ih(),Wr=t,ai=n,Wr.attachEvent("onpropertychange",Mp)):e==="focusout"&&ih()}function Mj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(ai)}function _j(e,t){if(e==="click")return po(t)}function Oj(e,t){if(e==="input"||e==="change")return po(t)}function Lj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Lj;function oi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Tl.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oh(e,t){var n=ah(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ah(n)}}function _p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Op(){for(var e=window,t=Aa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Aa(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ij(e){var t=Op(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_p(n.ownerDocument.documentElement,n)){if(s!==null&&Nu(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=oh(n,a);var o=oh(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fj=en&&"documentMode"in document&&11>=document.documentMode,Ts=null,Ql=null,Kr=null,Xl=!1;function lh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Ts==null||Ts!==Aa(s)||(s=Ts,"selectionStart"in s&&Nu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Kr&&oi(Kr,s)||(Kr=s,s=Fa(Ql,"onSelect"),0<s.length&&(t=new ju("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ts)))}function Yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Ho={},Lp={};en&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function xo(e){if(Ho[e])return Ho[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lp)return Ho[e]=t[n];return e}var Ip=xo("animationend"),Fp=xo("animationiteration"),Vp=xo("animationstart"),Up=xo("transitionend"),Bp=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Bp.set(e,t),js(t,[e])}for(var Qo=0;Qo<ch.length;Qo++){var Xo=ch[Qo],Vj=Xo.toLowerCase(),Uj=Xo[0].toUpperCase()+Xo.slice(1);Un(Vj,"on"+Uj)}Un(Ip,"onAnimationEnd");Un(Fp,"onAnimationIteration");Un(Vp,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Up,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function uh(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Vv(s,t,void 0,e),e.currentTarget=null}function zp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;uh(i,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;uh(i,l,u),a=c}}}if(Ma)throw e=Wl,Ma=!1,Wl=null,e}function ne(e,t){var n=t[ec];n===void 0&&(n=t[ec]=new Set);var s=e+"__bubble";n.has(s)||($p(t,e,2,!1),n.add(s))}function Yo(e,t,n){var s=0;t&&(s|=4),$p(n,e,s,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[qi]){e[qi]=!0,Yf.forEach(function(n){n!=="selectionchange"&&(Bj.has(n)||Yo(n,!1,e),Yo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Yo("selectionchange",!1,t))}}function $p(e,t,n,s){switch(Cp(t)){case 1:var i=tj;break;case 4:i=nj;break;default:i=yu}n=i.bind(null,t,n,e),i=void 0,!$l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qo(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Xn(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}hp(function(){var u=a,h=fu(n),m=[];e:{var d=Bp.get(e);if(d!==void 0){var g=ju,v=e;switch(e){case"keypress":if(xa(n)===0)break e;case"keydown":case"keyup":g=gj;break;case"focusin":v="focus",g=Wo;break;case"focusout":v="blur",g=Wo;break;case"beforeblur":case"afterblur":g=Wo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jj;break;case Ip:case Fp:case Vp:g=lj;break;case Up:g=wj;break;case"scroll":g=sj;break;case"wheel":g=Sj;break;case"copy":case"cut":case"paste":g=uj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eh}var y=(t&4)!==0,S=!y&&e==="scroll",f=y?d!==null?d+"Capture":null:d;y=[];for(var x=u,p;x!==null;){p=x;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,f!==null&&(w=ni(x,f),w!=null&&y.push(ci(x,w,p)))),S)break;x=x.return}0<y.length&&(d=new g(d,v,null,n,h),m.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Bl&&(v=n.relatedTarget||n.fromElement)&&(Xn(v)||v[tn]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Xn(v):null,v!==null&&(S=bs(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Zd,w="onMouseLeave",f="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=eh,w="onPointerLeave",f="onPointerEnter",x="pointer"),S=g==null?d:As(g),p=v==null?d:As(v),d=new y(w,x+"leave",g,n,h),d.target=S,d.relatedTarget=p,w=null,Xn(h)===u&&(y=new y(f,x+"enter",v,n,h),y.target=p,y.relatedTarget=S,w=y),S=w,g&&v)t:{for(y=g,f=v,x=0,p=y;p;p=Ss(p))x++;for(p=0,w=f;w;w=Ss(w))p++;for(;0<x-p;)y=Ss(y),x--;for(;0<p-x;)f=Ss(f),p--;for(;x--;){if(y===f||f!==null&&y===f.alternate)break t;y=Ss(y),f=Ss(f)}y=null}else y=null;g!==null&&dh(m,d,g,y,!1),v!==null&&S!==null&&dh(m,S,v,y,!0)}}e:{if(d=u?As(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var E=Aj;else if(sh(d))if(Dp)E=Oj;else{E=Mj;var k=Dj}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=_j);if(E&&(E=E(e,u))){Ap(m,E,n,h);break e}k&&k(e,d,u),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Ll(d,"number",d.value)}switch(k=u?As(u):window,e){case"focusin":(sh(k)||k.contentEditable==="true")&&(Ts=k,Ql=u,Kr=null);break;case"focusout":Kr=Ql=Ts=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,lh(m,n,h);break;case"selectionchange":if(Fj)break;case"keydown":case"keyup":lh(m,n,h)}var T;if(wu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Es?Tp(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Ep&&n.locale!=="ko"&&(Es||b!=="onCompositionStart"?b==="onCompositionEnd"&&Es&&(T=Pp()):(Sn=h,vu="value"in Sn?Sn.value:Sn.textContent,Es=!0)),k=Fa(u,b),0<k.length&&(b=new Jd(b,e,null,n,h),m.push({event:b,listeners:k}),T?b.data=T:(T=Rp(n),T!==null&&(b.data=T)))),(T=Cj?Pj(e,n):Ej(e,n))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(h=new Jd("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=T))}zp(m,t)})}function ci(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fa(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ni(e,n),a!=null&&s.unshift(ci(e,a,i)),a=ni(e,t),a!=null&&s.push(ci(e,a,i))),e=e.return}return s}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,t,n,s,i){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,i?(c=ni(n,a),c!=null&&o.unshift(ci(n,c,l))):i||(c=ni(n,a),c!=null&&o.push(ci(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var zj=/\r\n?/g,$j=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(zj,`
`).replace($j,"")}function Zi(e,t,n){if(t=hh(t),hh(e)!==t&&n)throw Error(L(425))}function Va(){}var Yl=null,ql=null;function Zl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,Kj=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(Gj)}:Jl;function Gj(e){setTimeout(function(){throw e})}function Zo(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),ii(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);ii(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+vr,ui="__reactProps$"+vr,tn="__reactContainer$"+vr,ec="__reactEvents$"+vr,Hj="__reactListeners$"+vr,Qj="__reactHandles$"+vr;function Xn(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fh(e);e!==null;){if(n=e[Ot])return n;e=fh(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[Ot]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function As(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function go(e){return e[ui]||null}var tc=[],Ds=-1;function Bn(e){return{current:e}}function se(e){0>Ds||(e.current=tc[Ds],tc[Ds]=null,Ds--)}function ee(e,t){Ds++,tc[Ds]=e.current,e.current=t}var In={},Me=Bn(In),He=Bn(!1),ms=In;function cr(e,t){var n=e.type.contextTypes;if(!n)return In;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function Ua(){se(He),se(Me)}function ph(e,t,n){if(Me.current!==In)throw Error(L(168));ee(Me,t),ee(He,n)}function Wp(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(L(108,Dv(e)||"Unknown",i));return ce({},n,s)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,ms=Me.current,ee(Me,e),ee(He,He.current),!0}function xh(e,t,n){var s=e.stateNode;if(!s)throw Error(L(169));n?(e=Wp(e,t,ms),s.__reactInternalMemoizedMergedChildContext=e,se(He),se(Me),ee(Me,e)):se(He),ee(He,n)}var Kt=null,yo=!1,Jo=!1;function Kp(e){Kt===null?Kt=[e]:Kt.push(e)}function Xj(e){yo=!0,Kp(e)}function zn(){if(!Jo&&Kt!==null){Jo=!0;var e=0,t=J;try{var n=Kt;for(J=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Kt=null,yo=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),xp(pu,zn),i}finally{J=t,Jo=!1}}return null}var Ms=[],_s=0,za=null,$a=0,at=[],ot=0,fs=null,Yt=1,qt="";function Gn(e,t){Ms[_s++]=$a,Ms[_s++]=za,za=e,$a=t}function Gp(e,t,n){at[ot++]=Yt,at[ot++]=qt,at[ot++]=fs,fs=e;var s=Yt;e=qt;var i=32-St(s)-1;s&=~(1<<i),n+=1;var a=32-St(t)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Yt=1<<32-St(t)+i|n<<i|s,qt=a+e}else Yt=1<<a|n<<i|s,qt=e}function Su(e){e.return!==null&&(Gn(e,1),Gp(e,1,0))}function ku(e){for(;e===za;)za=Ms[--_s],Ms[_s]=null,$a=Ms[--_s],Ms[_s]=null;for(;e===fs;)fs=at[--ot],at[ot]=null,qt=at[--ot],at[ot]=null,Yt=at[--ot],at[ot]=null}var Je=null,Ze=null,ie=!1,Nt=null;function Hp(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fs!==null?{id:Yt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sc(e){if(ie){var t=Ze;if(t){var n=t;if(!gh(e,t)){if(nc(e))throw Error(L(418));t=Rn(n.nextSibling);var s=Je;t&&gh(e,t)?Hp(s,n):(e.flags=e.flags&-4097|2,ie=!1,Je=e)}}else{if(nc(e))throw Error(L(418));e.flags=e.flags&-4097|2,ie=!1,Je=e}}}function yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ji(e){if(e!==Je)return!1;if(!ie)return yh(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zl(e.type,e.memoizedProps)),t&&(t=Ze)){if(nc(e))throw Qp(),Error(L(418));for(;t;)Hp(e,t),t=Rn(t.nextSibling)}if(yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?Rn(e.stateNode.nextSibling):null;return!0}function Qp(){for(var e=Ze;e;)e=Rn(e.nextSibling)}function ur(){Ze=Je=null,ie=!1}function Cu(e){Nt===null?Nt=[e]:Nt.push(e)}var Yj=an.ReactCurrentBatchConfig;function Rr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,e));var i=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vh(e){var t=e._init;return t(e._payload)}function Xp(e){function t(f,x){if(e){var p=f.deletions;p===null?(f.deletions=[x],f.flags|=16):p.push(x)}}function n(f,x){if(!e)return null;for(;x!==null;)t(f,x),x=x.sibling;return null}function s(f,x){for(f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function i(f,x){return f=_n(f,x),f.index=0,f.sibling=null,f}function a(f,x,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<x?(f.flags|=2,x):p):(f.flags|=2,x)):(f.flags|=1048576,x)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,x,p,w){return x===null||x.tag!==6?(x=al(p,f.mode,w),x.return=f,x):(x=i(x,p),x.return=f,x)}function c(f,x,p,w){var E=p.type;return E===Ps?h(f,x,p.props.children,w,p.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&vh(E)===x.type)?(w=i(x,p.props),w.ref=Rr(f,x,p),w.return=f,w):(w=Na(p.type,p.key,p.props,null,f.mode,w),w.ref=Rr(f,x,p),w.return=f,w)}function u(f,x,p,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==p.containerInfo||x.stateNode.implementation!==p.implementation?(x=ol(p,f.mode,w),x.return=f,x):(x=i(x,p.children||[]),x.return=f,x)}function h(f,x,p,w,E){return x===null||x.tag!==7?(x=ds(p,f.mode,w,E),x.return=f,x):(x=i(x,p),x.return=f,x)}function m(f,x,p){if(typeof x=="string"&&x!==""||typeof x=="number")return x=al(""+x,f.mode,p),x.return=f,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $i:return p=Na(x.type,x.key,x.props,null,f.mode,p),p.ref=Rr(f,null,x),p.return=f,p;case Cs:return x=ol(x,f.mode,p),x.return=f,x;case dn:var w=x._init;return m(f,w(x._payload),p)}if(Lr(x)||kr(x))return x=ds(x,f.mode,p,null),x.return=f,x;ea(f,x)}return null}function d(f,x,p,w){var E=x!==null?x.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:l(f,x,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $i:return p.key===E?c(f,x,p,w):null;case Cs:return p.key===E?u(f,x,p,w):null;case dn:return E=p._init,d(f,x,E(p._payload),w)}if(Lr(p)||kr(p))return E!==null?null:h(f,x,p,w,null);ea(f,p)}return null}function g(f,x,p,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(p)||null,l(x,f,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $i:return f=f.get(w.key===null?p:w.key)||null,c(x,f,w,E);case Cs:return f=f.get(w.key===null?p:w.key)||null,u(x,f,w,E);case dn:var k=w._init;return g(f,x,p,k(w._payload),E)}if(Lr(w)||kr(w))return f=f.get(p)||null,h(x,f,w,E,null);ea(x,w)}return null}function v(f,x,p,w){for(var E=null,k=null,T=x,b=x=0,P=null;T!==null&&b<p.length;b++){T.index>b?(P=T,T=null):P=T.sibling;var R=d(f,T,p[b],w);if(R===null){T===null&&(T=P);break}e&&T&&R.alternate===null&&t(f,T),x=a(R,x,b),k===null?E=R:k.sibling=R,k=R,T=P}if(b===p.length)return n(f,T),ie&&Gn(f,b),E;if(T===null){for(;b<p.length;b++)T=m(f,p[b],w),T!==null&&(x=a(T,x,b),k===null?E=T:k.sibling=T,k=T);return ie&&Gn(f,b),E}for(T=s(f,T);b<p.length;b++)P=g(T,f,b,p[b],w),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?b:P.key),x=a(P,x,b),k===null?E=P:k.sibling=P,k=P);return e&&T.forEach(function(_){return t(f,_)}),ie&&Gn(f,b),E}function y(f,x,p,w){var E=kr(p);if(typeof E!="function")throw Error(L(150));if(p=E.call(p),p==null)throw Error(L(151));for(var k=E=null,T=x,b=x=0,P=null,R=p.next();T!==null&&!R.done;b++,R=p.next()){T.index>b?(P=T,T=null):P=T.sibling;var _=d(f,T,R.value,w);if(_===null){T===null&&(T=P);break}e&&T&&_.alternate===null&&t(f,T),x=a(_,x,b),k===null?E=_:k.sibling=_,k=_,T=P}if(R.done)return n(f,T),ie&&Gn(f,b),E;if(T===null){for(;!R.done;b++,R=p.next())R=m(f,R.value,w),R!==null&&(x=a(R,x,b),k===null?E=R:k.sibling=R,k=R);return ie&&Gn(f,b),E}for(T=s(f,T);!R.done;b++,R=p.next())R=g(T,f,b,R.value,w),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?b:R.key),x=a(R,x,b),k===null?E=R:k.sibling=R,k=R);return e&&T.forEach(function(V){return t(f,V)}),ie&&Gn(f,b),E}function S(f,x,p,w){if(typeof p=="object"&&p!==null&&p.type===Ps&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $i:e:{for(var E=p.key,k=x;k!==null;){if(k.key===E){if(E=p.type,E===Ps){if(k.tag===7){n(f,k.sibling),x=i(k,p.props.children),x.return=f,f=x;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dn&&vh(E)===k.type){n(f,k.sibling),x=i(k,p.props),x.ref=Rr(f,k,p),x.return=f,f=x;break e}n(f,k);break}else t(f,k);k=k.sibling}p.type===Ps?(x=ds(p.props.children,f.mode,w,p.key),x.return=f,f=x):(w=Na(p.type,p.key,p.props,null,f.mode,w),w.ref=Rr(f,x,p),w.return=f,f=w)}return o(f);case Cs:e:{for(k=p.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===p.containerInfo&&x.stateNode.implementation===p.implementation){n(f,x.sibling),x=i(x,p.children||[]),x.return=f,f=x;break e}else{n(f,x);break}else t(f,x);x=x.sibling}x=ol(p,f.mode,w),x.return=f,f=x}return o(f);case dn:return k=p._init,S(f,x,k(p._payload),w)}if(Lr(p))return v(f,x,p,w);if(kr(p))return y(f,x,p,w);ea(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,x!==null&&x.tag===6?(n(f,x.sibling),x=i(x,p),x.return=f,f=x):(n(f,x),x=al(p,f.mode,w),x.return=f,f=x),o(f)):n(f,x)}return S}var dr=Xp(!0),Yp=Xp(!1),Wa=Bn(null),Ka=null,Os=null,Pu=null;function Eu(){Pu=Os=Ka=null}function Tu(e){var t=Wa.current;se(Wa),e._currentValue=t}function rc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Hs(e,t){Ka=e,Pu=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Pu!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Ka===null)throw Error(L(308));Os=e,Ka.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Yn=null;function Ru(e){Yn===null?Yn=[e]:Yn.push(e)}function qp(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,Ru(t)):(n.next=i.next,i.next=n),t.interleaved=n,nn(e,s)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hn=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,q&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,nn(e,n)}return i=s.interleaved,i===null?(t.next=t,Ru(s)):(t.next=i.next,i.next=t),s.interleaved=t,nn(e,n)}function ga(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,xu(e,n)}}function jh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,s){var i=e.updateQueue;hn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,h=u=c=null,l=a;do{var d=l.lane,g=l.eventTime;if((s&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(d=t,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){m=v.call(g,m,d);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(g,m,d):v,d==null)break e;m=ce({},m,d);break e;case 2:hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=m):h=h.next=g,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=m}}function bh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(L(191,i));i.call(s)}}}var Di={},It=Bn(Di),di=Bn(Di),hi=Bn(Di);function qn(e){if(e===Di)throw Error(L(174));return e}function Du(e,t){switch(ee(hi,t),ee(di,e),ee(It,Di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fl(t,e)}se(It),ee(It,t)}function hr(){se(It),se(di),se(hi)}function Jp(e){qn(hi.current);var t=qn(It.current),n=Fl(t,e.type);t!==n&&(ee(di,e),ee(It,n))}function Mu(e){di.current===e&&(se(It),se(di))}var ae=Bn(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function _u(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var ya=an.ReactCurrentDispatcher,tl=an.ReactCurrentBatchConfig,ps=0,le=null,ye=null,we=null,Qa=!1,Gr=!1,mi=0,qj=0;function Ee(){throw Error(L(321))}function Ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Lu(e,t,n,s,i,a){if(ps=a,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ya.current=e===null||e.memoizedState===null?t0:n0,e=n(s,i),Gr){a=0;do{if(Gr=!1,mi=0,25<=a)throw Error(L(301));a+=1,we=ye=null,t.updateQueue=null,ya.current=s0,e=n(s,i)}while(Gr)}if(ya.current=Xa,t=ye!==null&&ye.next!==null,ps=0,we=ye=le=null,Qa=!1,t)throw Error(L(300));return e}function Iu(){var e=mi!==0;return mi=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?le.memoizedState=we=e:we=we.next=e,we}function mt(){if(ye===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=we===null?le.memoizedState:we.next;if(t!==null)we=t,ye=e;else{if(e===null)throw Error(L(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?le.memoizedState=we=e:we=we.next=e}return we}function fi(e,t){return typeof t=="function"?t(e):t}function nl(e){var t=mt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=ye,i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,s=s.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ps&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,le.lanes|=h,xs|=h}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Pt(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do a=i.lane,le.lanes|=a,xs|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sl(e){var t=mt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Pt(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function ex(){}function tx(e,t){var n=le,s=mt(),i=t(),a=!Pt(s.memoizedState,i);if(a&&(s.memoizedState=i,Ge=!0),s=s.queue,Fu(rx.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,pi(9,sx.bind(null,n,s,i,t),void 0,null),Ne===null)throw Error(L(349));ps&30||nx(n,t,i)}return i}function nx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sx(e,t,n,s){t.value=n,t.getSnapshot=s,ix(t)&&ax(e)}function rx(e,t,n){return n(function(){ix(t)&&ax(e)})}function ix(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function ax(e){var t=nn(e,1);t!==null&&kt(t,e,1,-1)}function wh(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=e0.bind(null,le,e),[t.memoizedState,e]}function pi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ox(){return mt().memoizedState}function va(e,t,n,s){var i=Rt();le.flags|=e,i.memoizedState=pi(1|t,n,void 0,s===void 0?null:s)}function vo(e,t,n,s){var i=mt();s=s===void 0?null:s;var a=void 0;if(ye!==null){var o=ye.memoizedState;if(a=o.destroy,s!==null&&Ou(s,o.deps)){i.memoizedState=pi(t,n,a,s);return}}le.flags|=e,i.memoizedState=pi(1|t,n,a,s)}function Nh(e,t){return va(8390656,8,e,t)}function Fu(e,t){return vo(2048,8,e,t)}function lx(e,t){return vo(4,2,e,t)}function cx(e,t){return vo(4,4,e,t)}function ux(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dx(e,t,n){return n=n!=null?n.concat([e]):null,vo(4,4,ux.bind(null,t,e),n)}function Vu(){}function hx(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ou(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function mx(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Ou(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function fx(e,t,n){return ps&21?(Pt(n,t)||(n=vp(),le.lanes|=n,xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function Zj(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var s=tl.transition;tl.transition={};try{e(!1),t()}finally{J=n,tl.transition=s}}function px(){return mt().memoizedState}function Jj(e,t,n){var s=Mn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},xx(e))gx(t,n);else if(n=qp(e,t,n,s),n!==null){var i=Ue();kt(n,e,s,i),yx(n,t,s)}}function e0(e,t,n){var s=Mn(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(xx(e))gx(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var c=t.interleaved;c===null?(i.next=i,Ru(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=qp(e,t,i,s),n!==null&&(i=Ue(),kt(n,e,s,i),yx(n,t,s))}}function xx(e){var t=e.alternate;return e===le||t!==null&&t===le}function gx(e,t){Gr=Qa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,xu(e,n)}}var Xa={readContext:ht,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},t0={readContext:ht,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Nh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,va(4194308,4,ux.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=Rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Rt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Jj.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:wh,useDebugValue:Vu,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=wh(!1),t=e[0];return e=Zj.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=le,i=Rt();if(ie){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ne===null)throw Error(L(349));ps&30||nx(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Nh(rx.bind(null,s,a,e),[e]),s.flags|=2048,pi(9,sx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Rt(),t=Ne.identifierPrefix;if(ie){var n=qt,s=Yt;n=(s&~(1<<32-St(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n0={readContext:ht,useCallback:hx,useContext:ht,useEffect:Fu,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:mx,useReducer:nl,useRef:ox,useState:function(){return nl(fi)},useDebugValue:Vu,useDeferredValue:function(e){var t=mt();return fx(t,ye.memoizedState,e)},useTransition:function(){var e=nl(fi)[0],t=mt().memoizedState;return[e,t]},useMutableSource:ex,useSyncExternalStore:tx,useId:px,unstable_isNewReconciler:!1},s0={readContext:ht,useCallback:hx,useContext:ht,useEffect:Fu,useImperativeHandle:dx,useInsertionEffect:lx,useLayoutEffect:cx,useMemo:mx,useReducer:sl,useRef:ox,useState:function(){return sl(fi)},useDebugValue:Vu,useDeferredValue:function(e){var t=mt();return ye===null?t.memoizedState=e:fx(t,ye.memoizedState,e)},useTransition:function(){var e=sl(fi)[0],t=mt().memoizedState;return[e,t]},useMutableSource:ex,useSyncExternalStore:tx,useId:px,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ic(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return(e=e._reactInternals)?bs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ue(),i=Mn(e),a=Zt(s,i);a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(kt(t,e,i,s),ga(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ue(),i=Mn(e),a=Zt(s,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=An(e,a,i),t!==null&&(kt(t,e,i,s),ga(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),s=Mn(e),i=Zt(n,s);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,s),t!==null&&(kt(t,e,s,n),ga(t,e,s))}};function Sh(e,t,n,s,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!oi(n,s)||!oi(i,a):!0}function vx(e,t,n){var s=!1,i=In,a=t.contextType;return typeof a=="object"&&a!==null?a=ht(a):(i=Qe(t)?ms:Me.current,s=t.contextTypes,a=(s=s!=null)?cr(e,i):In),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function ac(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Au(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ht(a):(a=Qe(t)?ms:Me.current,i.context=cr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ic(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),Ga(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",s=t;do n+=Av(s),s=s.return;while(s);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function jx(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){qa||(qa=!0,gc=s),oc(e,t)},n}function bx(e,t,n){n=Zt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){oc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){oc(e,t),typeof s!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ch(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new r0;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=y0.bind(null,e,t,n),t.then(e,e))}function Ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eh(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var i0=an.ReactCurrentOwner,Ge=!1;function Le(e,t,n,s){t.child=e===null?Yp(t,null,n,s):dr(t,e.child,n,s)}function Th(e,t,n,s,i){n=n.render;var a=t.ref;return Hs(t,i),s=Lu(e,t,n,s,a,i),n=Iu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(ie&&n&&Su(t),t.flags|=1,Le(e,t,s,i),t.child)}function Rh(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!Hu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wx(e,t,a,s,i)):(e=Na(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(o,s)&&e.ref===t.ref)return sn(e,t,i)}return t.flags|=1,e=_n(a,s),e.ref=t.ref,e.return=t,t.child=e}function wx(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(oi(a,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=a,(e.lanes&i)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,sn(e,t,i)}return lc(e,t,n,s,i)}function Nx(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Is,qe),qe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Is,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,ee(Is,qe),qe|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,ee(Is,qe),qe|=s;return Le(e,t,i,n),t.child}function Sx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lc(e,t,n,s,i){var a=Qe(n)?ms:Me.current;return a=cr(t,a),Hs(t,i),n=Lu(e,t,n,s,a,i),s=Iu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sn(e,t,i)):(ie&&s&&Su(t),t.flags|=1,Le(e,t,n,i),t.child)}function Ah(e,t,n,s,i){if(Qe(n)){var a=!0;Ba(t)}else a=!1;if(Hs(t,i),t.stateNode===null)ja(e,t),vx(t,n,s),ac(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Qe(n)?ms:Me.current,u=cr(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&kh(t,o,s,u),hn=!1;var d=t.memoizedState;o.state=d,Ga(t,s,o,i),c=t.memoizedState,l!==s||d!==c||He.current||hn?(typeof h=="function"&&(ic(t,n,h,s),c=t.memoizedState),(l=hn||Sh(t,n,l,s,d,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Zp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vt(t.type,l),o.props=u,m=t.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Qe(n)?ms:Me.current,c=cr(t,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||d!==c)&&kh(t,o,s,c),hn=!1,d=t.memoizedState,o.state=d,Ga(t,s,o,i);var v=t.memoizedState;l!==m||d!==v||He.current||hn?(typeof g=="function"&&(ic(t,n,g,s),v=t.memoizedState),(u=hn||Sh(t,n,u,s,d,v,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),s=!1)}return cc(e,t,n,s,a,i)}function cc(e,t,n,s,i,a){Sx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&xh(t,n,!1),sn(e,t,a);s=t.stateNode,i0.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=dr(t,e.child,null,a),t.child=dr(t,null,l,a)):Le(e,t,l,a),t.memoizedState=s.state,i&&xh(t,n,!0),t.child}function kx(e){var t=e.stateNode;t.pendingContext?ph(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ph(e,t.context,!1),Du(e,t.containerInfo)}function Dh(e,t,n,s,i){return ur(),Cu(i),t.flags|=256,Le(e,t,n,s),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cx(e,t,n){var s=t.pendingProps,i=ae.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ae,i&1),e===null)return sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=No(o,s,0,null),e=ds(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dc(n),t.memoizedState=uc,e):Uu(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return a0(e,t,o,s,l,i,n);if(a){a=s.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=_n(i,c),s.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=_n(l,a):(a=ds(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?dc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=uc,s}return a=e.child,e=a.sibling,s=_n(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Uu(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,n,s){return s!==null&&Cu(s),dr(t,e.child,null,n),e=Uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a0(e,t,n,s,i,a,o){if(n)return t.flags&256?(t.flags&=-257,s=rl(Error(L(422))),ta(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,i=t.mode,s=No({mode:"visible",children:s.children},i,0,null),a=ds(a,i,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&dr(t,e.child,null,o),t.child.memoizedState=dc(o),t.memoizedState=uc,a);if(!(t.mode&1))return ta(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(L(419)),s=rl(a,s,void 0),ta(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ge||l){if(s=Ne,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,nn(e,i),kt(s,e,i,-1))}return Gu(),s=rl(Error(L(421))),ta(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=v0.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ze=Rn(i.nextSibling),Je=t,ie=!0,Nt=null,e!==null&&(at[ot++]=Yt,at[ot++]=qt,at[ot++]=fs,Yt=e.id,qt=e.overflow,fs=t),t=Uu(t,s.children),t.flags|=4096,t)}function Mh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),rc(e.return,t,n)}function il(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Px(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Le(e,t,s.children,n),s=ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ee(ae,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),il(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ha(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}il(t,!0,n,null,a);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function o0(e,t,n){switch(t.tag){case 3:kx(t),ur();break;case 5:Jp(t);break;case 1:Qe(t.type)&&Ba(t);break;case 4:Du(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;ee(Wa,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Cx(e,t,n):(ee(ae,ae.current&1),e=sn(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Px(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ae,ae.current),s)break;return null;case 22:case 23:return t.lanes=0,Nx(e,t,n)}return sn(e,t,n)}var Ex,hc,Tx,Rx;Ex=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hc=function(){};Tx=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,qn(It.current);var a=null;switch(n){case"input":i=_l(e,i),s=_l(e,s),a=[];break;case"select":i=ce({},i,{value:void 0}),s=ce({},s,{value:void 0}),a=[];break;case"textarea":i=Il(e,i),s=Il(e,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Va)}Vl(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ei.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ei.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Rx=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ar(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function l0(e,t,n){var s=t.pendingProps;switch(ku(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Qe(t.type)&&Ua(),Te(t),null;case 3:return s=t.stateNode,hr(),se(He),se(Me),_u(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(jc(Nt),Nt=null))),hc(e,t),Te(t),null;case 5:Mu(t);var i=qn(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)Tx(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(L(166));return Te(t),null}if(e=qn(It.current),Ji(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Ot]=t,s[ui]=a,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(i=0;i<Fr.length;i++)ne(Fr[i],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":zd(s,a),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ne("invalid",s);break;case"textarea":Wd(s,a),ne("invalid",s)}Vl(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),i=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),i=["children",""+l]):ei.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",s)}switch(n){case"input":Wi(s),$d(s,a,!0);break;case"textarea":Wi(s),Kd(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Va)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Ot]=t,e[ui]=s,Ex(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ul(n,s),n){case"dialog":ne("cancel",e),ne("close",e),i=s;break;case"iframe":case"object":case"embed":ne("load",e),i=s;break;case"video":case"audio":for(i=0;i<Fr.length;i++)ne(Fr[i],e);i=s;break;case"source":ne("error",e),i=s;break;case"img":case"image":case"link":ne("error",e),ne("load",e),i=s;break;case"details":ne("toggle",e),i=s;break;case"input":zd(e,s),i=_l(e,s),ne("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=ce({},s,{value:void 0}),ne("invalid",e);break;case"textarea":Wd(e,s),i=Il(e,s),ne("invalid",e);break;default:i=s}Vl(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?op(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ip(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ti(e,c):typeof c=="number"&&ti(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ei.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ne("scroll",e):c!=null&&uu(e,a,c,o))}switch(n){case"input":Wi(e),$d(e,s,!1);break;case"textarea":Wi(e),Kd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ln(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?$s(e,!!s.multiple,a,!1):s.defaultValue!=null&&$s(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Va)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Rx(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(L(166));if(n=qn(hi.current),qn(It.current),Ji(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ot]=t,(a=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Zi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ot]=t,t.stateNode=s}return Te(t),null;case 13:if(se(ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ze!==null&&t.mode&1&&!(t.flags&128))Qp(),ur(),t.flags|=98560,a=!1;else if(a=Ji(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(L(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(L(317));a[Ot]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),a=!1}else Nt!==null&&(jc(Nt),Nt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?je===0&&(je=3):Gu())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return hr(),hc(e,t),e===null&&li(t.stateNode.containerInfo),Te(t),null;case 10:return Tu(t.type._context),Te(t),null;case 17:return Qe(t.type)&&Ua(),Te(t),null;case 19:if(se(ae),a=t.memoizedState,a===null)return Te(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Ar(a,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ha(e),o!==null){for(t.flags|=128,Ar(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&fe()>fr&&(t.flags|=128,s=!0,Ar(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ha(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ie)return Te(t),null}else 2*fe()-a.renderingStartTime>fr&&n!==1073741824&&(t.flags|=128,s=!0,Ar(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fe(),t.sibling=null,n=ae.current,ee(ae,s?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Ku(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?qe&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function c0(e,t){switch(ku(t),t.tag){case 1:return Qe(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hr(),se(He),se(Me),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mu(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return hr(),null;case 10:return Tu(t.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var na=!1,Ae=!1,u0=typeof WeakSet=="function"?WeakSet:Set,U=null;function Ls(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(e,t,s)}else n.current=null}function mc(e,t,n){try{n()}catch(s){me(e,t,s)}}var _h=!1;function d0(e,t){if(Yl=La,e=Op(),Nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,m=e,d=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)d=m,m=g;for(;;){if(m===e)break t;if(d===n&&++u===i&&(l=o),d===a&&++h===s&&(c=o),(g=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:e,selectionRange:n},La=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,f=t.stateNode,x=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:vt(t.type,y),S);f.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return v=_h,_h=!1,v}function Hr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&mc(t,n,a)}i=i.next}while(i!==s)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function fc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ax(e){var t=e.alternate;t!==null&&(e.alternate=null,Ax(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[ui],delete t[ec],delete t[Hj],delete t[Qj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dx(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Va));else if(s!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}function xc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}var Se=null,wt=!1;function on(e,t,n){for(n=n.child;n!==null;)Mx(e,t,n),n=n.sibling}function Mx(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:Ae||Ls(n,t);case 6:var s=Se,i=wt;Se=null,on(e,t,n),Se=s,wt=i,Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?Zo(e.parentNode,n):e.nodeType===1&&Zo(e,n),ii(e)):Zo(Se,n.stateNode));break;case 4:s=Se,i=wt,Se=n.stateNode.containerInfo,wt=!0,on(e,t,n),Se=s,wt=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&mc(n,t,o),i=i.next}while(i!==s)}on(e,t,n);break;case 1:if(!Ae&&(Ls(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){me(n,t,l)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Ae=(s=Ae)||n.memoizedState!==null,on(e,t,n),Ae=s):on(e,t,n);break;default:on(e,t,n)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u0),t.forEach(function(s){var i=j0.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,wt=!1;break e;case 3:Se=l.stateNode.containerInfo,wt=!0;break e;case 4:Se=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Se===null)throw Error(L(160));Mx(a,o,i),Se=null,wt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_x(t,e),t=t.sibling}function _x(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Et(e),s&4){try{Hr(3,e,e.return),bo(3,e)}catch(y){me(e,e.return,y)}try{Hr(5,e,e.return)}catch(y){me(e,e.return,y)}}break;case 1:xt(t,e),Et(e),s&512&&n!==null&&Ls(n,n.return);break;case 5:if(xt(t,e),Et(e),s&512&&n!==null&&Ls(n,n.return),e.flags&32){var i=e.stateNode;try{ti(i,"")}catch(y){me(e,e.return,y)}}if(s&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&np(i,a),Ul(l,o);var u=Ul(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?op(i,m):h==="dangerouslySetInnerHTML"?ip(i,m):h==="children"?ti(i,m):uu(i,h,m,u)}switch(l){case"input":Ol(i,a);break;case"textarea":sp(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?$s(i,!!a.multiple,g,!1):d!==!!a.multiple&&(a.defaultValue!=null?$s(i,!!a.multiple,a.defaultValue,!0):$s(i,!!a.multiple,a.multiple?[]:"",!1))}i[ui]=a}catch(y){me(e,e.return,y)}}break;case 6:if(xt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){me(e,e.return,y)}}break;case 3:if(xt(t,e),Et(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(y){me(e,e.return,y)}break;case 4:xt(t,e),Et(e);break;case 13:xt(t,e),Et(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($u=fe())),s&4&&Lh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||h,xt(t,e),Ae=u):xt(t,e),Et(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(U=e,h=e.child;h!==null;){for(m=U=h;U!==null;){switch(d=U,g=d.child,d.tag){case 0:case 11:case 14:case 15:Hr(4,d,d.return);break;case 1:Ls(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){s=d,n=d.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){me(s,n,y)}}break;case 5:Ls(d,d.return);break;case 22:if(d.memoizedState!==null){Fh(m);continue}}g!==null?(g.return=d,U=g):Fh(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ap("display",o))}catch(y){me(e,e.return,y)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){me(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(t,e),Et(e),s&4&&Lh(e);break;case 21:break;default:xt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dx(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ti(i,""),s.flags&=-33);var a=Oh(e);xc(e,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Oh(e);pc(e,l,o);break;default:throw Error(L(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h0(e,t,n){U=e,Ox(e)}function Ox(e,t,n){for(var s=(e.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||na;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ae;l=na;var u=Ae;if(na=o,(Ae=c)&&!u)for(U=i;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?Vh(i):c!==null?(c.return=o,U=c):Vh(i);for(;a!==null;)U=a,Ox(a),a=a.sibling;U=i,na=l,Ae=u}Ih(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):Ih(e)}}function Ih(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||bo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ae)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&bh(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ii(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ae||t.flags&512&&fc(t)}catch(d){me(t,t.return,d)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Fh(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Vh(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bo(4,t)}catch(c){me(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(c){me(t,i,c)}}var a=t.return;try{fc(t)}catch(c){me(t,a,c)}break;case 5:var o=t.return;try{fc(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var m0=Math.ceil,Ya=an.ReactCurrentDispatcher,Bu=an.ReactCurrentOwner,ut=an.ReactCurrentBatchConfig,q=0,Ne=null,xe=null,Ce=0,qe=0,Is=Bn(0),je=0,xi=null,xs=0,wo=0,zu=0,Qr=null,Ke=null,$u=0,fr=1/0,Wt=null,qa=!1,gc=null,Dn=null,sa=!1,kn=null,Za=0,Xr=0,yc=null,ba=-1,wa=0;function Ue(){return q&6?fe():ba!==-1?ba:ba=fe()}function Mn(e){return e.mode&1?q&2&&Ce!==0?Ce&-Ce:Yj.transition!==null?(wa===0&&(wa=vp()),wa):(e=J,e!==0||(e=window.event,e=e===void 0?16:Cp(e.type)),e):1}function kt(e,t,n,s){if(50<Xr)throw Xr=0,yc=null,Error(L(185));Ti(e,n,s),(!(q&2)||e!==Ne)&&(e===Ne&&(!(q&2)&&(wo|=n),je===4&&fn(e,Ce)),Xe(e,s),n===1&&q===0&&!(t.mode&1)&&(fr=fe()+500,yo&&zn()))}function Xe(e,t){var n=e.callbackNode;Yv(e,t);var s=Oa(e,e===Ne?Ce:0);if(s===0)n!==null&&Qd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Qd(n),t===1)e.tag===0?Xj(Uh.bind(null,e)):Kp(Uh.bind(null,e)),Kj(function(){!(q&6)&&zn()}),n=null;else{switch(jp(s)){case 1:n=pu;break;case 4:n=gp;break;case 16:n=_a;break;case 536870912:n=yp;break;default:n=_a}n=$x(n,Lx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lx(e,t){if(ba=-1,wa=0,q&6)throw Error(L(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=Oa(e,e===Ne?Ce:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ja(e,s);else{t=s;var i=q;q|=2;var a=Fx();(Ne!==e||Ce!==t)&&(Wt=null,fr=fe()+500,us(e,t));do try{x0();break}catch(l){Ix(e,l)}while(!0);Eu(),Ya.current=a,q=i,xe!==null?t=0:(Ne=null,Ce=0,t=je)}if(t!==0){if(t===2&&(i=Kl(e),i!==0&&(s=i,t=vc(e,i))),t===1)throw n=xi,us(e,0),fn(e,s),Xe(e,fe()),n;if(t===6)fn(e,s);else{if(i=e.current.alternate,!(s&30)&&!f0(i)&&(t=Ja(e,s),t===2&&(a=Kl(e),a!==0&&(s=a,t=vc(e,a))),t===1))throw n=xi,us(e,0),fn(e,s),Xe(e,fe()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(L(345));case 2:Hn(e,Ke,Wt);break;case 3:if(fn(e,s),(s&130023424)===s&&(t=$u+500-fe(),10<t)){if(Oa(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){Ue(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jl(Hn.bind(null,e,Ke,Wt),t);break}Hn(e,Ke,Wt);break;case 4:if(fn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-St(s);a=1<<o,o=t[o],o>i&&(i=o),s&=~a}if(s=i,s=fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*m0(s/1960))-s,10<s){e.timeoutHandle=Jl(Hn.bind(null,e,Ke,Wt),s);break}Hn(e,Ke,Wt);break;case 5:Hn(e,Ke,Wt);break;default:throw Error(L(329))}}}return Xe(e,fe()),e.callbackNode===n?Lx.bind(null,e):null}function vc(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(us(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&jc(t)),e}function jc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function f0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!Pt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~zu,t&=~wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),s=1<<n;e[n]=-1,t&=~s}}function Uh(e){if(q&6)throw Error(L(327));Qs();var t=Oa(e,0);if(!(t&1))return Xe(e,fe()),null;var n=Ja(e,t);if(e.tag!==0&&n===2){var s=Kl(e);s!==0&&(t=s,n=vc(e,s))}if(n===1)throw n=xi,us(e,0),fn(e,t),Xe(e,fe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Ke,Wt),Xe(e,fe()),null}function Wu(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(fr=fe()+500,yo&&zn())}}function gs(e){kn!==null&&kn.tag===0&&!(q&6)&&Qs();var t=q;q|=1;var n=ut.transition,s=J;try{if(ut.transition=null,J=1,e)return e()}finally{J=s,ut.transition=n,q=t,!(q&6)&&zn()}}function Ku(){qe=Is.current,se(Is)}function us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wj(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(ku(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ua();break;case 3:hr(),se(He),se(Me),_u();break;case 5:Mu(s);break;case 4:hr();break;case 13:se(ae);break;case 19:se(ae);break;case 10:Tu(s.type._context);break;case 22:case 23:Ku()}n=n.return}if(Ne=e,xe=e=_n(e.current,null),Ce=qe=t,je=0,xi=null,zu=wo=xs=0,Ke=Qr=null,Yn!==null){for(t=0;t<Yn.length;t++)if(n=Yn[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}n.pending=s}Yn=null}return e}function Ix(e,t){do{var n=xe;try{if(Eu(),ya.current=Xa,Qa){for(var s=le.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Qa=!1}if(ps=0,we=ye=le=null,Gr=!1,mi=0,Bu.current=null,n===null||n.return===null){je=1,xi=t,xe=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Ph(o);if(g!==null){g.flags&=-257,Eh(g,o,l,a,t),g.mode&1&&Ch(a,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Ch(a,u,t),Gu();break e}c=Error(L(426))}}else if(ie&&l.mode&1){var S=Ph(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Eh(S,o,l,a,t),Cu(mr(c,l));break e}}a=c=mr(c,l),je!==4&&(je=2),Qr===null?Qr=[a]:Qr.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=jx(a,c,t);jh(a,f);break e;case 1:l=c;var x=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Dn===null||!Dn.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=bx(a,l,t);jh(a,w);break e}}a=a.return}while(a!==null)}Ux(n)}catch(E){t=E,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Fx(){var e=Ya.current;return Ya.current=Xa,e===null?Xa:e}function Gu(){(je===0||je===3||je===2)&&(je=4),Ne===null||!(xs&268435455)&&!(wo&268435455)||fn(Ne,Ce)}function Ja(e,t){var n=q;q|=2;var s=Fx();(Ne!==e||Ce!==t)&&(Wt=null,us(e,t));do try{p0();break}catch(i){Ix(e,i)}while(!0);if(Eu(),q=n,Ya.current=s,xe!==null)throw Error(L(261));return Ne=null,Ce=0,je}function p0(){for(;xe!==null;)Vx(xe)}function x0(){for(;xe!==null&&!Bv();)Vx(xe)}function Vx(e){var t=zx(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Ux(e):xe=t,Bu.current=null}function Ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=c0(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,xe=null;return}}else if(n=l0(n,t,qe),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);je===0&&(je=5)}function Hn(e,t,n){var s=J,i=ut.transition;try{ut.transition=null,J=1,g0(e,t,n,s)}finally{ut.transition=i,J=s}return null}function g0(e,t,n,s){do Qs();while(kn!==null);if(q&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(qv(e,a),e===Ne&&(xe=Ne=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,$x(_a,function(){return Qs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ut.transition,ut.transition=null;var o=J;J=1;var l=q;q|=4,Bu.current=null,d0(e,n),_x(n,e),Ij(ql),La=!!Yl,ql=Yl=null,e.current=n,h0(n),zv(),q=l,J=o,ut.transition=a}else e.current=n;if(sa&&(sa=!1,kn=e,Za=i),a=e.pendingLanes,a===0&&(Dn=null),Kv(n.stateNode),Xe(e,fe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(qa)throw qa=!1,e=gc,gc=null,e;return Za&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===yc?Xr++:(Xr=0,yc=e):Xr=0,zn(),null}function Qs(){if(kn!==null){var e=jp(Za),t=ut.transition,n=J;try{if(ut.transition=null,J=16>e?16:e,kn===null)var s=!1;else{if(e=kn,kn=null,Za=0,q&6)throw Error(L(331));var i=q;for(q|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var h=U;switch(h.tag){case 0:case 11:case 15:Hr(8,h,a)}var m=h.child;if(m!==null)m.return=h,U=m;else for(;U!==null;){h=U;var d=h.sibling,g=h.return;if(Ax(h),h===u){U=null;break}if(d!==null){d.return=g,U=d;break}U=g}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hr(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,U=f;break e}U=a.return}}var x=e.current;for(U=x;U!==null;){o=U;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,U=p;else e:for(o=x;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bo(9,l)}}catch(E){me(l,l.return,E)}if(l===o){U=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,U=w;break e}U=l.return}}if(q=i,zn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(mo,e)}catch{}s=!0}return s}finally{J=n,ut.transition=t}}return!1}function Bh(e,t,n){t=mr(n,t),t=jx(e,t,1),e=An(e,t,1),t=Ue(),e!==null&&(Ti(e,1,t),Xe(e,t))}function me(e,t,n){if(e.tag===3)Bh(e,e,n);else for(;t!==null;){if(t.tag===3){Bh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=mr(n,e),e=bx(t,e,1),t=An(t,e,1),e=Ue(),t!==null&&(Ti(t,1,e),Xe(t,e));break}}t=t.return}}function y0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Ce&n)===n&&(je===4||je===3&&(Ce&130023424)===Ce&&500>fe()-$u?us(e,0):zu|=n),Xe(e,t)}function Bx(e,t){t===0&&(e.mode&1?(t=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):t=1);var n=Ue();e=nn(e,t),e!==null&&(Ti(e,t,n),Xe(e,n))}function v0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bx(e,n)}function j0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(t),Bx(e,n)}var zx;zx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,o0(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ie&&t.flags&1048576&&Gp(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ja(e,t),e=t.pendingProps;var i=cr(t,Me.current);Hs(t,n),i=Lu(null,t,s,e,i,n);var a=Iu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(s)?(a=!0,Ba(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Au(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,ac(t,s,e,n),t=cc(null,t,s,!0,a,n)):(t.tag=0,ie&&a&&Su(t),Le(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=w0(s),e=vt(s,e),i){case 0:t=lc(null,t,s,e,n);break e;case 1:t=Ah(null,t,s,e,n);break e;case 11:t=Th(null,t,s,e,n);break e;case 14:t=Rh(null,t,s,vt(s.type,e),n);break e}throw Error(L(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:vt(s,i),lc(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:vt(s,i),Ah(e,t,s,i,n);case 3:e:{if(kx(t),e===null)throw Error(L(387));s=t.pendingProps,a=t.memoizedState,i=a.element,Zp(e,t),Ga(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=mr(Error(L(423)),t),t=Dh(e,t,s,n,i);break e}else if(s!==i){i=mr(Error(L(424)),t),t=Dh(e,t,s,n,i);break e}else for(Ze=Rn(t.stateNode.containerInfo.firstChild),Je=t,ie=!0,Nt=null,n=Yp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===i){t=sn(e,t,n);break e}Le(e,t,s,n)}t=t.child}return t;case 5:return Jp(t),e===null&&sc(t),s=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Zl(s,i)?o=null:a!==null&&Zl(s,a)&&(t.flags|=32),Sx(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&sc(t),null;case 13:return Cx(e,t,n);case 4:return Du(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=dr(t,null,s,n):Le(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:vt(s,i),Th(e,t,s,i,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ee(Wa,s._currentValue),s._currentValue=o,a!==null)if(Pt(a.value,o)){if(a.children===i.children&&!He.current){t=sn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Zt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rc(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rc(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Le(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Hs(t,n),i=ht(i),s=s(i),t.flags|=1,Le(e,t,s,n),t.child;case 14:return s=t.type,i=vt(s,t.pendingProps),i=vt(s.type,i),Rh(e,t,s,i,n);case 15:return wx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:vt(s,i),ja(e,t),t.tag=1,Qe(s)?(e=!0,Ba(t)):e=!1,Hs(t,n),vx(t,s,i),ac(t,s,i,n),cc(null,t,s,!0,e,n);case 19:return Px(e,t,n);case 22:return Nx(e,t,n)}throw Error(L(156,t.tag))};function $x(e,t){return xp(e,t)}function b0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new b0(e,t,n,s)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w0(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hu)return 11;if(e===mu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Na(e,t,n,s,i,a){var o=2;if(s=e,typeof e=="function")Hu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ps:return ds(n.children,i,a,t);case du:o=8,i|=8;break;case Rl:return e=lt(12,n,t,i|2),e.elementType=Rl,e.lanes=a,e;case Al:return e=lt(13,n,t,i),e.elementType=Al,e.lanes=a,e;case Dl:return e=lt(19,n,t,i),e.elementType=Dl,e.lanes=a,e;case Jf:return No(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qf:o=10;break e;case Zf:o=9;break e;case hu:o=11;break e;case mu:o=14;break e;case dn:o=16,s=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=lt(o,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function ds(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function No(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Jf,e.lanes=n,e.stateNode={isHidden:!1},e}function al(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function ol(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N0(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qu(e,t,n,s,i,a,o,l,c){return e=new N0(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=lt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(a),e}function S0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Wx(e){if(!e)return In;e=e._reactInternals;e:{if(bs(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Qe(n))return Wp(e,n,t)}return t}function Kx(e,t,n,s,i,a,o,l,c){return e=Qu(n,s,!0,e,i,a,o,l,c),e.context=Wx(null),n=e.current,s=Ue(),i=Mn(n),a=Zt(s,i),a.callback=t??null,An(n,a,i),e.current.lanes=i,Ti(e,i,s),Xe(e,s),e}function So(e,t,n,s){var i=t.current,a=Ue(),o=Mn(i);return n=Wx(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=An(i,t,o),e!==null&&(kt(e,i,o,a),ga(e,i,o)),o}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xu(e,t){zh(e,t),(e=e.alternate)&&zh(e,t)}function k0(){return null}var Gx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}ko.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));So(e,t,null,null)};ko.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gs(function(){So(null,e,null,null)}),t[tn]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=Np();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&kp(e)}};function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $h(){}function C0(e,t,n,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=eo(o);a.call(u)}}var o=Kx(t,s,e,0,null,!1,!1,"",$h);return e._reactRootContainer=o,e[tn]=o.current,li(e.nodeType===8?e.parentNode:e),gs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var l=s;s=function(){var u=eo(c);l.call(u)}}var c=Qu(e,0,!1,null,null,!1,!1,"",$h);return e._reactRootContainer=c,e[tn]=c.current,li(e.nodeType===8?e.parentNode:e),gs(function(){So(t,c,n,s)}),c}function Po(e,t,n,s,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=eo(o);l.call(c)}}So(t,o,e,i)}else o=C0(n,t,e,i,s);return eo(o)}bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(xu(t,n|1),Xe(t,fe()),!(q&6)&&(fr=fe()+500,zn()))}break;case 13:gs(function(){var s=nn(e,1);if(s!==null){var i=Ue();kt(s,e,1,i)}}),Xu(e,1)}};gu=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=Ue();kt(t,e,134217728,n)}Xu(e,134217728)}};wp=function(e){if(e.tag===13){var t=Mn(e),n=nn(e,t);if(n!==null){var s=Ue();kt(n,e,t,s)}Xu(e,t)}};Np=function(){return J};Sp=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};zl=function(e,t,n){switch(t){case"input":if(Ol(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=go(s);if(!i)throw Error(L(90));tp(s),Ol(s,i)}}}break;case"textarea":sp(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};up=Wu;dp=gs;var P0={usingClientEntryPoint:!1,Events:[Ai,As,go,lp,cp,Wu]},Dr={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{mo=ra.inject(E0),Lt=ra}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qu(t))throw Error(L(200));return S0(e,t,null,n)};nt.createRoot=function(e,t){if(!qu(e))throw Error(L(299));var n=!1,s="",i=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qu(e,1,!1,null,null,n,!1,s,i),e[tn]=t.current,li(e.nodeType===8?e.parentNode:e),new Yu(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return gs(e)};nt.hydrate=function(e,t,n){if(!Co(t))throw Error(L(200));return Po(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!qu(e))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,i=!1,a="",o=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Kx(t,null,e,1,n??null,i,!1,a,o),e[tn]=t.current,li(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ko(t)};nt.render=function(e,t,n){if(!Co(t))throw Error(L(200));return Po(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Co(e))throw Error(L(40));return e._reactRootContainer?(gs(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};nt.unstable_batchedUpdates=Wu;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Co(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Po(e,t,n,!1,s)};nt.version="18.3.1-next-f1338f8080-20240426";function Hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hx)}catch(e){console.error(e)}}Hx(),Hf.exports=nt;var T0=Hf.exports,Wh=T0;El.createRoot=Wh.createRoot,El.hydrateRoot=Wh.hydrateRoot;var jr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},R0={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},pn,su,Sf,A0=(Sf=class{constructor(){$(this,pn,R0);$(this,su,!1)}setTimeoutProvider(e){F(this,pn,e)}setTimeout(e,t){return N(this,pn).setTimeout(e,t)}clearTimeout(e){N(this,pn).clearTimeout(e)}setInterval(e,t){return N(this,pn).setInterval(e,t)}clearInterval(e){N(this,pn).clearInterval(e)}},pn=new WeakMap,su=new WeakMap,Sf),Zn=new A0;function D0(e){setTimeout(e,0)}var ys=typeof window>"u"||"Deno"in globalThis;function Ie(){}function M0(e,t){return typeof e=="function"?e(t):e}function bc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function On(e,t){return typeof e=="function"?e(t):e}function it(e,t){return typeof e=="function"?e(t):e}function Kh(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Zu(o,t.options))return!1}else if(!gi(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function Gh(e,t){const{exact:n,status:s,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(vs(t.options.mutationKey)!==vs(a))return!1}else if(!gi(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Zu(e,t){return((t==null?void 0:t.queryKeyHashFn)||vs)(e)}function vs(e){return JSON.stringify(e,(t,n)=>wc(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gi(e[n],t[n])):!1}var _0=Object.prototype.hasOwnProperty;function Xx(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=Hh(e)&&Hh(t);if(!s&&!(wc(e)&&wc(t)))return t;const a=(s?e:Object.keys(e)).length,o=s?t:Object.keys(t),l=o.length,c=s?new Array(l):{};let u=0;for(let h=0;h<l;h++){const m=s?h:o[h],d=e[m],g=t[m];if(d===g){c[m]=d,(s?h<a:_0.call(e,m))&&u++;continue}if(d===null||g===null||typeof d!="object"||typeof g!="object"){c[m]=g;continue}const v=Xx(d,g,n+1);c[m]=v,v===d&&u++}return a===l&&u===a?e:c}function to(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Hh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wc(e){if(!Qh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Qh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Qh(e){return Object.prototype.toString.call(e)==="[object Object]"}function O0(e){return new Promise(t=>{Zn.setTimeout(t,e)})}function Nc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Xx(e,t):t}function L0(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function I0(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Ju=Symbol();function Yx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ju?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ed(e,t){return typeof e=="function"?e(...t):!!e}function F0(e,t,n){let s=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),s||(s=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var ts,xn,Ys,kf,V0=(kf=class extends jr{constructor(){super();$(this,ts);$(this,xn);$(this,Ys);F(this,Ys,t=>{if(!ys&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,xn)||this.setEventListener(N(this,Ys))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,xn))==null||t.call(this),F(this,xn,void 0))}setEventListener(t){var n;F(this,Ys,t),(n=N(this,xn))==null||n.call(this),F(this,xn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){N(this,ts)!==t&&(F(this,ts,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,ts)=="boolean"?N(this,ts):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ts=new WeakMap,xn=new WeakMap,Ys=new WeakMap,kf),td=new V0;function Sc(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}var U0=D0;function B0(){let e=[],t=0,n=l=>{l()},s=l=>{l()},i=U0;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var ve=B0(),qs,gn,Zs,Cf,z0=(Cf=class extends jr{constructor(){super();$(this,qs,!0);$(this,gn);$(this,Zs);F(this,Zs,t=>{if(!ys&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){N(this,gn)||this.setEventListener(N(this,Zs))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,gn))==null||t.call(this),F(this,gn,void 0))}setEventListener(t){var n;F(this,Zs,t),(n=N(this,gn))==null||n.call(this),F(this,gn,t(this.setOnline.bind(this)))}setOnline(t){N(this,qs)!==t&&(F(this,qs,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return N(this,qs)}},qs=new WeakMap,gn=new WeakMap,Zs=new WeakMap,Cf),no=new z0;function $0(e){return Math.min(1e3*2**e,3e4)}function qx(e){return(e??"online")==="online"?no.isOnline():!0}var kc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zx(e){let t=!1,n=0,s;const i=Sc(),a=()=>i.status!=="pending",o=y=>{var S;if(!a()){const f=new kc(y);d(f),(S=e.onCancel)==null||S.call(e,f)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>td.isFocused()&&(e.networkMode==="always"||no.isOnline())&&e.canRun(),h=()=>qx(e.networkMode)&&e.canRun(),m=y=>{a()||(s==null||s(),i.resolve(y))},d=y=>{a()||(s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var S;s=f=>{(a()||u())&&y(f)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;s=void 0,a()||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(a())return;let y;const S=n===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(f){y=Promise.reject(f)}Promise.resolve(y).then(m).catch(f=>{var k;if(a())return;const x=e.retry??(ys?0:3),p=e.retryDelay??$0,w=typeof p=="function"?p(n,f):p,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,f);if(t||!E){d(f);return}n++,(k=e.onFail)==null||k.call(e,n,f),O0(w).then(()=>u()?void 0:g()).then(()=>{t?d(f):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():g().then(v),i)}}var ns,Pf,Jx=(Pf=class{constructor(){$(this,ns)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bc(this.gcTime)&&F(this,ns,Zn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ys?1/0:5*60*1e3))}clearGcTimeout(){N(this,ns)&&(Zn.clearTimeout(N(this,ns)),F(this,ns,void 0))}},ns=new WeakMap,Pf),ss,Js,rt,rs,be,Ni,is,jt,$t,Ef,W0=(Ef=class extends Jx{constructor(t){super();$(this,jt);$(this,ss);$(this,Js);$(this,rt);$(this,rs);$(this,be);$(this,Ni);$(this,is);F(this,is,!1),F(this,Ni,t.defaultOptions),this.setOptions(t.options),this.observers=[],F(this,rs,t.client),F(this,rt,N(this,rs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,F(this,ss,Yh(this.options)),this.state=t.state??N(this,ss),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,be))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,Ni),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Yh(this.options);n.data!==void 0&&(this.setState(Xh(n.data,n.dataUpdatedAt)),F(this,ss,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,rt).remove(this)}setData(t,n){const s=Nc(this.state.data,t,this.options);return H(this,jt,$t).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){H(this,jt,$t).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=N(this,be))==null?void 0:s.promise;return(i=N(this,be))==null||i.cancel(t),n?n.then(Ie).catch(Ie):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ss))}isActive(){return this.observers.some(t=>it(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ju||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>On(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,be))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,be))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,rt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,be)&&(N(this,is)?N(this,be).cancel({revert:!0}):N(this,be).cancelRetry()),this.scheduleGc()),N(this,rt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,jt,$t).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,h,m,d,g,v,y,S,f,x,p;if(this.state.fetchStatus!=="idle"&&((c=N(this,be))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,be))return N(this,be).continueRetry(),N(this,be).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(E=>E.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(F(this,is,!0),s.signal)})},a=()=>{const w=Yx(this.options,n),k=(()=>{const T={client:N(this,rs),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return F(this,is,!1),this.options.persister?this.options.persister(w,k,this):w(k)},l=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,rs),state:this.state,fetchFn:a};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),F(this,Js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&H(this,jt,$t).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),F(this,be,Zx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof kc&&w.revert&&this.setState({...N(this,Js),fetchStatus:"idle"}),s.abort()},onFail:(w,E)=>{H(this,jt,$t).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{H(this,jt,$t).call(this,{type:"pause"})},onContinue:()=>{H(this,jt,$t).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await N(this,be).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(g=(d=N(this,rt).config).onSuccess)==null||g.call(d,w,this),(y=(v=N(this,rt).config).onSettled)==null||y.call(v,w,this.state.error,this),w}catch(w){if(w instanceof kc){if(w.silent)return N(this,be).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw H(this,jt,$t).call(this,{type:"error",error:w}),(f=(S=N(this,rt).config).onError)==null||f.call(S,w,this),(p=(x=N(this,rt).config).onSettled)==null||p.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},ss=new WeakMap,Js=new WeakMap,rt=new WeakMap,rs=new WeakMap,be=new WeakMap,Ni=new WeakMap,is=new WeakMap,jt=new WeakSet,$t=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eg(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,...Xh(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return F(this,Js,t.manual?i:void 0),i;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),ve.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),N(this,rt).notify({query:this,type:"updated",action:t})})},Ef);function eg(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Xh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Yh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $e,X,Si,Oe,as,er,Gt,yn,ki,tr,nr,os,ls,vn,sr,Z,Vr,Cc,Pc,Ec,Tc,Rc,Ac,Dc,tg,Tf,K0=(Tf=class extends jr{constructor(t,n){super();$(this,Z);$(this,$e);$(this,X);$(this,Si);$(this,Oe);$(this,as);$(this,er);$(this,Gt);$(this,yn);$(this,ki);$(this,tr);$(this,nr);$(this,os);$(this,ls);$(this,vn);$(this,sr,new Set);this.options=n,F(this,$e,t),F(this,yn,null),F(this,Gt,Sc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,X).addObserver(this),qh(N(this,X),this.options)?H(this,Z,Vr).call(this):this.updateResult(),H(this,Z,Tc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mc(N(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mc(N(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,Z,Rc).call(this),H(this,Z,Ac).call(this),N(this,X).removeObserver(this)}setOptions(t){const n=this.options,s=N(this,X);if(this.options=N(this,$e).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof it(this.options.enabled,N(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,Z,Dc).call(this),N(this,X).setOptions(this.options),n._defaulted&&!to(this.options,n)&&N(this,$e).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,X),observer:this});const i=this.hasListeners();i&&Zh(N(this,X),s,this.options,n)&&H(this,Z,Vr).call(this),this.updateResult(),i&&(N(this,X)!==s||it(this.options.enabled,N(this,X))!==it(n.enabled,N(this,X))||On(this.options.staleTime,N(this,X))!==On(n.staleTime,N(this,X)))&&H(this,Z,Cc).call(this);const a=H(this,Z,Pc).call(this);i&&(N(this,X)!==s||it(this.options.enabled,N(this,X))!==it(n.enabled,N(this,X))||a!==N(this,vn))&&H(this,Z,Ec).call(this,a)}getOptimisticResult(t){const n=N(this,$e).getQueryCache().build(N(this,$e),t),s=this.createResult(n,t);return H0(this,s)&&(F(this,Oe,s),F(this,er,this.options),F(this,as,N(this,X).state)),s}getCurrentResult(){return N(this,Oe)}trackResult(t,n){return new Proxy(t,{get:(s,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,Gt).status==="pending"&&N(this,Gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(t){N(this,sr).add(t)}getCurrentQuery(){return N(this,X)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=N(this,$e).defaultQueryOptions(t),s=N(this,$e).getQueryCache().build(N(this,$e),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return H(this,Z,Vr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Oe)))}createResult(t,n){var P;const s=N(this,X),i=this.options,a=N(this,Oe),o=N(this,as),l=N(this,er),u=t!==s?t.state:N(this,Si),{state:h}=t;let m={...h},d=!1,g;if(n._optimisticResults){const R=this.hasListeners(),_=!R&&qh(t,n),V=R&&Zh(t,s,n,i);(_||V)&&(m={...m,...eg(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:S}=m;g=m.data;let f=!1;if(n.placeholderData!==void 0&&g===void 0&&S==="pending"){let R;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=a.data,f=!0):R=typeof n.placeholderData=="function"?n.placeholderData((P=N(this,nr))==null?void 0:P.state.data,N(this,nr)):n.placeholderData,R!==void 0&&(S="success",g=Nc(a==null?void 0:a.data,R,n),d=!0)}if(n.select&&g!==void 0&&!f)if(a&&g===(o==null?void 0:o.data)&&n.select===N(this,ki))g=N(this,tr);else try{F(this,ki,n.select),g=n.select(g),g=Nc(a==null?void 0:a.data,g,n),F(this,tr,g),F(this,yn,null)}catch(R){F(this,yn,R)}N(this,yn)&&(v=N(this,yn),g=N(this,tr),y=Date.now(),S="error");const x=m.fetchStatus==="fetching",p=S==="pending",w=S==="error",E=p&&x,k=g!==void 0,b={status:S,fetchStatus:m.fetchStatus,isPending:p,isSuccess:S==="success",isError:w,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:w&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:w&&k,isStale:nd(t,n),refetch:this.refetch,promise:N(this,Gt),isEnabled:it(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=b.data!==void 0,_=b.status==="error"&&!R,V=D=>{_?D.reject(b.error):R&&D.resolve(b.data)},W=()=>{const D=F(this,Gt,b.promise=Sc());V(D)},G=N(this,Gt);switch(G.status){case"pending":t.queryHash===s.queryHash&&V(G);break;case"fulfilled":(_||b.data!==G.value)&&W();break;case"rejected":(!_||b.error!==G.reason)&&W();break}}return b}updateResult(){const t=N(this,Oe),n=this.createResult(N(this,X),this.options);if(F(this,as,N(this,X).state),F(this,er,this.options),N(this,as).data!==void 0&&F(this,nr,N(this,X)),to(n,t))return;F(this,Oe,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!N(this,sr).size)return!0;const o=new Set(a??N(this,sr));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Oe)).some(l=>{const c=l;return N(this,Oe)[c]!==t[c]&&o.has(c)})};H(this,Z,tg).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,Z,Tc).call(this)}},$e=new WeakMap,X=new WeakMap,Si=new WeakMap,Oe=new WeakMap,as=new WeakMap,er=new WeakMap,Gt=new WeakMap,yn=new WeakMap,ki=new WeakMap,tr=new WeakMap,nr=new WeakMap,os=new WeakMap,ls=new WeakMap,vn=new WeakMap,sr=new WeakMap,Z=new WeakSet,Vr=function(t){H(this,Z,Dc).call(this);let n=N(this,X).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ie)),n},Cc=function(){H(this,Z,Rc).call(this);const t=On(this.options.staleTime,N(this,X));if(ys||N(this,Oe).isStale||!bc(t))return;const s=Qx(N(this,Oe).dataUpdatedAt,t)+1;F(this,os,Zn.setTimeout(()=>{N(this,Oe).isStale||this.updateResult()},s))},Pc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,X)):this.options.refetchInterval)??!1},Ec=function(t){H(this,Z,Ac).call(this),F(this,vn,t),!(ys||it(this.options.enabled,N(this,X))===!1||!bc(N(this,vn))||N(this,vn)===0)&&F(this,ls,Zn.setInterval(()=>{(this.options.refetchIntervalInBackground||td.isFocused())&&H(this,Z,Vr).call(this)},N(this,vn)))},Tc=function(){H(this,Z,Cc).call(this),H(this,Z,Ec).call(this,H(this,Z,Pc).call(this))},Rc=function(){N(this,os)&&(Zn.clearTimeout(N(this,os)),F(this,os,void 0))},Ac=function(){N(this,ls)&&(Zn.clearInterval(N(this,ls)),F(this,ls,void 0))},Dc=function(){const t=N(this,$e).getQueryCache().build(N(this,$e),this.options);if(t===N(this,X))return;const n=N(this,X);F(this,X,t),F(this,Si,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tg=function(t){ve.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(N(this,Oe))}),N(this,$e).getQueryCache().notify({query:N(this,X),type:"observerResultsUpdated"})})},Tf);function G0(e,t){return it(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qh(e,t){return G0(e,t)||e.state.data!==void 0&&Mc(e,t,t.refetchOnMount)}function Mc(e,t,n){if(it(t.enabled,e)!==!1&&On(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&nd(e,t)}return!1}function Zh(e,t,n,s){return(e!==t||it(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nd(e,n)}function nd(e,t){return it(t.enabled,e)!==!1&&e.isStaleByTime(On(t.staleTime,e))}function H0(e,t){return!to(e.getCurrentResult(),t)}function Jh(e){return{onFetch:(t,n)=>{var h,m,d,g,v;const s=t.options,i=(d=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:d.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const S=p=>{F0(p,()=>t.signal,()=>y=!0)},f=Yx(t.options,t.fetchOptions),x=async(p,w,E)=>{if(y)return Promise.reject();if(w==null&&p.pages.length)return Promise.resolve(p);const T=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:w,direction:E?"backward":"forward",meta:t.options.meta};return S(_),_})(),b=await f(T),{maxPages:P}=t.options,R=E?I0:L0;return{pages:R(p.pages,b,P),pageParams:R(p.pageParams,w,P)}};if(i&&a.length){const p=i==="backward",w=p?Q0:em,E={pages:a,pageParams:o},k=w(s,E);l=await x(E,k,p)}else{const p=e??a.length;do{const w=c===0?o[0]??s.initialPageParam:em(s,l);if(c>0&&w==null)break;l=await x(l,w),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function em(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Q0(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Ci,Dt,Re,cs,Mt,ln,Rf,X0=(Rf=class extends Jx{constructor(t){super();$(this,Mt);$(this,Ci);$(this,Dt);$(this,Re);$(this,cs);F(this,Ci,t.client),this.mutationId=t.mutationId,F(this,Re,t.mutationCache),F(this,Dt,[]),this.state=t.state||ng(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Dt).includes(t)||(N(this,Dt).push(t),this.clearGcTimeout(),N(this,Re).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){F(this,Dt,N(this,Dt).filter(n=>n!==t)),this.scheduleGc(),N(this,Re).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Dt).length||(this.state.status==="pending"?this.scheduleGc():N(this,Re).remove(this))}continue(){var t;return((t=N(this,cs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,h,m,d,g,v,y,S,f,x,p,w,E,k,T;const n=()=>{H(this,Mt,ln).call(this,{type:"continue"})},s={client:N(this,Ci),meta:this.options.meta,mutationKey:this.options.mutationKey};F(this,cs,Zx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(b,P)=>{H(this,Mt,ln).call(this,{type:"failed",failureCount:b,error:P})},onPause:()=>{H(this,Mt,ln).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Re).canRun(this)}));const i=this.state.status==="pending",a=!N(this,cs).canStart();try{if(i)n();else{H(this,Mt,ln).call(this,{type:"pending",variables:t,isPaused:a}),N(this,Re).config.onMutate&&await N(this,Re).config.onMutate(t,this,s);const P=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,s));P!==this.state.context&&H(this,Mt,ln).call(this,{type:"pending",context:P,variables:t,isPaused:a})}const b=await N(this,cs).start();return await((u=(c=N(this,Re).config).onSuccess)==null?void 0:u.call(c,b,t,this.state.context,this,s)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,b,t,this.state.context,s)),await((g=(d=N(this,Re).config).onSettled)==null?void 0:g.call(d,b,null,this.state.variables,this.state.context,this,s)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,b,null,t,this.state.context,s)),H(this,Mt,ln).call(this,{type:"success",data:b}),b}catch(b){try{await((f=(S=N(this,Re).config).onError)==null?void 0:f.call(S,b,t,this.state.context,this,s))}catch(P){Promise.reject(P)}try{await((p=(x=this.options).onError)==null?void 0:p.call(x,b,t,this.state.context,s))}catch(P){Promise.reject(P)}try{await((E=(w=N(this,Re).config).onSettled)==null?void 0:E.call(w,void 0,b,this.state.variables,this.state.context,this,s))}catch(P){Promise.reject(P)}try{await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,b,t,this.state.context,s))}catch(P){Promise.reject(P)}throw H(this,Mt,ln).call(this,{type:"error",error:b}),b}finally{N(this,Re).runNext(this)}}},Ci=new WeakMap,Dt=new WeakMap,Re=new WeakMap,cs=new WeakMap,Mt=new WeakSet,ln=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ve.batch(()=>{N(this,Dt).forEach(s=>{s.onMutationUpdate(t)}),N(this,Re).notify({mutation:this,type:"updated",action:t})})},Rf);function ng(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ht,bt,Pi,Af,Y0=(Af=class extends jr{constructor(t={}){super();$(this,Ht);$(this,bt);$(this,Pi);this.config=t,F(this,Ht,new Set),F(this,bt,new Map),F(this,Pi,0)}build(t,n,s){const i=new X0({client:t,mutationCache:this,mutationId:++Bi(this,Pi)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){N(this,Ht).add(t);const n=ia(t);if(typeof n=="string"){const s=N(this,bt).get(n);s?s.push(t):N(this,bt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Ht).delete(t)){const n=ia(t);if(typeof n=="string"){const s=N(this,bt).get(n);if(s)if(s.length>1){const i=s.indexOf(t);i!==-1&&s.splice(i,1)}else s[0]===t&&N(this,bt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ia(t);if(typeof n=="string"){const s=N(this,bt).get(n),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var s;const n=ia(t);if(typeof n=="string"){const i=(s=N(this,bt).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ve.batch(()=>{N(this,Ht).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Ht).clear(),N(this,bt).clear()})}getAll(){return Array.from(N(this,Ht))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Gh(n,s))}findAll(t={}){return this.getAll().filter(n=>Gh(t,n))}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ve.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ie))))}},Ht=new WeakMap,bt=new WeakMap,Pi=new WeakMap,Af);function ia(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Qt,jn,We,Xt,Jt,Sa,_c,Df,q0=(Df=class extends jr{constructor(n,s){super();$(this,Jt);$(this,Qt);$(this,jn);$(this,We);$(this,Xt);F(this,Qt,n),this.setOptions(s),this.bindMethods(),H(this,Jt,Sa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=N(this,Qt).defaultMutationOptions(n),to(this.options,s)||N(this,Qt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,We),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&vs(s.mutationKey)!==vs(this.options.mutationKey)?this.reset():((i=N(this,We))==null?void 0:i.state.status)==="pending"&&N(this,We).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,We))==null||n.removeObserver(this)}onMutationUpdate(n){H(this,Jt,Sa).call(this),H(this,Jt,_c).call(this,n)}getCurrentResult(){return N(this,jn)}reset(){var n;(n=N(this,We))==null||n.removeObserver(this),F(this,We,void 0),H(this,Jt,Sa).call(this),H(this,Jt,_c).call(this)}mutate(n,s){var i;return F(this,Xt,s),(i=N(this,We))==null||i.removeObserver(this),F(this,We,N(this,Qt).getMutationCache().build(N(this,Qt),this.options)),N(this,We).addObserver(this),N(this,We).execute(n)}},Qt=new WeakMap,jn=new WeakMap,We=new WeakMap,Xt=new WeakMap,Jt=new WeakSet,Sa=function(){var s;const n=((s=N(this,We))==null?void 0:s.state)??ng();F(this,jn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},_c=function(n){ve.batch(()=>{var s,i,a,o,l,c,u,h;if(N(this,Xt)&&this.hasListeners()){const m=N(this,jn).variables,d=N(this,jn).context,g={client:N(this,Qt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(s=N(this,Xt)).onSuccess)==null||i.call(s,n.data,m,d,g)}catch(v){Promise.reject(v)}try{(o=(a=N(this,Xt)).onSettled)==null||o.call(a,n.data,null,m,d,g)}catch(v){Promise.reject(v)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=N(this,Xt)).onError)==null||c.call(l,n.error,m,d,g)}catch(v){Promise.reject(v)}try{(h=(u=N(this,Xt)).onSettled)==null||h.call(u,void 0,n.error,m,d,g)}catch(v){Promise.reject(v)}}}this.listeners.forEach(m=>{m(N(this,jn))})})},Df),_t,Mf,Z0=(Mf=class extends jr{constructor(t={}){super();$(this,_t);this.config=t,F(this,_t,new Map)}build(t,n,s){const i=n.queryKey,a=n.queryHash??Zu(i,n);let o=this.get(a);return o||(o=new W0({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){N(this,_t).has(t.queryHash)||(N(this,_t).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,_t).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,_t).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,_t).get(t)}getAll(){return[...N(this,_t).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Kh(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Kh(t,s)):n}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_t=new WeakMap,Mf),de,bn,wn,rr,ir,Nn,ar,or,_f,J0=(_f=class{constructor(e={}){$(this,de);$(this,bn);$(this,wn);$(this,rr);$(this,ir);$(this,Nn);$(this,ar);$(this,or);F(this,de,e.queryCache||new Z0),F(this,bn,e.mutationCache||new Y0),F(this,wn,e.defaultOptions||{}),F(this,rr,new Map),F(this,ir,new Map),F(this,Nn,0)}mount(){Bi(this,Nn)._++,N(this,Nn)===1&&(F(this,ar,td.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,de).onFocus())})),F(this,or,no.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,de).onOnline())})))}unmount(){var e,t;Bi(this,Nn)._--,N(this,Nn)===0&&((e=N(this,ar))==null||e.call(this),F(this,ar,void 0),(t=N(this,or))==null||t.call(this),F(this,or,void 0))}isFetching(e){return N(this,de).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,bn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,de).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=N(this,de).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(On(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return N(this,de).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=N(this,de).get(s.queryHash),a=i==null?void 0:i.state.data,o=M0(t,a);if(o!==void 0)return N(this,de).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ve.batch(()=>N(this,de).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,de).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,de);ve.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,de);return ve.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=ve.batch(()=>N(this,de).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Ie).catch(Ie)}invalidateQueries(e,t={}){return ve.batch(()=>(N(this,de).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=ve.batch(()=>N(this,de).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ie)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ie)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,de).build(this,t);return n.isStaleByTime(On(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ie).catch(Ie)}fetchInfiniteQuery(e){return e.behavior=Jh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ie).catch(Ie)}ensureInfiniteQueryData(e){return e.behavior=Jh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return no.isOnline()?N(this,bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,de)}getMutationCache(){return N(this,bn)}getDefaultOptions(){return N(this,wn)}setDefaultOptions(e){F(this,wn,e)}setQueryDefaults(e,t){N(this,rr).set(vs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,rr).values()],n={};return t.forEach(s=>{gi(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){N(this,ir).set(vs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,ir).values()],n={};return t.forEach(s=>{gi(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,wn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ju&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,wn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,de).clear(),N(this,bn).clear()}},de=new WeakMap,bn=new WeakMap,wn=new WeakMap,rr=new WeakMap,ir=new WeakMap,Nn=new WeakMap,ar=new WeakMap,or=new WeakMap,_f),sg=j.createContext(void 0),Eo=e=>{const t=j.useContext(sg);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eb=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(sg.Provider,{value:e,children:t})),rg=j.createContext(!1),tb=()=>j.useContext(rg);rg.Provider;function nb(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sb=j.createContext(nb()),rb=()=>j.useContext(sb),ib=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?ed(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},ab=e=>{j.useEffect(()=>{e.clearReset()},[e])},ob=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||ed(n,[e.error,s])),lb=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cb=(e,t)=>e.isLoading&&e.isFetching&&!t,ub=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function db(e,t,n){var d,g,v,y;const s=tb(),i=rb(),a=Eo(),o=a.defaultQueryOptions(e);(g=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||g.call(d,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=s?"isRestoring":"optimistic",lb(o),ib(o,i,l),ab(i);const c=!a.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new t(a,o)),h=u.getOptimisticResult(o),m=!s&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(S=>{const f=m?u.subscribe(ve.batchCalls(S)):Ie;return u.updateResult(),f},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),ub(o,h))throw tm(o,u,i);if(ob({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw h.error;if((y=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,h),o.experimental_prefetchInRender&&!ys&&cb(h,s)){const S=c?tm(o,u,i):l==null?void 0:l.promise;S==null||S.catch(Ie).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?h:u.trackResult(h)}function hb(e,t){return db(e,K0)}function mb(e,t){const n=Eo(),[s]=j.useState(()=>new q0(n,e));j.useEffect(()=>{s.setOptions(e)},[s,e]);const i=j.useSyncExternalStore(j.useCallback(o=>s.subscribe(ve.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=j.useCallback((o,l)=>{s.mutate(o,l).catch(Ie)},[s]);if(i.error&&ed(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const ig=j.createContext(void 0);function fb({children:e}){const[t,n]=j.useState(()=>localStorage.getItem("box-theme")||"dark");j.useEffect(()=>{localStorage.setItem("box-theme",t),document.documentElement.classList.remove("dark","light"),document.documentElement.classList.add(t)},[t]);const s=()=>{n(i=>i==="dark"?"light":"dark")};return r.jsx(ig.Provider,{value:{theme:t,toggleTheme:s},children:e})}function Mi(){const e=j.useContext(ig);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}async function pb(){const e=await fetch("/api/auth/user",{credentials:"include"});if(e.status===401)return null;if(!e.ok)throw new Error(`${e.status}: ${e.statusText}`);return e.json()}async function xb(){try{await fetch("/api/logout",{method:"POST",credentials:"include"}),window.location.href="/"}catch(e){console.error("Logout error:",e),window.location.href="/"}}function Ut(){const e=Eo(),{data:t,isLoading:n}=hb({queryKey:["/api/auth/user"],queryFn:pb,retry:!1,staleTime:1e3*60*5}),s=mb({mutationFn:xb,onSuccess:()=>{e.setQueryData(["/api/auth/user"],null)}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:s.mutate,isLoggingOut:s.isPending}}function gb(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~s?s:~a?a:i.length)),l+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~s?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ag={exports:{}},og={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=j;function yb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vb=typeof Object.is=="function"?Object.is:yb,jb=pr.useState,bb=pr.useEffect,wb=pr.useLayoutEffect,Nb=pr.useDebugValue;function Sb(e,t){var n=t(),s=jb({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return wb(function(){i.value=n,i.getSnapshot=t,ll(i)&&a({inst:i})},[e,n,t]),bb(function(){return ll(i)&&a({inst:i}),e(function(){ll(i)&&a({inst:i})})},[e]),Nb(n),n}function ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vb(e,n)}catch{return!0}}function kb(e,t){return t()}var Cb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kb:Sb;og.useSyncExternalStore=pr.useSyncExternalStore!==void 0?pr.useSyncExternalStore:Cb;ag.exports=og;var Pb=ag.exports;const Eb=yv.useInsertionEffect,Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rb=Tb?j.useLayoutEffect:j.useEffect,Ab=Eb||Rb,lg=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return Ab(()=>{t[0]=e}),t[1]},Db="popstate",sd="pushState",rd="replaceState",Mb="hashchange",nm=[Db,sd,rd,Mb],_b=e=>{for(const t of nm)addEventListener(t,e);return()=>{for(const t of nm)removeEventListener(t,e)}},cg=(e,t)=>Pb.useSyncExternalStore(_b,e,t),sm=()=>location.search,Ob=({ssrSearch:e}={})=>cg(sm,e!=null?()=>e:sm),rm=()=>location.pathname,Lb=({ssrPath:e}={})=>cg(rm,e!=null?()=>e:rm),Ib=(e,{replace:t=!1,state:n=null}={})=>history[t?rd:sd](n,"",e),Fb=(e={})=>[Lb(e),Ib],im=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[im]>"u"){for(const e of[sd,rd]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,im,{value:!0})}const Vb=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ug=(e="")=>e==="/"?"":e,Ub=(e,t)=>e[0]==="~"?e.slice(1):ug(t)+e,Bb=(e="",t)=>Vb(am(ug(e)),am(t)),am=e=>{try{return decodeURI(e)}catch{return e}},dg={hook:Fb,searchHook:Ob,parser:gb,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},hg=j.createContext(dg),_i=()=>j.useContext(hg),mg={},fg=j.createContext(mg),To=()=>j.useContext(fg),Ro=e=>{const[t,n]=e.hook(e);return[Bb(e.base,t),lg((s,i)=>e.aroundNav(n,Ub(s,e.base),i))]},Ao=()=>Ro(_i()),pg=(e,t,n,s)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((m,d)=>[m,c[d]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...s?[l]:[]]:[!1,null]},zb=({children:e,...t})=>{var h,m,d;const n=_i(),s=t.hook?dg:n;let i=s;const[a,o=t.ssrSearch??""]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];a&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs),t.searchHook=t.searchHook??((d=t.hook)==null?void 0:d.searchHook);let l=j.useRef({}),c=l.current,u=c;for(let g in s){const v=g==="base"?s[g]+(t[g]??""):t[g]??s[g];c===u&&v!==u[g]&&(l.current=u={...u}),u[g]=v,(v!==s[g]||v!==i[g])&&(i=u)}return j.createElement(hg.Provider,{value:i,children:e})},om=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,$b=e=>{let t=j.useRef(mg);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([s,i])=>i!==n[s])?e:n},Tt=({path:e,nest:t,match:n,...s})=>{const i=_i(),[a]=Ro(i),[o,l,c]=n??pg(i.parser,e,a,t),u=$b({...To(),...l});if(!o)return null;const h=c?j.createElement(zb,{base:c},om(s,u)):om(s,u);return j.createElement(fg.Provider,{value:u,children:h})},et=j.forwardRef((e,t)=>{const n=_i(),[s,i]=Ro(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:h,replace:m,state:d,transition:g,...v}=e,y=lg(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(l==null||l(f),f.defaultPrevented||(f.preventDefault(),i(o,e)))}),S=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:y,href:S}):j.createElement("a",{...v,onClick:y,href:S,className:h!=null&&h.call?h(s===o):h,children:u,ref:t})}),xg=e=>Array.isArray(e)?e.flatMap(t=>xg(t&&t.type===j.Fragment?t.props.children:t)):[e],Wb=({children:e,location:t})=>{const n=_i(),[s]=Ro(n);for(const i of xg(e)){let a=0;if(j.isValidElement(i)&&(a=pg(n.parser,i.props.path,t||s,i.props.nest))[0])return j.cloneElement(i,{match:a})}return null};function Kb({onComplete:e}){const[t,n]=j.useState([]),[s,i]=j.useState(!1),[a,o]=j.useState(""),[l,c]=j.useState(""),[u,h]=j.useState(!1),[m,d]=j.useState(!1),[g,v]=j.useState(!0),y=j.useRef(null),S=j.useRef(null);j.useEffect(()=>{s&&y.current&&!m&&y.current.focus()},[s,m]),j.useEffect(()=>{const x=setInterval(()=>{v(p=>!p)},500);return()=>clearInterval(x)},[]),j.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[t,s,l]),j.useEffect(()=>{const x=[{text:".rvr | REVERIE BIOS (C) 2026",delay:500},{text:"System Integrity Check ... 100%",delay:800},{text:"Processor: RVR-Elite 128-Core",delay:1200},{text:"Memory: 128TB Neural Link ... OK",delay:1500},{text:"Security Protocol: VAULT-7 Enforced",delay:1700},{text:"Biometric Scanners ... Active",delay:1900},{text:"Establishing Secure Tunnel ...",delay:2100},{text:"Encryption Key: RSA-4096 VALID",delay:2300},{text:"Mounting Virtual Drive ... REVERIE-MAIN",delay:2800},{text:"Accessing Archive ... RESTRICTED",delay:3300},{text:"Booting REVERIE OS...",delay:4e3},{text:"Initializing High-Fidelity Environment...",delay:5e3},{text:"Awaiting User Authentication...",delay:6e3}];let p=[];n([]);let w=0;x.forEach(k=>{w=k.delay;const T=setTimeout(()=>{n(b=>[...b,k.text])},k.delay);p.push(T)});const E=setTimeout(()=>{i(!0)},w+500);return p.push(E),()=>{p.forEach(clearTimeout)}},[]);const f=x=>{x.preventDefault(),a==="@LTL2026"?(h(!0),c(""),setTimeout(()=>{d(!0),setTimeout(()=>{e()},3500)},1e3)):(c("UNAUTHORIZED ACCESS DETECTED"),o(""),setTimeout(()=>c(""),2e3))};return m?r.jsx("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("img",{src:"/background_gif/Box2.gif",alt:"REVERIE",className:"w-64 h-64 mb-8 object-contain"}),r.jsx("div",{className:"text-white font-mono tracking-[0.8em] text-xs opacity-70",children:"ENTERING THE BOX"})]})}):r.jsxs("div",{className:"fixed inset-0 z-50 bg-black text-[#d4d4d4] font-mono p-8 overflow-y-auto cursor-text text-lg leading-relaxed select-none",onClick:()=>{var x;return(x=y.current)==null?void 0:x.focus()},children:[r.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col min-h-full",children:[r.jsx("div",{className:"mb-0 text-center opacity-80 border-b border-gray-800/50 pb-6 relative overflow-hidden",children:r.jsxs("div",{className:"flex items-center justify-center gap-6",children:[r.jsx("pre",{className:"text-[6px] sm:text-[8px] md:text-[10px] leading-[6px] sm:leading-[8px] md:leading-[10px] text-accent font-bold whitespace-pre overflow-x-hidden opacity-50 select-none pointer-events-none",children:`
                                                                       
 _|_|_|    _|_|_|_|  _|      _|  _|_|_|_|  _|_|_|    _|_|_|  _|_|_|_|  
 _|    _|  _|        _|      _|  _|        _|    _|    _|    _|        
 _|_|_|    _|_|_|    _|      _|  _|_|_|    _|_|_|      _|    _|_|_|    
 _|    _|  _|          _|  _|    _|        _|    _|    _|    _|        
 _|    _|  _|_|_|_|      _|      _|_|_|_|  _|    _|  _|_|_|  _|_|_|_|  
                                                                       
                                                                       
`}),r.jsx("img",{src:"/background_gif/Box2.gif",alt:"RVR",className:"h-16 w-auto"}),r.jsxs("div",{className:"flex flex-col justify-center text-left",children:[r.jsx("span",{className:"font-bold text-white tracking-[0.2em] text-xl",children:".rvr"}),r.jsx("span",{className:"text-[10px] tracking-widest opacity-60",children:"REVERIE SYSTEM v2.0"})]})]})}),r.jsxs("div",{className:"flex-1",children:[t.map((x,p)=>r.jsx("div",{className:"mb-1 text-shadow-glow font-light tracking-wide",children:x},p)),s&&!u&&r.jsx("form",{onSubmit:f,className:"mt-8",children:r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-white uppercase tracking-widest text-xs font-bold mb-2 opacity-80",children:"Authenticate Access Level 5:"}),r.jsxs("div",{className:"flex items-center group relative max-w-md",children:[r.jsx("span",{className:"mr-3 text-accent text-xl",children:""}),r.jsxs("div",{className:"relative flex items-center",children:[r.jsx("input",{ref:y,type:"password",value:a,onChange:x=>o(x.target.value),className:"bg-transparent border-b border-gray-700 focus:border-white transition-colors outline-none text-white w-full font-mono text-xl py-1 tracking-widest placeholder-gray-800",autoComplete:"off",autoFocus:!0,placeholder:"",style:{caretColor:"transparent",color:"transparent"}}),r.jsxs("span",{className:"absolute left-0 font-mono text-xl tracking-widest pointer-events-none",children:[r.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:a.replace(/./g,"")}),r.jsx("span",{style:{color:g?"rgba(255, 255, 255, 0.6)":"transparent",textShadow:g?"0 0 4px rgba(255, 255, 255, 0.3)":"none",transition:"all 0.2s ease-in-out"},children:""})]})]})]})]})}),l&&r.jsx("div",{className:"mt-4 text-red-500 font-bold bg-red-900/20 inline-block px-2 py-1 border border-red-500/50 blink",children:l}),u&&r.jsxs("div",{className:"mt-6 text-white font-bold",children:[r.jsx("div",{className:"text-green-400",children:"ACCESS GRANTED"}),r.jsx("div",{className:"mt-2",children:"Welcome to THE BOX."})]}),r.jsx("div",{ref:S})]}),r.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-2 flex justify-between text-xs text-gray-500 uppercase",children:[r.jsx("span",{children:"LTL BIOS v1.0.2"}),r.jsx("span",{children:"Mem: 64328K OK"})]})]}),r.jsx("style",{children:`
                @keyframes blink {
                  0%, 100% { opacity: 1; }
                  50% { opacity: 0; }
                }
                .blink {
                  animation: blink 1s step-end infinite;
                }
                /* Override global font for this component */
                * {
                  font-family: 'Courier New', Courier, monospace !important;
                }
            `})]})}function Gb(){const e=Eo(),{theme:t,toggleTheme:n}=Mi(),[s,i]=j.useState("login"),[a,o]=j.useState(""),[l,c]=j.useState(""),[u,h]=j.useState(""),[m,d]=j.useState(""),[g,v]=j.useState(""),[y,S]=j.useState("artist"),[f,x]=j.useState(""),[p,w]=j.useState(""),[E,k]=j.useState(""),[T,b]=j.useState(""),[P,R]=j.useState(!1),[_,V]=j.useState(!1);async function W(D){D.preventDefault(),k(""),b(""),R(!0);try{const C=await fetch(s==="register"?"/api/auth/register":"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s==="register"?{email:a,password:l,displayName:u,firstName:m,lastName:g,role:y,businessName:y==="studio"?f:null,studioCode:y==="artist"&&p?p:null}:{email:a,password:l}),credentials:"include"}),A=await C.json();if(!C.ok){if(A.needsVerification){o(A.email||a),i("verify");return}k(A.message||"Something went wrong");return}if(A.needsVerification){i("verify"),b(A.message);return}await e.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.reload()}catch{k("Failed to connect. Please try again.")}finally{R(!1)}}async function G(){V(!0),k(""),b("");try{const D=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),z=await D.json();D.ok?b("Verification email sent! Check your inbox."):k(z.message||"Failed to resend email")}catch{k("Failed to resend verification email")}finally{V(!1)}}return s==="verify"?r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-md w-full text-center",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6"}),r.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider block mb-3 sm:mb-4",children:"BOX"}),r.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"Check Your Email"}),r.jsxs("p",{className:"text-sm sm:text-base text-theme-secondary mb-4 sm:mb-6",children:["We've sent a verification link to ",r.jsx("span",{className:"text-accent break-all",children:a})]}),r.jsx("p",{className:"text-theme-muted text-xs sm:text-sm mb-6 sm:mb-8",children:"Click the link in the email to verify your account. The link expires in 24 hours."}),T&&r.jsx("p",{className:"text-green-400 text-xs sm:text-sm mb-4",children:T}),E&&r.jsx("p",{className:"text-red-400 text-xs sm:text-sm mb-4",children:E}),r.jsx("button",{onClick:G,disabled:_,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-3 sm:py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50 mb-4 text-sm sm:text-base",children:_?"Sending...":"Resend Verification Email"}),r.jsx("button",{onClick:()=>i("login"),className:"text-theme-muted hover:text-theme-primary text-xs sm:text-sm",children:"Back to Sign In"})]})}):r.jsxs("div",{className:"min-h-screen flex bg-theme-primary",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-theme-primary p-12 flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-10 h-10"}),r.jsx("span",{className:"text-2xl brand-font tracking-wider",children:"BOX"})]}),r.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:["Your Creative Work,"," ",r.jsx("span",{className:"text-accent",children:"Protected."})]}),r.jsx("p",{className:"text-theme-secondary text-lg max-w-md",children:"Track projects from concept to publication. Manage metadata, generate agreements, and protect your intellectual property."})]}),r.jsx("div",{className:"text-theme-muted text-sm",children:r.jsx("p",{children:" 2026 BOX by luctheleo.com | REVERIE | RVR Creative Development"})})]}),r.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8",children:r.jsxs("div",{className:"max-w-md w-full",children:[r.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 sm:gap-3 mb-6 sm:mb-8",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8 sm:w-10 sm:h-10"}),r.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider",children:"BOX"})]}),r.jsxs("button",{onClick:n,className:"absolute top-3 sm:top-4 right-3 sm:right-4 text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]}),r.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:s==="login"?"Welcome Back":"Create Account"}),r.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:s==="login"?"Sign in to manage your creative assets":"Join BOX today"})]}),r.jsxs("a",{href:"/api/auth/google",className:"flex items-center justify-center gap-3 w-full bg-white text-black font-bold py-3 px-8 rounded-lg transition-colors hover:bg-gray-100 text-center mb-3",children:[r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("div",{className:"flex items-center gap-4 my-6",children:[r.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"}),r.jsx("span",{className:"text-theme-muted text-sm",children:"or use email"}),r.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"})]}),r.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s==="register"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-2",children:"I am a..."}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>S("artist"),className:`p-3 rounded-lg border-2 transition-colors text-left ${y==="artist"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[r.jsx("p",{className:"font-bold text-sm",children:"Artist"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Individual creator"})]}),r.jsxs("button",{type:"button",onClick:()=>S("studio"),className:`p-3 rounded-lg border-2 transition-colors text-left ${y==="studio"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[r.jsx("p",{className:"font-bold text-sm",children:"Studio"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Manage artists"})]})]})]}),y==="studio"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Business Name *"}),r.jsx("input",{type:"text",value:f,onChange:D=>x(D.target.value),className:"input-field w-full p-3 rounded",placeholder:"Your studio or label name",required:!0})]}),y==="artist"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Studio Code (Optional)"}),r.jsx("input",{type:"text",value:p,onChange:D=>w(D.target.value.toUpperCase()),className:"input-field w-full p-3 rounded font-mono",placeholder:"BOX-XXXXXX",maxLength:12}),r.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Have a studio code? Enter it to join their network."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:y==="artist"?"Artist / Stage Name *":"Your Name *"}),r.jsx("input",{type:"text",value:u,onChange:D=>h(D.target.value),className:"input-field w-full p-3 rounded",placeholder:y==="artist"?"Your stage name":"Your name",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:m,onChange:D=>d(D.target.value),className:"input-field w-full p-3 rounded",placeholder:"John"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"input-field w-full p-3 rounded",placeholder:"Doe"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Email"}),r.jsx("input",{type:"email",value:a,onChange:D=>o(D.target.value),className:"input-field w-full p-3 rounded",placeholder:"you@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Password"}),r.jsx("input",{type:"password",value:l,onChange:D=>c(D.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter password",required:!0,minLength:6})]}),E&&r.jsx("p",{className:"text-red-400 text-sm",children:E}),r.jsx("button",{type:"submit",disabled:P,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50",children:P?"Please wait...":s==="login"?"Sign In":"Create Account"})]}),r.jsx("p",{className:"text-center text-theme-muted text-sm mt-6",children:s==="login"?r.jsxs(r.Fragment,{children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>i("register"),className:"text-accent hover:underline",children:"Sign up"})]}):r.jsxs(r.Fragment,{children:["Already have an account?"," ",r.jsx("button",{onClick:()=>i("login"),className:"text-accent hover:underline",children:"Sign in"})]})}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-theme",children:[r.jsx("h3",{className:"text-sm font-bold text-theme-secondary mb-4 text-center",children:"Features"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[r.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[r.jsx("p",{className:"font-bold text-sm mb-1",children:"Project Tracking"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Concept to publication"})]}),r.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[r.jsx("p",{className:"font-bold text-sm mb-1",children:"IP Protection"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Step-by-step guidance"})]}),r.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[r.jsx("p",{className:"font-bold text-sm mb-1",children:"Agreements"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Generate legal docs"})]}),r.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[r.jsx("p",{className:"font-bold text-sm mb-1",children:"Creative Space"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Private inspiration"})]})]})]})]})})]})}const aa=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function Hb({className:e="",alt:t="BOX logo"}){const[n,s]=j.useState(null);return j.useEffect(()=>{if(!aa.length)return;const i=sessionStorage.getItem("bg_logo_last"),a=i?parseInt(i,10):-1;let o=0;if(aa.length===1)o=0;else{const l=aa.map((c,u)=>u).filter(c=>c!==a);o=l[Math.floor(Math.random()*l.length)]}s(o),sessionStorage.setItem("bg_logo_last",String(o))},[]),n===null?r.jsx("img",{src:"/box-logo.png",alt:t,className:e}):r.jsx("img",{src:aa[n],alt:t,className:e})}function ft({showNav:e=!0}){const{user:t}=Ut(),{theme:n,toggleTheme:s}=Mi(),[i,a]=j.useState(!1),[o,l]=Ao(),[c,u]=j.useState(!1),[h,m]=j.useState(""),[d,g]=j.useState([]),[v,y]=j.useState(!1),S=j.useRef(null),f=[{type:"page",title:"Dashboard",subtitle:"Home",href:"/"},{type:"page",title:"Creative Space",subtitle:"Notes & inspiration",href:"/creative"},{type:"page",title:"Agreements",subtitle:"Generate contracts",href:"/generator"},{type:"page",title:"Saved Agreements",subtitle:"Your saved contracts",href:"/documents"},{type:"page",title:"Community",subtitle:"Shared content",href:"/community"}];j.useEffect(()=>{function k(T){S.current&&!S.current.contains(T.target)&&u(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),j.useEffect(()=>{if(!h.trim()){g([]);return}const k=h.toLowerCase(),T=f.filter(R=>{var _,V;return R.title.toLowerCase().includes(k)||((_=R.subtitle)==null?void 0:_.toLowerCase().includes(k))||((V=R.href)==null?void 0:V.toLowerCase().includes(k))});async function b(){y(!0);const R=[...T];try{const[_,V]=await Promise.all([fetch("/api/projects"),fetch("/api/creative/notes")]);_.ok&&((await _.json()).projects||[]).filter(D=>{var z;return D.title.toLowerCase().includes(k)||((z=D.type)==null?void 0:z.toLowerCase().includes(k))}).slice(0,5).forEach(D=>{R.push({type:"project",id:D.id,title:D.title,subtitle:`${D.type} - ${D.status}`,href:`/project/${D.id}`})}),V.ok&&((await V.json()).notes||[]).filter(D=>{var z,O;return((z=D.content)==null?void 0:z.toLowerCase().includes(k))||((O=D.category)==null?void 0:O.toLowerCase().includes(k))}).slice(0,5).forEach(D=>{var z,O;R.push({type:"note",id:D.id,title:((z=D.content)==null?void 0:z.substring(0,50))+(((O=D.content)==null?void 0:O.length)>50?"...":""),subtitle:D.category,href:"/creative"})})}catch(_){console.error("Search error:",_)}g(R.slice(0,10)),y(!1)}const P=setTimeout(b,300);return()=>clearTimeout(P)},[h]);function x(k){u(!1),m(""),l(k.href)}const w=(t==null?void 0:t.role)==="studio"?[{href:"/",label:"Dashboard"},{href:"/studio",label:"Studio"},{href:"/documents",label:"Documents"},{href:"/submissions",label:"Submissions"},{href:"/settings",label:"Settings"}]:[{href:"/",label:"Dashboard"},{href:"/creative",label:"Creative"},{href:"/documents",label:"Documents"},{href:"/submissions",label:"Submissions"},{href:"/epk",label:"EPK"},{href:"/settings",label:"Settings"}],E=k=>k==="/"?o==="/":o.startsWith(k);return r.jsxs("header",{className:"border-b border-theme p-3 sm:p-4 relative",children:[r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-2",children:[r.jsx(et,{href:"/",children:r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer",children:[r.jsx(Hb,{className:"w-6 h-6 sm:w-8 sm:h-8"}),r.jsx("span",{className:"text-lg sm:text-xl brand-font tracking-wider text-theme-primary",children:"BOX"})]})}),e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:S,className:"relative hidden sm:block flex-1 max-w-xs mx-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search projects, notes, docs...",value:h,onChange:k=>m(k.target.value),onFocus:()=>u(!0),className:"w-full input-field px-3 py-1.5 rounded text-sm pl-8"}),r.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c&&!h&&r.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 p-3",children:[r.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Try searching for:"}),r.jsxs("div",{className:"space-y-1 text-xs",children:[r.jsx("button",{onClick:()=>m("docs"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"docs" - Documentation & guides'}),r.jsx("button",{onClick:()=>m("agreements"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"agreements" - Generate contracts'}),r.jsx("button",{onClick:()=>m("community"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"community" - Shared content'})]}),r.jsx("p",{className:"text-xs text-theme-muted mt-3 pt-2 border-t border-theme",children:"Also searches your projects and notes"})]}),c&&h&&r.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[v&&r.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"Searching..."}),!v&&d.length===0&&h&&r.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"No results found"}),!v&&d.map((k,T)=>r.jsxs("button",{onClick:()=>x(k),className:"w-full text-left px-3 py-2 hover:bg-theme-tertiary transition-colors flex items-center gap-3",children:[r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${k.type==="project"?"bg-accent text-accent-contrast":k.type==="note"?"bg-theme-tertiary text-theme-muted":"bg-theme-primary text-theme-secondary"}`,children:k.type==="project"?"PRJ":k.type==="note"?"NOTE":"PAGE"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm text-theme-primary truncate",children:k.title}),k.subtitle&&r.jsx("div",{className:"text-xs text-theme-muted truncate",children:k.subtitle})]})]},`${k.type}-${k.id||T}`))]})]}),r.jsx("nav",{className:"hidden md:flex items-center gap-6",children:w.map(k=>r.jsx(et,{href:k.href,children:r.jsx("span",{className:`text-sm cursor-pointer transition-colors ${E(k.href)?"text-theme-primary font-bold":"text-theme-muted hover:text-theme-primary"}`,children:k.label})},k.href))}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:s,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",title:"Toggle theme",children:["[",n,"]"]}),r.jsx("a",{href:"/api/logout",className:"hidden sm:inline text-theme-muted hover:text-theme-primary text-xs",children:"Logout"}),r.jsx("button",{onClick:()=>a(!i),className:"md:hidden p-1 text-theme-primary","aria-label":"Toggle menu",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),i&&e&&r.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-theme-secondary border-b border-theme z-50",children:r.jsxs("nav",{className:"flex flex-col p-4 space-y-3",children:[w.map(k=>r.jsx(et,{href:k.href,children:r.jsx("span",{onClick:()=>a(!1),className:`block text-sm cursor-pointer py-2 px-3 rounded ${E(k.href)?"bg-theme-tertiary text-theme-primary font-bold":"text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary"}`,children:k.label})},k.href)),r.jsxs("div",{className:"border-t border-theme pt-3 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[(t==null?void 0:t.profileImageUrl)&&r.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-6 h-6 rounded-full"}),r.jsx("span",{className:"text-sm text-theme-secondary",children:(t==null?void 0:t.firstName)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),r.jsx("a",{href:"/api/logout",className:"block text-sm text-red-400 hover:text-red-300 px-3 py-2",onClick:()=>a(!1),children:"Logout"})]})]})})]})}function Qb(){var y,S;Ut();const[e,t]=j.useState([]),[n,s]=j.useState(!0),[i,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState("all");j.useEffect(()=>{h()},[]);async function h(){try{const f=await fetch("/api/projects");if(f.ok){const x=await f.json();t(x.projects||[])}}catch(f){console.error("Failed to load projects:",f)}finally{s(!1)}}async function m(f){f.preventDefault();const x=f.currentTarget,p=new FormData(x),w={title:p.get("title"),type:p.get("type"),status:p.get("status"),description:p.get("description"),metadata:{isrc:p.get("isrc")||null,upc:p.get("upc")||null,copyright:p.get("copyright")||null,release_date:p.get("release_date")||null}},E=o?`/api/projects/${o.id}`:"/api/projects",k=o?"PUT":"POST";try{(await fetch(E,{method:k,headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok&&(a(!1),l(null),h())}catch(T){console.error("Failed to save project:",T)}}async function d(f){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`/api/projects/${f}`,{method:"DELETE"})).ok&&h()}catch(x){console.error("Failed to delete project:",x)}}const g=c==="all"?e:e.filter(f=>f.status===c),v={total:e.length,concept:e.filter(f=>f.status==="concept").length,development:e.filter(f=>f.status==="development").length,published:e.filter(f=>f.status==="published").length};return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Projects"}),r.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Track your creative work from concept to publication"})]}),r.jsx("button",{onClick:()=>{l(null),a(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Project"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-8",children:[r.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-accent",children:v.total}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Total"})]}),r.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-theme-secondary",children:v.concept}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Concept"})]}),r.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:v.development}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Development"})]}),r.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[r.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:v.published}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Published"})]})]}),r.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:["all","concept","development","review","published"].map(f=>r.jsx("button",{onClick:()=>u(f),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${c===f?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))}),n?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):g.length===0?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No projects yet. Create your first one!"}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:g.map(f=>r.jsx("div",{className:"card p-3 sm:p-4 rounded-xl hover:border-theme cursor-pointer",onClick:()=>{l(f),a(!0)},children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[r.jsx("span",{className:`status-${f.status} px-2 py-1 rounded text-xs uppercase`,children:f.status}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm sm:text-base",children:f.title}),r.jsx("p",{className:"text-xs text-theme-muted",children:f.type}),r.jsxs("p",{className:"text-xs text-theme-accent font-mono",children:[" ",f.rootFolder,"/",f.folderPath.split("/")[1]]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[r.jsx(et,{href:`/project/${f.id}`,onClick:x=>x.stopPropagation(),className:"text-theme-muted hover:text-accent text-xs sm:text-sm",children:"Details"}),r.jsx("button",{onClick:x=>{x.stopPropagation(),d(f.id)},className:"text-theme-muted hover:text-red-400 text-xs sm:text-sm",children:"Delete"})]})]})},f.id))})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:r.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-accent",children:o?"Edit Project":"New Project"}),r.jsx("button",{onClick:()=>a(!1),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Title *"}),r.jsx("input",{name:"title",defaultValue:o==null?void 0:o.title,required:!0,className:"input-field w-full p-2 rounded"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Type"}),r.jsxs("select",{name:"type",defaultValue:(o==null?void 0:o.type)||"single",className:"input-field w-full p-2 rounded",children:[r.jsx("option",{value:"single",children:"Single"}),r.jsx("option",{value:"ep",children:"EP"}),r.jsx("option",{value:"album",children:"Album"}),r.jsx("option",{value:"beat",children:"Beat"}),r.jsx("option",{value:"sample",children:"Sample Pack"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Status"}),r.jsxs("select",{name:"status",defaultValue:(o==null?void 0:o.status)||"concept",className:"input-field w-full p-2 rounded",children:[r.jsx("option",{value:"concept",children:"Concept"}),r.jsx("option",{value:"development",children:"Development"}),r.jsx("option",{value:"review",children:"Review"}),r.jsx("option",{value:"published",children:"Published"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Description"}),r.jsx("textarea",{name:"description",defaultValue:(o==null?void 0:o.description)||"",rows:3,className:"input-field w-full p-2 rounded"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"ISRC"}),r.jsx("input",{name:"isrc",defaultValue:((y=o==null?void 0:o.metadata)==null?void 0:y.isrc)||"",className:"input-field w-full p-2 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"UPC"}),r.jsx("input",{name:"upc",defaultValue:((S=o==null?void 0:o.metadata)==null?void 0:S.upc)||"",className:"input-field w-full p-2 rounded"})]})]}),r.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:o?"Save Changes":"Create Project"})]})]})}),r.jsx("div",{className:"mt-12 pt-8 border-t border-theme-tertiary",children:r.jsxs("div",{className:"flex justify-center gap-8 text-sm",children:[r.jsx("a",{href:"/docs",className:"text-theme-secondary hover:text-accent transition-colors",children:"Documentation"}),r.jsx("a",{href:"/generator",className:"text-theme-secondary hover:text-accent transition-colors",children:"Agreements"}),r.jsx("a",{href:"/community",className:"text-theme-secondary hover:text-accent transition-colors",children:"Community"})]})})]})}function Xb(e={}){const[t,n]=j.useState(!1),[s,i]=j.useState(null),[a,o]=j.useState(0),l=j.useCallback(async m=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!d.ok){const g=await d.json().catch(()=>({}));throw new Error(g.error||"Failed to get upload URL")}return d.json()},[]),c=j.useCallback(async(m,d)=>{if(!(await fetch(d,{method:"PUT",body:m,headers:{"Content-Type":m.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),u=j.useCallback(async m=>{var d,g;n(!0),i(null),o(0);try{o(10);const v=await l(m);return o(30),await c(m,v.uploadURL),o(100),(d=e.onSuccess)==null||d.call(e,v),v}catch(v){const y=v instanceof Error?v:new Error("Upload failed");return i(y),(g=e.onError)==null||g.call(e,y),null}finally{n(!1)}},[l,c,e]),h=j.useCallback(async m=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!d.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await d.json()).uploadURL,headers:{"Content-Type":m.type||"application/octet-stream"}}},[]);return{uploadFile:u,getUploadParameters:h,isUploading:t,error:s,progress:a}}const gg=j.createContext({});function Yb(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const yg=typeof window<"u",qb=yg?j.useLayoutEffect:j.useEffect,id=j.createContext(null);function ad(e,t){e.indexOf(t)===-1&&e.push(t)}function so(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vt=(e,t,n)=>n>t?t:n<e?e:n;let od=()=>{};const rn={},vg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jg(e){return typeof e=="object"&&e!==null}const bg=e=>/^0[^.\s]+$/u.test(e);function ld(e){let t;return()=>(t===void 0&&(t=e()),t)}const dt=e=>e,Zb=(e,t)=>n=>t(e(n)),Oi=(...e)=>e.reduce(Zb),yi=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class cd{constructor(){this.subscriptions=[]}add(t){return ad(this.subscriptions,t),()=>so(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ct=e=>e*1e3,ct=e=>e/1e3;function wg(e,t){return t?e*(1e3/t):0}const Ng=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Jb=1e-7,ew=12;function tw(e,t,n,s,i){let a,o,l=0;do o=t+(n-t)/2,a=Ng(o,s,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Jb&&++l<ew);return o}function Li(e,t,n,s){if(e===t&&n===s)return dt;const i=a=>tw(a,0,1,e,n);return a=>a===0||a===1?a:Ng(i(a),t,s)}const Sg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kg=e=>t=>1-e(1-t),Cg=Li(.33,1.53,.69,.99),ud=kg(Cg),Pg=Sg(ud),Eg=e=>(e*=2)<1?.5*ud(e):.5*(2-Math.pow(2,-10*(e-1))),dd=e=>1-Math.sin(Math.acos(e)),Tg=kg(dd),Rg=Sg(dd),nw=Li(.42,0,1,1),sw=Li(0,0,.58,1),Ag=Li(.42,0,.58,1),rw=e=>Array.isArray(e)&&typeof e[0]!="number",Dg=e=>Array.isArray(e)&&typeof e[0]=="number",iw={linear:dt,easeIn:nw,easeInOut:Ag,easeOut:sw,circIn:dd,circInOut:Rg,circOut:Tg,backIn:ud,backInOut:Pg,backOut:Cg,anticipate:Eg},aw=e=>typeof e=="string",lm=e=>{if(Dg(e)){od(e.length===4);const[t,n,s,i]=e;return Li(t,n,s,i)}else if(aw(e))return iw[e];return e},oa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ow(e,t){let n=new Set,s=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,m=!1,d=!1)=>{const v=d&&i?n:s;return m&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const lw=40;function Mg(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=oa.reduce((p,w)=>(p[w]=ow(a),p),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:m,preRender:d,render:g,postRender:v}=o,y=()=>{const p=rn.useManualTiming?i.timestamp:performance.now();n=!1,rn.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(p-i.timestamp,lw),1)),i.timestamp=p,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),h.process(i),m.process(i),d.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(y))},S=()=>{n=!0,s=!0,i.isProcessing||e(y)};return{schedule:oa.reduce((p,w)=>{const E=o[w];return p[w]=(k,T=!1,b=!1)=>(n||S(),E.schedule(k,T,b)),p},{}),cancel:p=>{for(let w=0;w<oa.length;w++)o[oa[w]].cancel(p)},state:i,steps:o}}const{schedule:te,cancel:Fn,state:ke,steps:cl}=Mg(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0);let ka;function cw(){ka=void 0}const Fe={now:()=>(ka===void 0&&Fe.set(ke.isProcessing||rn.useManualTiming?ke.timestamp:performance.now()),ka),set:e=>{ka=e,queueMicrotask(cw)}},_g=e=>t=>typeof t=="string"&&t.startsWith(e),Og=_g("--"),uw=_g("var(--"),hd=e=>uw(e)?dw.test(e.split("/*")[0].trim()):!1,dw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cm(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const br={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vi={...br,transform:e=>Vt(0,1,e)},la={...br,default:1},Yr=e=>Math.round(e*1e5)/1e5,md=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hw(e){return e==null}const mw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fd=(e,t)=>n=>!!(typeof n=="string"&&mw.test(n)&&n.startsWith(e)||t&&!hw(n)&&Object.prototype.hasOwnProperty.call(n,t)),Lg=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,o,l]=s.match(md);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fw=e=>Vt(0,255,e),ul={...br,transform:e=>Math.round(fw(e))},Jn={test:fd("rgb","red"),parse:Lg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+ul.transform(e)+", "+ul.transform(t)+", "+ul.transform(n)+", "+Yr(vi.transform(s))+")"};function pw(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Oc={test:fd("#"),parse:pw,transform:Jn.transform},Ii=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cn=Ii("deg"),Ft=Ii("%"),B=Ii("px"),xw=Ii("vh"),gw=Ii("vw"),um={...Ft,parse:e=>Ft.parse(e)/100,transform:e=>Ft.transform(e*100)},Fs={test:fd("hsl","hue"),parse:Lg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ft.transform(Yr(t))+", "+Ft.transform(Yr(n))+", "+Yr(vi.transform(s))+")"},pe={test:e=>Jn.test(e)||Oc.test(e)||Fs.test(e),parse:e=>Jn.test(e)?Jn.parse(e):Fs.test(e)?Fs.parse(e):Oc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jn.transform(e):Fs.transform(e),getAnimatableNone:e=>{const t=pe.parse(e);return t.alpha=0,pe.transform(t)}},yw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(md))==null?void 0:t.length)||0)+(((n=e.match(yw))==null?void 0:n.length)||0)>0}const Ig="number",Fg="color",jw="var",bw="var(",dm="${}",ww=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ji(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(ww,c=>(pe.test(c)?(s.color.push(a),i.push(Fg),n.push(pe.parse(c))):c.startsWith(bw)?(s.var.push(a),i.push(jw),n.push(c)):(s.number.push(a),i.push(Ig),n.push(parseFloat(c))),++a,dm)).split(dm);return{values:n,split:l,indexes:s,types:i}}function Vg(e){return ji(e).values}function Ug(e){const{split:t,types:n}=ji(e),s=t.length;return i=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===Ig?a+=Yr(i[o]):l===Fg?a+=pe.transform(i[o]):a+=i[o]}return a}}const Nw=e=>typeof e=="number"?0:pe.test(e)?pe.getAnimatableNone(e):e;function Sw(e){const t=Vg(e);return Ug(e)(t.map(Nw))}const Vn={test:vw,parse:Vg,createTransformer:Ug,getAnimatableNone:Sw};function dl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kw({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=dl(c,l,e+1/3),a=dl(c,l,e),o=dl(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ro(e,t){return n=>n>0?t:e}const oe=(e,t,n)=>e+(t-e)*n,hl=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Cw=[Oc,Jn,Fs],Pw=e=>Cw.find(t=>t.test(e));function hm(e){const t=Pw(e);if(!t)return!1;let n=t.parse(e);return t===Fs&&(n=kw(n)),n}const mm=(e,t)=>{const n=hm(e),s=hm(t);if(!n||!s)return ro(e,t);const i={...n};return a=>(i.red=hl(n.red,s.red,a),i.green=hl(n.green,s.green,a),i.blue=hl(n.blue,s.blue,a),i.alpha=oe(n.alpha,s.alpha,a),Jn.transform(i))},Lc=new Set(["none","hidden"]);function Ew(e,t){return Lc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Tw(e,t){return n=>oe(e,t,n)}function pd(e){return typeof e=="number"?Tw:typeof e=="string"?hd(e)?ro:pe.test(e)?mm:Dw:Array.isArray(e)?Bg:typeof e=="object"?pe.test(e)?mm:Rw:ro}function Bg(e,t){const n=[...e],s=n.length,i=e.map((a,o)=>pd(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=i[o](a);return n}}function Rw(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=pd(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function Aw(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][s[a]],l=e.values[o]??0;n[i]=l,s[a]++}return n}const Dw=(e,t)=>{const n=Vn.createTransformer(t),s=ji(e),i=ji(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Lc.has(e)&&!i.values.length||Lc.has(t)&&!s.values.length?Ew(e,t):Oi(Bg(Aw(s,i),i.values),n):ro(e,t)};function zg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):pd(e)(e,t)}const Mw=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>te.update(t,n),stop:()=>Fn(t),now:()=>ke.isProcessing?ke.timestamp:Fe.now()}},$g=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},io=2e4;function xd(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<io;)t+=n,s=e.next(t);return t>=io?1/0:t}function _w(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(xd(s),io);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:ct(i)}}const Ow=5;function Wg(e,t,n){const s=Math.max(t-Ow,0);return wg(n-e(s),t-s)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ml=.001;function Lw({duration:e=he.duration,bounce:t=he.bounce,velocity:n=he.velocity,mass:s=he.mass}){let i,a,o=1-t;o=Vt(he.minDamping,he.maxDamping,o),e=Vt(he.minDuration,he.maxDuration,ct(e)),o<1?(i=u=>{const h=u*o,m=h*e,d=h-n,g=Ic(u,o),v=Math.exp(-m);return ml-d/g*v},a=u=>{const m=u*o*e,d=m*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-m),y=Ic(Math.pow(u,2),o);return(-i(u)+ml>0?-1:1)*((d-g)*v)/y}):(i=u=>{const h=Math.exp(-u*e),m=(u-n)*e+1;return-ml+h*m},a=u=>{const h=Math.exp(-u*e),m=(n-u)*(e*e);return h*m});const l=5/e,c=Fw(i,a,l);if(e=Ct(e),isNaN(c))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const Iw=12;function Fw(e,t,n){let s=n;for(let i=1;i<Iw;i++)s=s-e(s)/t(s);return s}function Ic(e,t){return e*Math.sqrt(1-t*t)}const Vw=["duration","bounce"],Uw=["stiffness","damping","mass"];function fm(e,t){return t.some(n=>e[n]!==void 0)}function Bw(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!fm(e,Uw)&&fm(e,Vw))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Vt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:he.mass,stiffness:i,damping:a}}else{const n=Lw(e);t={...t,...n,mass:he.mass},t.isResolvedFromDuration=!0}return t}function ao(e=he.visualDuration,t=he.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:m,velocity:d,isResolvedFromDuration:g}=Bw({...n,velocity:-ct(n.velocity||0)}),v=d||0,y=u/(2*Math.sqrt(c*h)),S=o-a,f=ct(Math.sqrt(c/h)),x=Math.abs(S)<5;s||(s=x?he.restSpeed.granular:he.restSpeed.default),i||(i=x?he.restDelta.granular:he.restDelta.default);let p;if(y<1){const E=Ic(f,y);p=k=>{const T=Math.exp(-y*f*k);return o-T*((v+y*f*S)/E*Math.sin(E*k)+S*Math.cos(E*k))}}else if(y===1)p=E=>o-Math.exp(-f*E)*(S+(v+f*S)*E);else{const E=f*Math.sqrt(y*y-1);p=k=>{const T=Math.exp(-y*f*k),b=Math.min(E*k,300);return o-T*((v+y*f*S)*Math.sinh(b)+E*S*Math.cosh(b))/E}}const w={calculatedDuration:g&&m||null,next:E=>{const k=p(E);if(g)l.done=E>=m;else{let T=E===0?v:0;y<1&&(T=E===0?Ct(v):Wg(p,E,k));const b=Math.abs(T)<=s,P=Math.abs(o-k)<=i;l.done=b&&P}return l.value=l.done?o:k,l},toString:()=>{const E=Math.min(xd(w),io),k=$g(T=>w.next(E*T).value,E,30);return E+"ms "+k},toTransition:()=>{}};return w}ao.applyToOptions=e=>{const t=_w(e,100,ao);return e.ease=t.ease,e.duration=Ct(t.duration),e.type="keyframes",e};function Fc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const m=e[0],d={done:!1,value:m},g=b=>l!==void 0&&b<l||c!==void 0&&b>c,v=b=>l===void 0?c:c===void 0||Math.abs(l-b)<Math.abs(c-b)?l:c;let y=n*t;const S=m+y,f=o===void 0?S:o(S);f!==S&&(y=f-m);const x=b=>-y*Math.exp(-b/s),p=b=>f+x(b),w=b=>{const P=x(b),R=p(b);d.done=Math.abs(P)<=u,d.value=d.done?f:R};let E,k;const T=b=>{g(d.value)&&(E=b,k=ao({keyframes:[d.value,v(d.value)],velocity:Wg(p,b,d.value),damping:i,stiffness:a,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:b=>{let P=!1;return!k&&E===void 0&&(P=!0,w(b),T(b)),E!==void 0&&b>=E?k.next(b-E):(!P&&w(b),d)}}}function zw(e,t,n){const s=[],i=n||rn.mix||zg,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||dt:t;l=Oi(c,l)}s.push(l)}return s}function $w(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(od(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zw(t,s,i),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const d=yi(e[m],e[m+1],h);return l[m](d)};return n?h=>u(Vt(e[0],e[a-1],h)):u}function Ww(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=yi(0,t,s);e.push(oe(n,1,i))}}function Kw(e){const t=[0];return Ww(t,e.length-1),t}function Gw(e,t){return e.map(n=>n*t)}function Hw(e,t){return e.map(()=>t||Ag).splice(0,e.length-1)}function qr({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=rw(s)?s.map(lm):lm(s),a={done:!1,value:t[0]},o=Gw(n&&n.length===t.length?n:Kw(t),e),l=$w(o,t,{ease:Array.isArray(i)?i:Hw(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Qw=e=>e!==null;function gd(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(Qw),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const Xw={decay:Fc,inertia:Fc,tween:qr,keyframes:qr,spring:ao};function Kg(e){typeof e.type=="string"&&(e.type=Xw[e.type])}class yd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Yw=e=>e/100;class vd extends yd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kg(t);const{type:n=qr,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||qr;c!==qr&&typeof l[0]!="number"&&(this.mixKeyframes=Oi(Yw,zg(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=xd(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:d,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const f=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?f<0:f>i;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let p=this.currentTime,w=s;if(m){const b=Math.min(this.currentTime,i)/l;let P=Math.floor(b),R=b%1;!R&&b>=1&&(R=1),R===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(d==="reverse"?(R=1-R,g&&(R-=g/l)):d==="mirror"&&(w=o)),p=Vt(0,1,R)*l}const E=x?{done:!1,value:h[0]}:w.next(p);a&&(E.value=a(E.value));let{done:k}=E;!x&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&v!==Fc&&(E.value=gd(h,this.options,S,this.speed)),y&&y(E.value),T&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return ct(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ct(t)}get time(){return ct(this.currentTime)}set time(t){var n;t=Ct(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ct(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Mw,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function qw(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const es=e=>e*180/Math.PI,Vc=e=>{const t=es(Math.atan2(e[1],e[0]));return Uc(t)},Zw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vc,rotateZ:Vc,skewX:e=>es(Math.atan(e[1])),skewY:e=>es(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Uc=e=>(e=e%360,e<0&&(e+=360),e),pm=Vc,xm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xm,scaleY:gm,scale:e=>(xm(e)+gm(e))/2,rotateX:e=>Uc(es(Math.atan2(e[6],e[5]))),rotateY:e=>Uc(es(Math.atan2(-e[2],e[0]))),rotateZ:pm,rotate:pm,skewX:e=>es(Math.atan(e[4])),skewY:e=>es(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bc(e){return e.includes("scale")?1:0}function zc(e,t){if(!e||e==="none")return Bc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Jw,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Zw,i=l}if(!i)return Bc(t);const a=s[t],o=i[1].split(",").map(tN);return typeof a=="function"?a(o):o[a]}const eN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return zc(n,t)};function tN(e){return parseFloat(e.trim())}const wr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nr=new Set(wr),ym=e=>e===br||e===B,nN=new Set(["x","y","z"]),sN=wr.filter(e=>!nN.has(e));function rN(e){const t=[];return sN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Cn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zc(t,"x"),y:(e,{transform:t})=>zc(t,"y")};Cn.translateX=Cn.x;Cn.translateY=Cn.y;const hs=new Set;let $c=!1,Wc=!1,Kc=!1;function Gg(){if(Wc){const e=Array.from(hs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=rN(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Wc=!1,$c=!1,hs.forEach(e=>e.complete(Kc)),hs.clear()}function Hg(){hs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wc=!0)})}function iN(){Kc=!0,Hg(),Gg(),Kc=!1}class jd{constructor(t,n,s,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),$c||($c=!0,te.read(Hg),te.resolveKeyframes(Gg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}qw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aN=e=>e.startsWith("--");function oN(e,t,n){aN(t)?e.style.setProperty(t,n):e.style[t]=n}const lN=ld(()=>window.ScrollTimeline!==void 0),cN={};function uN(e,t){const n=ld(e);return()=>cN[t]??n()}const Qg=uN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ur=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ur([0,.65,.55,1]),circOut:Ur([.55,0,1,.45]),backIn:Ur([.31,.01,.66,-.59]),backOut:Ur([.33,1.53,.69,.99])};function Xg(e,t){if(e)return typeof e=="function"?Qg()?$g(e,t):"ease-out":Dg(e)?Ur(e):Array.isArray(e)?e.map(n=>Xg(n,t)||vm.easeOut):vm[e]}function dN(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:n};c&&(h.offset=c);const m=Xg(l,i);Array.isArray(m)&&(h.easing=m);const d={delay:s,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),e.animate(h,d)}function Yg(e){return typeof e=="function"&&"applyToOptions"in e}function hN({type:e,...t}){return Yg(e)&&Qg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qg extends yd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,od(typeof t.type!="string");const u=hN(t);this.animation=dN(n,s,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=gd(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):oN(n,s,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(s=this.animation).commitStyles)==null||i.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ct(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ct(t)}get time(){return ct(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ct(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lN()?(this.animation.timeline=t,dt):n(this)}}const Zg={anticipate:Eg,backInOut:Pg,circInOut:Rg};function mN(e){return e in Zg}function fN(e){typeof e.ease=="string"&&mN(e.ease)&&(e.ease=Zg[e.ease])}const fl=10;class pN extends qg{constructor(t){fN(t),Kg(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new vd({...o,autoplay:!1}),c=Math.max(fl,Fe.now()-this.startTime),u=Vt(0,fl,c-fl);n.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const jm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vn.test(e)||e==="0")&&!e.startsWith("url("));function xN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gN(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=jm(i,t),l=jm(a,t);return!o||!l?!1:xN(e)||(n==="spring"||Yg(n))&&s}function Gc(e){e.duration=0,e.type="keyframes"}const yN=new Set(["opacity","clipPath","filter","transform"]),vN=ld(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jN(e){var h;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return vN()&&n&&yN.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}const bN=40;class wN extends yd{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...m}){var v;super(),this.stop=()=>{var y,S;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fe.now();const d={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||jd;this.keyframeResolver=new g(l,(y,S,f)=>this.onKeyframesResolved(y,S,d,!f),c,u,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,i){var S,f;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Fe.now(),gN(t,a,o,l)||((rn.instantAnimations||!c)&&(h==null||h(gd(t,s,n))),t[0]=t[t.length-1],Gc(s),s.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},g=!u&&jN(d),v=(f=(S=d.motionValue)==null?void 0:S.owner)==null?void 0:f.current,y=g?new pN({...d,element:v}):new vd(d);y.finished.then(()=>{this.notifyFinished()}).catch(dt),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),iN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Jg(e,t,n,s=0,i=1){const a=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):i===1?a*s:l-a*s}const NN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SN(e){const t=NN.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function ey(e,t,n=1){const[s,i]=SN(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return vg(o)?parseFloat(o):o}return hd(i)?ey(i,t,n+1):i}const kN={type:"spring",stiffness:500,damping:25,restSpeed:10},CN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TN=(e,{keyframes:t})=>t.length>2?PN:Nr.has(e)?e.startsWith("scale")?CN(t[1]):kN:EN,RN=e=>e!==null;function AN(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(RN),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}function ty(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function bd(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?ty(n,e):n}function DN({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const wd=(e,t,n,s={},i,a)=>o=>{const l=bd(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Ct(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:d=>{t.set(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};DN(l)||Object.assign(h,TN(e,h)),h.duration&&(h.duration=Ct(h.duration)),h.repeatDelay&&(h.repeatDelay=Ct(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Gc(h),h.delay===0&&(m=!0)),(rn.instantAnimations||rn.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(m=!0,Gc(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const d=AN(h.keyframes,l);if(d!==void 0){te.update(()=>{h.onUpdate(d),h.onComplete()});return}}return l.isSync?new vd(h):new wN(h)};function bm(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Nd(e,t,n,s){if(typeof t=="function"){const[i,a]=bm(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=bm(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function Xs(e,t,n){const s=e.getProps();return Nd(s,t,n!==void 0?n:s.custom,e)}const ny=new Set(["width","height","top","left","right","bottom",...wr]),wm=30,MN=e=>!isNaN(parseFloat(e));class _N{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=Fe.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=MN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cd);const s=this.events[t].add(n);return t==="change"?()=>{s(),te.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wm);return wg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(e,t){return new _N(e,t)}const Hc=e=>Array.isArray(e);function ON(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xr(n))}function LN(e){return Hc(e)?e[e.length-1]||0:e}function IN(e,t){const n=Xs(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const o in a){const l=LN(a[o]);ON(e,o,l)}}const De=e=>!!(e&&e.getVelocity);function FN(e){return!!(De(e)&&e.add)}function Qc(e,t){const n=e.getValue("willChange");if(FN(n))return n.add(t);if(!n&&rn.WillChange){const s=new rn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Sd(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const VN="framerAppearId",sy="data-"+Sd(VN);function ry(e){return e.props[sy]}function UN({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function iy(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a,transitionEnd:o,...l}=t;const c=e.getDefaultTransition();a=a?ty(a,c):c;const u=a==null?void 0:a.reduceMotion;s&&(a=s);const h=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const g=e.getValue(d,e.latestValues[d]??null),v=l[d];if(v===void 0||m&&UN(m,d))continue;const y={delay:n,...bd(a||{},d)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!y.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const w=ry(e);if(w){const E=window.MotionHandoffAnimation(w,d,te);E!==null&&(y.startTime=E,f=!0)}}Qc(e,d);const x=u??e.shouldReduceMotion;g.start(wd(d,g,v,x&&ny.has(d)?{type:!1}:y,e,f));const p=g.animation;p&&h.push(p)}if(o){const d=()=>te.update(()=>{o&&IN(e,o)});h.length?Promise.all(h).then(d):d()}return h}function Xc(e,t,n={}){var c;const s=Xs(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(iy(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:d}=i;return BN(e,t,u,h,m,d,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,h]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function BN(e,t,n=0,s=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Xc(c,t,{...o,delay:n+(typeof s=="function"?0:s)+Jg(e.variantChildren,c,s,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function zN(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>Xc(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=Xc(e,t,n);else{const i=typeof t=="function"?Xs(e,t,n.custom):t;s=Promise.all(iy(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const $N={test:e=>e==="auto",parse:e=>e},ay=e=>t=>t.test(e),oy=[br,B,Ft,cn,gw,xw,$N],Nm=e=>oy.find(ay(e));function WN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||bg(e):!0}const KN=new Set(["brightness","contrast","saturate","opacity"]);function GN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(md)||[];if(!s)return e;const i=n.replace(s,"");let a=KN.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const HN=/\b([a-z-]*)\(.*?\)/gu,Yc={...Vn,getAnimatableNone:e=>{const t=e.match(HN);return t?t.map(GN).join(" "):e}},Sm={...br,transform:Math.round},QN={rotate:cn,rotateX:cn,rotateY:cn,rotateZ:cn,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:cn,skewX:cn,skewY:cn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:vi,originX:um,originY:um,originZ:B},kd={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,inset:B,insetBlock:B,insetBlockStart:B,insetBlockEnd:B,insetInline:B,insetInlineStart:B,insetInlineEnd:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,paddingBlock:B,paddingBlockStart:B,paddingBlockEnd:B,paddingInline:B,paddingInlineStart:B,paddingInlineEnd:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,marginBlock:B,marginBlockStart:B,marginBlockEnd:B,marginInline:B,marginInlineStart:B,marginInlineEnd:B,fontSize:B,backgroundPositionX:B,backgroundPositionY:B,...QN,zIndex:Sm,fillOpacity:vi,strokeOpacity:vi,numOctaves:Sm},XN={...kd,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:Yc,WebkitFilter:Yc},ly=e=>XN[e];function cy(e,t){let n=ly(e);return n!==Yc&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YN=new Set(["auto","none","0"]);function qN(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!YN.has(a)&&ji(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=cy(n,i)}class ZN extends jd{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),hd(m))){const d=ey(m,n.current);d!==void 0&&(t[h]=d),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!ny.has(s)||t.length!==2)return;const[i,a]=t,o=Nm(i),l=Nm(a),c=cm(i),u=cm(a);if(c!==u&&Cn[s]){this.needsMeasurement=!0;return}if(o!==l)if(ym(o)&&ym(l))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else Cn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||WN(t[i]))&&s.push(i);s.length&&qN(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Cn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const JN=new Set(["opacity","clipPath","filter","transform"]);function uy(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const dy=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function eS(e){return jg(e)&&"offsetHeight"in e}const{schedule:Cd}=Mg(queueMicrotask,!1),yt={x:!1,y:!1};function hy(){return yt.x||yt.y}function tS(e){return e==="x"||e==="y"?yt[e]?null:(yt[e]=!0,()=>{yt[e]=!1}):yt.x||yt.y?null:(yt.x=yt.y=!0,()=>{yt.x=yt.y=!1})}function my(e,t){const n=uy(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function nS(e){return!(e.pointerType==="touch"||hy())}function sS(e,t,n={}){const[s,i,a]=my(e,n);return s.forEach(o=>{let l=!1,c=!1,u;const h=()=>{o.removeEventListener("pointerleave",v)},m=S=>{u&&(u(S),u=void 0),h()},d=S=>{l=!1,window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d),c&&(c=!1,m(S))},g=()=>{l=!0,window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",d,i)},v=S=>{if(S.pointerType!=="touch"){if(l){c=!0;return}m(S)}},y=S=>{if(!nS(S))return;c=!1;const f=t(o,S);typeof f=="function"&&(u=f,o.addEventListener("pointerleave",v,i))};o.addEventListener("pointerenter",y,i),o.addEventListener("pointerdown",g,i)}),a}const fy=(e,t)=>t?e===t?!0:fy(e,t.parentElement):!1,Pd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iS(e){return rS.has(e.tagName)||e.isContentEditable===!0}const aS=new Set(["INPUT","SELECT","TEXTAREA"]);function oS(e){return aS.has(e.tagName)||e.isContentEditable===!0}const Ca=new WeakSet;function km(e){return t=>{t.key==="Enter"&&e(t)}}function pl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lS=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=km(()=>{if(Ca.has(n))return;pl(n,"down");const i=km(()=>{pl(n,"up")}),a=()=>pl(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Cm(e){return Pd(e)&&!hy()}const Pm=new WeakSet;function cS(e,t,n={}){const[s,i,a]=my(e,n),o=l=>{const c=l.currentTarget;if(!Cm(l)||Pm.has(l))return;Ca.add(c),n.stopPropagation&&Pm.add(l);const u=t(c,l),h=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",d),Ca.has(c)&&Ca.delete(c),Cm(g)&&typeof u=="function"&&u(g,{success:v})},m=g=>{h(g,c===window||c===document||n.useGlobalTarget||fy(c,g.target))},d=g=>{h(g,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",d,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),eS(l)&&(l.addEventListener("focus",u=>lS(u,i)),!iS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Ed(e){return jg(e)&&"ownerSVGElement"in e}const Pa=new WeakMap;let un;const py=(e,t,n)=>(s,i)=>i&&i[0]?i[0][e+"Size"]:Ed(s)&&"getBBox"in s?s.getBBox()[t]:s[n],uS=py("inline","width","offsetWidth"),dS=py("block","height","offsetHeight");function hS({target:e,borderBoxSize:t}){var n;(n=Pa.get(e))==null||n.forEach(s=>{s(e,{get width(){return uS(e,t)},get height(){return dS(e,t)}})})}function mS(e){e.forEach(hS)}function fS(){typeof ResizeObserver>"u"||(un=new ResizeObserver(mS))}function pS(e,t){un||fS();const n=uy(e);return n.forEach(s=>{let i=Pa.get(s);i||(i=new Set,Pa.set(s,i)),i.add(t),un==null||un.observe(s)}),()=>{n.forEach(s=>{const i=Pa.get(s);i==null||i.delete(t),i!=null&&i.size||un==null||un.unobserve(s)})}}const Ea=new Set;let Vs;function xS(){Vs=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ea.forEach(t=>t(e))},window.addEventListener("resize",Vs)}function gS(e){return Ea.add(e),Vs||xS(),()=>{Ea.delete(e),!Ea.size&&typeof Vs=="function"&&(window.removeEventListener("resize",Vs),Vs=void 0)}}function Em(e,t){return typeof e=="function"?gS(e):pS(e,t)}function yS(e){return Ed(e)&&e.tagName==="svg"}const vS=[...oy,pe,Vn],jS=e=>vS.find(ay(e)),Tm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:Tm(),y:Tm()}),Rm=()=>({min:0,max:0}),ge=()=>({x:Rm(),y:Rm()}),bS=new WeakMap;function Do(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bi(e){return typeof e=="string"||Array.isArray(e)}const Td=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rd=["initial",...Td];function Mo(e){return Do(e.animate)||Rd.some(t=>bi(e[t]))}function xy(e){return!!(Mo(e)||e.variants)}function wS(e,t,n){for(const s in t){const i=t[s],a=n[s];if(De(i))e.addValue(s,i);else if(De(a))e.addValue(s,xr(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,xr(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const qc={current:null},gy={current:!1},NS=typeof window<"u";function SS(){if(gy.current=!0,!!NS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qc.current=e.matches;e.addEventListener("change",t),t()}else qc.current=!1}const Am=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let oo={};function yy(e){oo=e}function kS(){return oo}class CS{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=jd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Fe.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,te.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Mo(n),this.isVariantNode=xy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in d){const v=d[g];u[g]!==void 0&&De(v)&&v.set(u[g])}}mount(t){var n,s;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,bS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gy.current||SS(),this.shouldReduceMotion=qc.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&JN.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:c,ease:u,duration:h}=n.accelerate,m=new qg({element:this.current,name:t,keyframes:l,times:c,ease:u,duration:Ct(h)}),d=o(m);this.valueSubscriptions.set(t,()=>{d(),m.cancel()});return}const s=Nr.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&te.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oo){const n=oo[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Am.length;s++){const i=Am[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wS(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=xr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(vg(s)||bg(s))?s=parseFloat(s):!jS(s)&&Vn.test(n)&&(s=cy(t,n)),this.setBaseTarget(t,De(s)?s.get():s)),De(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Nd(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!De(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Cd.render(this.render)}}class vy extends CS{constructor(){super(...arguments),this.KeyframeResolver=ZN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;De(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $n{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jy({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ES(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function xl(e){return e===void 0||e===1}function Zc({scale:e,scaleX:t,scaleY:n}){return!xl(e)||!xl(t)||!xl(n)}function Qn(e){return Zc(e)||by(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function by(e){return Dm(e.x)||Dm(e.y)}function Dm(e){return e&&e!=="0%"}function lo(e,t,n){const s=e-n,i=t*s;return n+i}function Mm(e,t,n,s,i){return i!==void 0&&(e=lo(e,i,s)),lo(e,n,s)+t}function Jc(e,t=0,n=1,s,i){e.min=Mm(e.min,t,n,s,i),e.max=Mm(e.max,t,n,s,i)}function wy(e,{x:t,y:n}){Jc(e.x,t.translate,t.scale,t.originPoint),Jc(e.y,n.translate,n.scale,n.originPoint)}const _m=.999999999999,Om=1.0000000000001;function TS(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&zs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wy(e,o)),s&&Qn(a.latestValues)&&zs(e,a.latestValues))}t.x<Om&&t.x>_m&&(t.x=1),t.y<Om&&t.y>_m&&(t.y=1)}function Bs(e,t){e.min=e.min+t,e.max=e.max+t}function Lm(e,t,n,s,i=.5){const a=oe(e.min,e.max,i);Jc(e,t,n,a,s)}function zs(e,t){Lm(e.x,t.x,t.scaleX,t.scale,t.originX),Lm(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ny(e,t){return jy(ES(e.getBoundingClientRect(),t))}function RS(e,t,n){const s=Ny(e,n),{scroll:i}=t;return i&&(Bs(s.x,i.offset.x),Bs(s.y,i.offset.y)),s}const AS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DS=wr.length;function MS(e,t,n){let s="",i=!0;for(let a=0;a<DS;a++){const o=wr[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const u=parseFloat(l);c=o.startsWith("scale")?u===1:u===0}if(!c||n){const u=dy(l,kd[o]);if(!c){i=!1;const h=AS[o]||o;s+=`${h}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Ad(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Nr.has(c)){o=!0;continue}else if(Og(c)){i[c]=u;continue}else{const h=dy(u,kd[c]);c.startsWith("origin")?(l=!0,a[c]=h):s[c]=h}}if(t.transform||(o||n?s.transform=MS(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;s.transformOrigin=`${c} ${u} ${h}`}}function Sy(e,{style:t,vars:n},s,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function Im(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=Im(e,t.target.x),s=Im(e,t.target.y);return`${n}% ${s}%`}},_S={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Vn.parse(e);if(i.length>5)return s;const a=Vn.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=oe(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}},eu={borderRadius:{...Mr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mr,borderTopRightRadius:Mr,borderBottomLeftRadius:Mr,borderBottomRightRadius:Mr,boxShadow:_S};function ky(e,{layout:t,layoutId:n}){return Nr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!eu[e]||e==="opacity")}function Dd(e,t,n){var o;const s=e.style,i=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(De(s[l])||i&&De(i[l])||ky(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function OS(e){return window.getComputedStyle(e)}class LS extends vy{constructor(){super(...arguments),this.type="html",this.renderInstance=Sy}readValueFromInstance(t,n){var s;if(Nr.has(n))return(s=this.projection)!=null&&s.isProjecting?Bc(n):eN(t,n);{const i=OS(t),a=(Og(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ny(t,n)}build(t,n,s){Ad(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Dd(t,n,s)}}const IS={offset:"stroke-dashoffset",array:"stroke-dasharray"},FS={offset:"strokeDashoffset",array:"strokeDasharray"};function VS(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?IS:FS;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const US=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cy(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,u,h){if(Ad(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:d}=e;m.transform&&(d.transform=m.transform,delete m.transform),(d.transform||m.transformOrigin)&&(d.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox);for(const g of US)m[g]!==void 0&&(d[g]=m[g],delete m[g]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&VS(m,i,a,o,!1)}const Py=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ey=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BS(e,t,n,s){Sy(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(Py.has(i)?i:Sd(i),t.attrs[i])}function Ty(e,t,n){const s=Dd(e,t,n);for(const i in e)if(De(e[i])||De(t[i])){const a=wr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}class zS extends vy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Nr.has(n)){const s=ly(n);return s&&s.default||0}return n=Py.has(n)?n:Sd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Ty(t,n,s)}build(t,n,s){Cy(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){BS(t,n,s,i)}mount(t){this.isSVGTag=Ey(t.tagName),super.mount(t)}}const $S=Rd.length;function Ry(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ry(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$S;n++){const s=Rd[n],i=e.props[s];(bi(i)||i===!1)&&(t[s]=i)}return t}function Ay(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const WS=[...Td].reverse(),KS=Td.length;function GS(e){return t=>Promise.all(t.map(({animation:n,options:s})=>zN(e,n,s)))}function HS(e){let t=GS(e),n=Fm(),s=!0;const i=c=>(u,h)=>{var d;const m=Xs(e,h,c==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(m){const{transition:g,transitionEnd:v,...y}=m;u={...u,...y,...v}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,h=Ry(e.parent)||{},m=[],d=new Set;let g={},v=1/0;for(let S=0;S<KS;S++){const f=WS[S],x=n[f],p=u[f]!==void 0?u[f]:h[f],w=bi(p),E=f===c?x.isActive:null;E===!1&&(v=S);let k=p===h[f]&&p!==u[f]&&w;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...g},!x.isActive&&E===null||!p&&!x.prevProp||Do(p)||typeof p=="boolean")continue;if(f==="exit"&&x.isActive&&E!==!0){x.prevResolvedValues&&(g={...g,...x.prevResolvedValues});continue}const T=QS(x.prevProp,p);let b=T||f===c&&x.isActive&&!k&&w||S>v&&w,P=!1;const R=Array.isArray(p)?p:[p];let _=R.reduce(i(f),{});E===!1&&(_={});const{prevResolvedValues:V={}}=x,W={...V,..._},G=O=>{b=!0,d.has(O)&&(P=!0,d.delete(O)),x.needsAnimating[O]=!0;const C=e.getValue(O);C&&(C.liveStyle=!1)};for(const O in W){const C=_[O],A=V[O];if(g.hasOwnProperty(O))continue;let I=!1;Hc(C)&&Hc(A)?I=!Ay(C,A):I=C!==A,I?C!=null?G(O):d.add(O):C!==void 0&&d.has(O)?G(O):x.protectedKeys[O]=!0}x.prevProp=p,x.prevResolvedValues=_,x.isActive&&(g={...g,..._}),s&&e.blockInitialAnimation&&(b=!1);const D=k&&T;b&&(!D||P)&&m.push(...R.map(O=>{const C={type:f};if(typeof O=="string"&&s&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:A}=e,I=Xs(A,O);if(A.enteringChildren&&I){const{delayChildren:Y}=I.transition||{};C.delay=Jg(A.enteringChildren,e,Y)}}return{animation:O,options:C}}))}if(d.size){const S={};if(typeof u.initial!="boolean"){const f=Xs(e,Array.isArray(u.initial)?u.initial[0]:u.initial);f&&f.transition&&(S.transition=f.transition)}d.forEach(f=>{const x=e.getBaseTarget(f),p=e.getValue(f);p&&(p.liveStyle=!0),S[f]=x??null}),m.push({animation:S})}let y=!!m.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(m):Promise.resolve()}function l(c,u){var m;if(n[c].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(d=>{var g;return(g=d.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Fm()}}}function QS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ay(t,e):!1}function Kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fm(){return{animate:Kn(!0),whileInView:Kn(),whileHover:Kn(),whileTap:Kn(),whileDrag:Kn(),whileFocus:Kn(),exit:Kn()}}function Vm(e,t){e.min=t.min,e.max=t.max}function gt(e,t){Vm(e.x,t.x),Vm(e.y,t.y)}function Um(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Dy=1e-4,XS=1-Dy,YS=1+Dy,My=.01,qS=0-My,ZS=0+My;function Ve(e){return e.max-e.min}function JS(e,t,n){return Math.abs(e-t)<=n}function Bm(e,t,n,s=.5){e.origin=s,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Ve(n)/Ve(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=XS&&e.scale<=YS||isNaN(e.scale))&&(e.scale=1),(e.translate>=qS&&e.translate<=ZS||isNaN(e.translate))&&(e.translate=0)}function Zr(e,t,n,s){Bm(e.x,t.x,n.x,s?s.originX:void 0),Bm(e.y,t.y,n.y,s?s.originY:void 0)}function zm(e,t,n){e.min=n.min+t.min,e.max=e.min+Ve(t)}function e1(e,t,n){zm(e.x,t.x,n.x),zm(e.y,t.y,n.y)}function $m(e,t,n){e.min=t.min-n.min,e.max=e.min+Ve(t)}function co(e,t,n){$m(e.x,t.x,n.x),$m(e.y,t.y,n.y)}function Wm(e,t,n,s,i){return e-=t,e=lo(e,1/n,s),i!==void 0&&(e=lo(e,1/i,s)),e}function t1(e,t=0,n=1,s=.5,i,a=e,o=e){if(Ft.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=oe(a.min,a.max,s);e===a&&(l-=t),e.min=Wm(e.min,t,n,l,i),e.max=Wm(e.max,t,n,l,i)}function Km(e,t,[n,s,i],a,o){t1(e,t[n],t[s],t[i],t.scale,a,o)}const n1=["x","scaleX","originX"],s1=["y","scaleY","originY"];function Gm(e,t,n,s){Km(e.x,t,n1,n?n.x:void 0,s?s.x:void 0),Km(e.y,t,s1,n?n.y:void 0,s?s.y:void 0)}function Hm(e){return e.translate===0&&e.scale===1}function _y(e){return Hm(e.x)&&Hm(e.y)}function Qm(e,t){return e.min===t.min&&e.max===t.max}function r1(e,t){return Qm(e.x,t.x)&&Qm(e.y,t.y)}function Xm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Oy(e,t){return Xm(e.x,t.x)&&Xm(e.y,t.y)}function Ym(e){return Ve(e.x)/Ve(e.y)}function qm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function At(e){return[e("x"),e("y")]}function i1(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(s=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:d,skewX:g,skewY:v}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),m&&(s+=`rotateX(${m}deg) `),d&&(s+=`rotateY(${d}deg) `),g&&(s+=`skewX(${g}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Ly=["TopLeft","TopRight","BottomLeft","BottomRight"],a1=Ly.length,Zm=e=>typeof e=="string"?parseFloat(e):e,Jm=e=>typeof e=="number"||B.test(e);function o1(e,t,n,s,i,a){i?(e.opacity=oe(0,n.opacity??1,l1(s)),e.opacityExit=oe(t.opacity??1,0,c1(s))):a&&(e.opacity=oe(t.opacity??1,n.opacity??1,s));for(let o=0;o<a1;o++){const l=`border${Ly[o]}Radius`;let c=ef(t,l),u=ef(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Jm(c)===Jm(u)?(e[l]=Math.max(oe(Zm(c),Zm(u),s),0),(Ft.test(u)||Ft.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,s))}function ef(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const l1=Iy(0,.5,Tg),c1=Iy(.5,.95,dt);function Iy(e,t,n){return s=>s<e?0:s>t?1:n(yi(e,t,s))}function u1(e,t,n){const s=De(e)?e:xr(e);return s.start(wd("",s,t,n)),s.animation}function wi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const d1=(e,t)=>e.depth-t.depth;class h1{constructor(){this.children=[],this.isDirty=!1}add(t){ad(this.children,t),this.isDirty=!0}remove(t){so(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(d1),this.isDirty=!1,this.children.forEach(t)}}function m1(e,t){const n=Fe.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Fn(s),e(a-t))};return te.setup(s,!0),()=>Fn(s)}function Ta(e){return De(e)?e.get():e}class f1{constructor(){this.members=[]}add(t){ad(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const i=s.instance;i&&i.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&so(this.members,s)}t.scheduleRender()}remove(t){if(so(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i],o=a.instance;if(a.isPresent!==!1&&(!o||o.isConnected!==!1)){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const i=s.options.layoutDependency,a=t.options.layoutDependency;if(!(i!==void 0&&a!==void 0&&i===a)){const c=s.instance;c&&c.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1},gl=["","X","Y","Z"],p1=1e3;let x1=0;function yl(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Fy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ry(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",te,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Fy(s)}function Vy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=x1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v1),this.nodes.forEach(N1),this.nodes.forEach(S1),this.nodes.forEach(j1)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new h1)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cd),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ed(o)&&!yS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,m=0;const d=()=>this.root.updateBlockedByResize=!1;te.read(()=>{m=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,h&&h(),h=m1(d,250),Ra.hasAnimatedSinceResize&&(Ra.hasAnimatedSinceResize=!1,this.nodes.forEach(sf)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:d,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||T1,{onLayoutAnimationStart:y,onLayoutAnimationComplete:S}=u.getProps(),f=!this.targetLayout||!Oy(this.targetLayout,g),x=!m&&d;if(this.options.layoutRoot||this.resumeFrom||x||m&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const p={...bd(v,"layout"),onPlay:y,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p),this.setAnimationOrigin(h,x)}else m||sf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(w1),this.nodes.forEach(g1),this.nodes.forEach(y1)):this.nodes.forEach(nf),this.clearAllSnapshots();const l=Fe.now();ke.delta=Vt(0,1e3/60,l-ke.timestamp),ke.timestamp=l,ke.isProcessing=!0,cl.update.process(ke),cl.preRender.process(ke),cl.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b1),this.sharedNodes.forEach(C1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ve(this.snapshot.measuredBox.x)&&!Ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_y(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Qn(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),R1(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ge();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(A1))){const{scroll:h}=this.root;h&&(Bs(l.x,h.offset.x),Bs(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=ge();if(gt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:d}=h;h!==this.root&&m&&d.layoutScroll&&(m.wasRoot&&gt(l,o),Bs(l.x,m.offset.x),Bs(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=ge();gt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zs(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Qn(h.latestValues)&&zs(c,h.latestValues)}return Qn(this.latestValues)&&zs(c,this.latestValues),c}removeTransform(o){const l=ge();gt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Qn(u.latestValues))continue;Zc(u.latestValues)&&u.updateSnapshot();const h=ge(),m=u.measurePageBox();gt(h,m),Gm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Qn(this.latestValues)&&Gm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=ke.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gt(this.target,this.layout.layoutBox),wy(this.target,this.targetDelta)):gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zc(this.parent.latestValues)||by(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),co(this.relativeTargetOrigin,l,c),gt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;gt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,d=this.treeScale.y;TS(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ge());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Um(this.prevProjectionDelta.x,this.projectionDelta.x),Um(this.prevProjectionDelta.y,this.projectionDelta.y)),Zr(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==d||!qm(this.projectionDelta.x,this.prevProjectionDelta.x)||!qm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},m=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=ge(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,S=this.getStack(),f=!S||S.members.length<=1,x=!!(y&&!f&&this.options.crossfade===!0&&!this.path.some(E1));this.animationProgress=0;let p;this.mixTargetDelta=w=>{const E=w/1e3;rf(m.x,o.x,E),rf(m.y,o.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P1(this.relativeTarget,this.relativeTargetOrigin,d,E),p&&r1(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=ge()),gt(p,this.relativeTarget)),y&&(this.animationValues=h,o1(h,u,this.latestValues,E,x,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{Ra.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xr(0)),this.currentAnimation=u1(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Uy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ge();const m=Ve(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const d=Ve(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+d}gt(l,c),zs(l,h),Zr(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f1),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&yl("z",o,u,this.animationValues);for(let h=0;h<gl.length;h++)yl(`rotate${gl[h]}`,o,u,this.animationValues),yl(`skew${gl[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ta(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ta(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Qn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=i1(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:d,y:g}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in eu){if(h[v]===void 0)continue;const{correct:y,applyTo:S,isCSSVariable:f}=eu[v],x=m==="none"?h[v]:y(h[v],u);if(S){const p=S.length;for(let w=0;w<p;w++)o[S[w]]=x}else f?this.options.visualElement.renderState.vars[v]=x:o[v]=x}this.options.layoutId&&(o.pointerEvents=u===this?Ta(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(tf),this.root.sharedNodes.clear()}}}function g1(e){e.updateLayout()}function y1(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?At(m=>{const d=o?t.measuredBox[m]:t.layoutBox[m],g=Ve(d);d.min=s[m].min,d.max=d.min+g}):Uy(a,t.layoutBox,s)&&At(m=>{const d=o?t.measuredBox[m]:t.layoutBox[m],g=Ve(s[m]);d.max=d.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=Us();Zr(l,s,t.layoutBox);const c=Us();o?Zr(c,e.applyTransform(i,!0),t.measuredBox):Zr(c,s,t.layoutBox);const u=!_y(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:d,layout:g}=m;if(d&&g){const v=ge();co(v,t.layoutBox,d.layoutBox);const y=ge();co(y,s,g.layoutBox),Oy(v,y)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function v1(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j1(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function b1(e){e.clearSnapshot()}function tf(e){e.clearMeasurements()}function nf(e){e.isLayoutDirty=!1}function w1(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N1(e){e.resolveTargetDelta()}function S1(e){e.calcProjection()}function k1(e){e.resetSkewAndRotation()}function C1(e){e.removeLeadSnapshot()}function rf(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function af(e,t,n,s){e.min=oe(t.min,n.min,s),e.max=oe(t.max,n.max,s)}function P1(e,t,n,s){af(e.x,t.x,n.x,s),af(e.y,t.y,n.y,s)}function E1(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T1={duration:.45,ease:[.4,0,.1,1]},of=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lf=of("applewebkit/")&&!of("chrome/")?Math.round:dt;function cf(e){e.min=lf(e.min),e.max=lf(e.max)}function R1(e){cf(e.x),cf(e.y)}function Uy(e,t,n){return e==="position"||e==="preserve-aspect"&&!JS(Ym(t),Ym(n),.2)}function A1(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const D1=Vy({attachResizeListener:(e,t)=>wi(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),vl={current:void 0},By=Vy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vl.current){const e=new D1({});e.mount(window),e.setOptions({layoutScroll:!0}),vl.current=e}return vl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zy=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function M1(e=!0){const t=j.useContext(id);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=j.useId();j.useEffect(()=>{if(e)return i(a)},[e]);const o=j.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const $y=j.createContext({strict:!1}),uf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let df=!1;function _1(){if(df)return;const e={};for(const t in uf)e[t]={isEnabled:n=>uf[t].some(s=>!!n[s])};yy(e),df=!0}function Wy(){return _1(),kS()}function O1(e){const t=Wy();for(const n in e)t[n]={...t[n],...e[n]};yy(t)}const L1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function uo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L1.has(e)}let Ky=e=>!uo(e);function I1(e){typeof e=="function"&&(Ky=t=>t.startsWith("on")?!uo(t):e(t))}try{I1(require("@emotion/is-prop-valid").default)}catch{}function F1(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ky(i)||n===!0&&uo(i)||!t&&!uo(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const _o=j.createContext({});function V1(e,t){if(Mo(e)){const{initial:n,animate:s}=e;return{initial:n===!1||bi(n)?n:void 0,animate:bi(s)?s:void 0}}return e.inherit!==!1?t:{}}function U1(e){const{initial:t,animate:n}=V1(e,j.useContext(_o));return j.useMemo(()=>({initial:t,animate:n}),[hf(t),hf(n)])}function hf(e){return Array.isArray(e)?e.join(" "):e}const Md=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gy(e,t,n){for(const s in t)!De(t[s])&&!ky(s,n)&&(e[s]=t[s])}function B1({transformTemplate:e},t){return j.useMemo(()=>{const n=Md();return Ad(n,t,e),Object.assign({},n.vars,n.style)},[t])}function z1(e,t){const n=e.style||{},s={};return Gy(s,n,e),Object.assign(s,B1(e,t)),s}function $1(e,t){const n={},s=z1(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Hy=()=>({...Md(),attrs:{}});function W1(e,t,n,s){const i=j.useMemo(()=>{const a=Hy();return Cy(a,t,Ey(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Gy(a,e.style,e),i.style={...a,...i.style}}return i}const K1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(e){return typeof e!="string"||e.includes("-")?!1:!!(K1.indexOf(e)>-1||/[A-Z]/u.test(e))}function G1(e,t,n,{latestValues:s},i,a=!1,o){const c=(o??_d(e)?W1:$1)(t,s,i,e),u=F1(t,typeof e=="string",a),h=e!==j.Fragment?{...u,...c,ref:n}:{},{children:m}=t,d=j.useMemo(()=>De(m)?m.get():m,[m]);return j.createElement(e,{...h,children:d})}function H1({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Q1(n,s,i,e),renderState:t()}}function Q1(e,t,n,s){const i={},a=s(e,{});for(const d in a)i[d]=Ta(a[d]);let{initial:o,animate:l}=e;const c=Mo(e),u=xy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Do(m)){const d=Array.isArray(m)?m:[m];for(let g=0;g<d.length;g++){const v=Nd(e,d[g]);if(v){const{transitionEnd:y,transition:S,...f}=v;for(const x in f){let p=f[x];if(Array.isArray(p)){const w=h?p.length-1:0;p=p[w]}p!==null&&(i[x]=p)}for(const x in y)i[x]=y[x]}}}return i}const Qy=e=>(t,n)=>{const s=j.useContext(_o),i=j.useContext(id),a=()=>H1(e,t,s,i);return n?a():Yb(a)},X1=Qy({scrapeMotionValuesFromProps:Dd,createRenderState:Md}),Y1=Qy({scrapeMotionValuesFromProps:Ty,createRenderState:Hy}),q1=Symbol.for("motionComponentSymbol");function Z1(e,t,n){const s=j.useRef(n);j.useInsertionEffect(()=>{s.current=n});const i=j.useRef(null);return j.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[t])}const Xy=j.createContext({});function ks(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function J1(e,t,n,s,i,a){var p,w;const{visualElement:o}=j.useContext(_o),l=j.useContext($y),c=j.useContext(id),u=j.useContext(zy),h=u.reducedMotion,m=u.skipAnimations,d=j.useRef(null),g=j.useRef(!1);s=s||l.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:m,isSVG:a}),g.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const v=d.current,y=j.useContext(Xy);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&ek(d.current,n,i,y);const S=j.useRef(!1);j.useInsertionEffect(()=>{v&&S.current&&v.update(n,c)});const f=n[sy],x=j.useRef(!!f&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,f))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,f)));return qb(()=>{g.current=!0,v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),x.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!x.current&&v.animationState&&v.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,f)}),x.current=!1),v.enteringChildren=void 0)}),v}function ek(e,t,n,s){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yy(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&ks(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function Yy(e){if(e)return e.options.allowProjection!==!1?e.projection:Yy(e.parent)}function jl(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&O1(s);const a=n?n==="svg":_d(e),o=a?Y1:X1;function l(u,h){let m;const d={...j.useContext(zy),...u,layoutId:tk(u)},{isStatic:g}=d,v=U1(u),y=o(u,g);if(!g&&yg){nk();const S=sk(d);m=S.MeasureLayout,v.visualElement=J1(e,y,d,i,S.ProjectionNode,a)}return r.jsxs(_o.Provider,{value:v,children:[m&&v.visualElement?r.jsx(m,{visualElement:v.visualElement,...d}):null,G1(e,u,Z1(y,v.visualElement,h),y,g,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=j.forwardRef(l);return c[q1]=e,c}function tk({layoutId:e}){const t=j.useContext(gg).id;return t&&e!==void 0?t+"-"+e:e}function nk(e,t){j.useContext($y).strict}function sk(e){const t=Wy(),{drag:n,layout:s}=t;if(!n&&!s)return{};const i={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function rk(e,t){if(typeof Proxy>"u")return jl;const n=new Map,s=(a,o)=>jl(a,o,e,t),i=(a,o)=>s(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,jl(o,void 0,e,t)),n.get(o))})}const ik=(e,t)=>t.isSVG??_d(e)?new zS(t):new LS(t,{allowProjection:e!==j.Fragment});class ak extends $n{constructor(t){super(t),t.animationState||(t.animationState=HS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Do(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ok=0;class lk extends $n{constructor(){super(...arguments),this.id=ok++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ck={animation:{Feature:ak},exit:{Feature:lk}};function Fi(e){return{point:{x:e.pageX,y:e.pageY}}}const uk=e=>t=>Pd(t)&&e(t,Fi(t));function Jr(e,t,n,s){return wi(e,t,uk(n),s)}const qy=({current:e})=>e?e.ownerDocument.defaultView:null,mf=(e,t)=>Math.abs(e-t);function dk(e,t){const n=mf(e.x,t.x),s=mf(e.y,t.y);return Math.sqrt(n**2+s**2)}const ff=new Set(["auto","scroll"]);class Zy{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=wl(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=dk(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:S}=g,{timestamp:f}=ke;this.history.push({...S,timestamp:f});const{onStart:x,onMove:p}=this.handlers;v||(x&&x(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=bl(v,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:y,onSessionEnd:S,resumeAnimation:f}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wl(g.type==="pointercancel"?this.lastMoveEventInfo:bl(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,x),S&&S(g,x)},!Pd(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=Fi(t),u=bl(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=ke;this.history=[{...h,timestamp:m}];const{onSessionStart:d}=n;d&&d(t,wl(u,this.history)),this.removeListeners=Oi(Jr(this.contextWindow,"pointermove",this.handlePointerMove),Jr(this.contextWindow,"pointerup",this.handlePointerUp),Jr(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(ff.has(s.overflowX)||ff.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,i),te.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fn(this.updatePoint)}}function bl(e,t){return t?{point:t(e.point)}:e}function pf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wl({point:e},t){return{point:e,delta:pf(e,Jy(t)),offset:pf(e,hk(t)),velocity:mk(t,.1)}}function hk(e){return e[0]}function Jy(e){return e[e.length-1]}function mk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Jy(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Ct(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&i.timestamp-s.timestamp>Ct(t)*2&&(s=e[1]);const a=ct(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?oe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?oe(n,e,s.max):Math.min(e,n)),e}function xf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pk(e,{top:t,left:n,bottom:s,right:i}){return{x:xf(e.x,n,i),y:xf(e.y,t,s)}}function gf(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function xk(e,t){return{x:gf(e.x,t.x),y:gf(e.y,t.y)}}function gk(e,t){let n=.5;const s=Ve(e),i=Ve(t);return i>s?n=yi(t.min,t.max-s,e.min):s>i&&(n=yi(e.min,e.max-i,t.min)),Vt(0,1,n)}function yk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tu=.35;function vk(e=tu){return e===!1?e=0:e===!0&&(e=tu),{x:yf(e,"left","right"),y:yf(e,"top","bottom")}}function yf(e,t,n){return{min:vf(e,t),max:vf(e,n)}}function vf(e,t){return typeof e=="number"?e:e[t]||0}const jk=new WeakMap;class bk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{n&&this.snapToCursor(Fi(m).point),this.stopAnimation()},o=(m,d)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tS(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(f=>{let x=this.getAxisMotionValue(f).get()||0;if(Ft.test(x)){const{projection:p}=this.visualElement;if(p&&p.layout){const w=p.layout.layoutBox[f];w&&(x=Ve(w)*(parseFloat(x)/100))}}this.originPoint[f]=x}),y&&te.update(()=>y(m,d),!1,!0),Qc(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:S}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:f}=d;if(v&&this.currentDirection===null){this.currentDirection=Nk(f),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,f),this.updateAxis("y",d.point,f),this.visualElement.render(),S&&te.update(()=>S(m,d),!1,!0)},c=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d,this.stop(m,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new Zy(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:qy(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&te.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!ca(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=fk(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&ks(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=pk(s.layoutBox,t):this.constraints=!1,this.elastic=vk(n),i!==this.constraints&&!ks(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&At(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ks(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=RS(s,i.root,this.visualElement.getTransformPagePoint());let o=xk(i.layout.layoutBox,a);if(n){const l=n(PS(o));this.hasMutatedConstraints=!!l,l&&(o=jy(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=At(h=>{if(!ca(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const d=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:s?t[h]:0,bounceStiffness:d,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Qc(this.visualElement,t),s.start(wd(t,s,0,n,this.visualElement,!1))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){At(n=>{const{drag:s}=this.getProps();if(!ca(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n],c=a.get()||0;a.set(t[n]-oe(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ks(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};At(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=gk({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),At(o=>{if(!ca(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(oe(c,u,i[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;jk.set(this.visualElement,this);const t=this.visualElement.current,n=Jr(t,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps(),d=u.target,g=d!==t&&oS(d);h&&m&&!g&&this.start(u)});let s;const i=()=>{const{dragConstraints:u}=this.getProps();ks(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),s||(s=wk(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),te.read(i);const l=wi(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(At(m=>{const d=this.getAxisMotionValue(m);d&&(this.originPoint[m]+=u[m].translate,d.set(d.get()+u[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=tu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function jf(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function wk(e,t,n){const s=Em(e,jf(n)),i=Em(t,jf(n));return()=>{s(),i()}}function ca(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Nk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sk extends $n{constructor(t){super(t),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new bk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Nl=e=>(t,n)=>{e&&te.update(()=>e(t,n),!1,!0)};class kk extends $n{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(t){this.session=new Zy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Nl(t),onStart:Nl(n),onMove:Nl(s),onEnd:(a,o)=>{delete this.session,i&&te.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Jr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Sl=!1;class Ck extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Sl&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Sl=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||te.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;Sl=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ev(e){const[t,n]=M1(),s=j.useContext(gg);return r.jsx(Ck,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(Xy),isPresent:t,safeToRemove:n})}const Pk={pan:{Feature:kk},drag:{Feature:Sk,ProjectionNode:By,MeasureLayout:ev}};function bf(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&te.postRender(()=>a(t,Fi(t)))}class Ek extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=sS(t,(n,s)=>(bf(this.node,s,"Start"),i=>bf(this.node,i,"End"))))}unmount(){}}class Tk extends $n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oi(wi(this.node.current,"focus",()=>this.onFocus()),wi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wf(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&te.postRender(()=>a(t,Fi(t)))}class Rk extends $n{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=cS(t,(i,a)=>(wf(this.node,a,"Start"),(o,{success:l})=>wf(this.node,o,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const nu=new WeakMap,kl=new WeakMap,Ak=e=>{const t=nu.get(e.target);t&&t(e)},Dk=e=>{e.forEach(Ak)};function Mk({root:e,...t}){const n=e||document;kl.has(n)||kl.set(n,{});const s=kl.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Dk,{root:e,...t})),s[i]}function _k(e,t,n){const s=Mk(t);return nu.set(e,n),s.observe(e),()=>{nu.delete(e),s.unobserve(e)}}const Ok={some:0,all:1};class Lk extends $n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Ok[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),d=u?h:m;d&&d(c)};return _k(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ik(t,n))&&this.startObserver()}unmount(){}}function Ik({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fk={inView:{Feature:Lk},tap:{Feature:Rk},focus:{Feature:Tk},hover:{Feature:Ek}},Vk={layout:{ProjectionNode:By,MeasureLayout:ev}},Uk={...ck,...Fk,...Pk,...Vk},Nf=rk(Uk,ik);function Bk({url:e}){const[t,n]=j.useState(null),[s,i]=j.useState(!0),[a,o]=j.useState(!1);if(j.useEffect(()=>{let u=!1;async function h(){i(!0),o(!1);try{const m=await fetch(`/api/oembed?url=${encodeURIComponent(e)}`);if(!m.ok)throw new Error("Failed to load");const d=await m.json();u||(n(d),i(!1))}catch{u||(o(!0),i(!1))}}return h(),()=>{u=!0}},[e]),s)return r.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-theme-tertiary/20 aspect-video mb-4 border border-white/5 backdrop-blur-sm",children:[r.jsx(Nf.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),r.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[r.jsx("div",{className:"h-4 w-2/3 bg-white/10 rounded animate-pulse"}),r.jsx("div",{className:"h-3 w-1/3 bg-white/10 rounded animate-pulse"})]})]});if(a||!t)return r.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"block p-4 rounded-xl bg-theme-tertiary/20 border border-white/5 hover:border-accent/30 transition-colors mb-4 group",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-theme-muted truncate mr-2",children:e}),r.jsx("span",{className:"text-accent group-hover:translate-x-1 transition-transform",children:""})]})});const l=t.type==="video"||!!t.html,c=e.includes("pin.it")||e.includes("pinterest");return r.jsxs(Nf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-xl bg-theme-tertiary/20 border border-white/5 hover:border-accent/30 transition-all duration-500 mb-4 backdrop-blur-md shadow-2xl",children:[r.jsxs("div",{className:"relative aspect-auto min-h-[100px] overflow-hidden",children:[t.thumbnail_url?r.jsx("img",{src:t.thumbnail_url,alt:t.title||"Social Media Content",className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700",loading:"lazy"}):t.html?r.jsx("div",{className:"w-full preview-html [&>iframe]:w-full [&>iframe]:aspect-video",dangerouslySetInnerHTML:{__html:t.html}}):r.jsx("div",{className:"p-8 text-center text-theme-muted text-xs italic",children:"Visual content not available"}),!l&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),r.jsx("div",{className:"p-3 bg-black/40 backdrop-blur-md border-t border-white/5",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h4",{className:"text-xs font-bold text-white truncate mb-0.5",children:t.title||(c?"Pinterest Content":"Shared Link")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-[10px] text-accent uppercase tracking-wider font-semibold",children:t.provider_name||(c?"Pinterest":"Social")}),t.author_name&&r.jsxs("span",{className:"text-[10px] text-theme-muted truncate",children:["by ",t.author_name]})]})]}),r.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"flex-shrink-0 w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-accent hover:text-black transition-all duration-300",children:r.jsx("span",{className:"text-sm",children:""})})]})})]})}function zk(){Ut();const[e,t]=j.useState([]),[n,s]=j.useState(!0),[i,a]=j.useState("all"),[o,l]=j.useState(!1),[c,u]=j.useState(null),[h,m]=j.useState(""),[d,g]=j.useState(null),[v,y]=j.useState(null),[S,f]=j.useState([]),x=j.useRef(null),{uploadFile:p}=Xb({onSuccess:M=>{m(M.objectPath)},onError:M=>{console.error("Upload failed:",M)}}),w=()=>{k(),T()},E=["all","ideas","lyrics","inspiration","audio","visual","journal"];j.useEffect(()=>{k(),T()},[i]);async function k(){s(!0);try{const M=await fetch("/api/creative/notes");if(M.ok){const K=await M.json();t(K.notes||[])}}catch(M){console.error("Failed to load notes:",M)}finally{s(!1)}}async function T(){s(!0);try{const M=await fetch("/api/community/my-submissions");if(M.ok){const K=await M.json();f(K.submissions||[])}}catch(M){console.error("Failed to load submissions:",M)}finally{s(!1)}}async function b(M){try{const K=await fetch("/api/community/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:M})});if(K.ok)T(),alert("Note submitted for community sharing! It will be visible once approved.");else{const ue=await K.json();alert(ue.message||"Failed to submit")}}catch(K){console.error("Failed to share note:",K)}}function P(M){const K=S.find(ue=>ue.noteId===M);return(K==null?void 0:K.status)||null}async function R(M){var Ns;M.preventDefault();const K=M.currentTarget,ue=new FormData(K),Vi=ue.get("media_url"),Wn={content:ue.get("content"),category:ue.get("category"),media_url:h||Vi||null,tags:((Ns=ue.get("tags"))==null?void 0:Ns.split(",").map(Ui=>Ui.trim()).filter(Boolean))||[]};Wn.content,Wn.category,Wn.tags;const Ye=c?`/api/creative/notes/${c.id}`:"/api/creative/notes",_e=c?"PUT":"POST";try{(await fetch(Ye,{method:_e,headers:{"Content-Type":"application/json"},body:JSON.stringify(Wn)})).ok&&(l(!1),u(null),m(""),k())}catch(Ui){console.error("Failed to save note:",Ui)}}async function _(M){if(confirm("Delete this note?"))try{(await fetch(`/api/creative/notes/${M}`,{method:"DELETE"})).ok&&k()}catch(K){console.error("Failed to delete note:",K)}}async function V(M){var K;try{const ue=((K=e.find(Ye=>Ye.id===M))==null?void 0:K.sortOrder)+1,Vi=e.map(Ye=>Ye.id===M?{...Ye,sortOrder:ue,is_pinned:!Ye.is_pinned}:Ye);(await fetch(`/api/creative/notes/${M}/pin`,{method:"POST"})).ok||t(Ye=>Ye.map(_e=>_e.id===M?{..._e,sortOrder:ue,is_pinned:!_e.is_pinned}:_e))}catch(ue){console.error("Failed to toggle pin:",ue),k()}}function W(M,K){g(K),M.dataTransfer.effectAllowed="move"}function G(M,K){M.preventDefault(),y(K)}function D(){y(null)}async function z(M,K){if(M.preventDefault(),y(null),!d||d.id===K.id){g(null);return}const ue=[...e],Vi=ue.findIndex(_e=>_e.id===d.id),Wn=ue.findIndex(_e=>_e.id===K.id);ue.splice(Vi,1),ue.splice(Wn,0,d);const Ye=ue.map((_e,Ns)=>({..._e,sort_order:Ns}));t(Ye),g(null);try{(await fetch("/api/creative/notes/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteIds:Ye.map(Ns=>Ns.id)})})).ok||k()}catch(_e){console.error("Failed to reorder notes:",_e),k()}}function O(){g(null),y(null)}const A=[...i==="all"?e:e.filter(M=>M.category===i)].sort((M,K)=>M.is_pinned&&!K.is_pinned?-1:!M.is_pinned&&K.is_pinned?1:(M.sort_order||0)-(K.sort_order||0)),[I,Y]=j.useState(1),[re,ws]=j.useState(12),pt=Math.max(1,Math.ceil(A.length/re));j.useEffect(()=>{Y(1)},[i,e,re]);const Sr=A.slice((I-1)*re,I*re);function Bt(M){return M?M.includes("pinterest.com")||M.includes("pin.it")||M.includes("twitter.com")||M.includes("x.com")||M.includes("youtube.com")||M.includes("youtu.be")||M.includes("spotify.com")||M.includes("soundcloud.com")||M.match(/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i)?r.jsx(Bk,{url:M}):r.jsxs("a",{href:M,target:"_blank",rel:"noreferrer",className:"text-accent text-xs hover:underline block mb-3",children:[M.length>40?M.substring(0,40)+"...":M," "]}):null}return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Private Space"}),r.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Capture ideas, inspiration, and creative notes"})]}),r.jsx("button",{onClick:()=>{u(null),m(""),l(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Note"})]}),r.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:E.map(M=>r.jsx("button",{onClick:()=>a(M),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${i===M?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),n?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):A.length===0?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No notes yet. Start capturing your ideas!"}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Sr.map(M=>r.jsxs("div",{draggable:i==="all",onDragStart:K=>{i==="all"&&W(K,M)},onDragOver:K=>{K.preventDefault(),i==="all"&&G(K,M.id)},onDragLeave:D,onDrop:K=>{i==="all"&&z(K,M)},onDragEnd:O,className:`card p-4 rounded-xl transition-all ${i==="all"?"cursor-move":""} ${M.is_pinned?"border-accent":""} ${(d==null?void 0:d.id)===M.id?"opacity-50 scale-95":""} ${v===M.id?"ring-2 ring-accent scale-105":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-theme-muted uppercase",children:M.category}),M.is_pinned&&r.jsx("span",{className:"text-xs text-accent",children:"[pinned]"})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[(()=>{const K=P(M.id);return K==="pending"?r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-400",children:"pending"}):K==="approved"?r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"shared"}):K==="rejected"?r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/20 text-red-400",children:"declined"}):r.jsx("button",{type:"button",onClick:()=>b(M.id),className:"text-xs px-2 py-0.5 rounded bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary",title:"Submit to community",children:"share"})})(),r.jsx("button",{type:"button",onClick:()=>V(M.id),className:`text-xs px-2 py-0.5 rounded ${M.is_pinned?"bg-accent text-theme-primary":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,style:M.is_pinned?{color:"var(--bg-primary)"}:{},children:M.is_pinned?"unpin":"pin"}),r.jsx("button",{type:"button",onClick:()=>{u(M),l(!0)},className:"text-theme-muted hover:text-theme-primary text-sm",children:""}),r.jsx("button",{type:"button",onClick:()=>_(M.id),className:"text-theme-muted hover:text-red-400 text-sm",children:""})]})]}),M.media_url&&Bt(M.media_url),r.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3 text-theme-primary",children:M.content}),M.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1",children:M.tags.map(K=>r.jsx("span",{className:"tag-pill",children:K},K))})]},M.id))}),r.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-theme-muted",children:[r.jsx("button",{onClick:()=>Y(M=>Math.max(1,M-1)),disabled:I===1,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:" Prev"}),r.jsxs("span",{children:["Page ",I," of ",pt]}),r.jsx("button",{onClick:()=>Y(M=>Math.min(pt,M+1)),disabled:I===pt,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:"Next "})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("label",{className:"text-theme-muted",children:"Per page:"}),r.jsxs("select",{value:re,onChange:M=>ws(Number(M.target.value)),className:"input-field text-sm",children:[r.jsx("option",{value:6,children:"6"}),r.jsx("option",{value:12,children:"12"}),r.jsx("option",{value:24,children:"24"})]})]})]})]})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:r.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-accent",children:c?"Edit Note":"New Note"}),r.jsx("button",{onClick:()=>l(!1),className:"text-theme-muted hover:text-theme-primary text-xl p-1",children:""})]}),r.jsxs("form",{onSubmit:R,className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Category"}),r.jsx("select",{name:"category",defaultValue:(c==null?void 0:c.category)||"ideas",className:"input-field w-full p-2 rounded",children:E.filter(M=>M!=="all").map(M=>r.jsx("option",{value:M,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Content *"}),r.jsx("textarea",{name:"content",defaultValue:c==null?void 0:c.content,required:!0,rows:5,className:"input-field w-full p-2 rounded",placeholder:"Write your thoughts..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Media"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{name:"media_url",defaultValue:(c==null?void 0:c.media_url)||"",className:"input-field w-full p-2 rounded",placeholder:"YouTube, SoundCloud, URL...",disabled:!!h}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-theme-muted",children:"or"}),r.jsx("input",{ref:x,type:"file",accept:"image/*,audio/*,video/*",onChange:M=>{var ue;const K=(ue=M.target.files)==null?void 0:ue[0];K&&p(K)},className:"hidden"}),r.jsx("button",{onClick:w,className:"px-3 py-1 text-xs bg-theme-tertiary rounded hover:bg-theme-secondary",children:"Refresh"}),h&&r.jsx("span",{className:"text-xs text-green-500",children:" Uploaded"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Tags"}),r.jsx("input",{name:"tags",defaultValue:(c==null?void 0:c.tags.join(", "))||"",className:"input-field w-full p-2 rounded",placeholder:"Separate with commas"})]}),r.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:c?"Save Changes":"Create Note"})]})]})}),r.jsx("div",{className:"mt-12 pt-8 border-t border-theme-tertiary",children:r.jsxs("div",{className:"flex justify-center gap-8 text-sm",children:[r.jsx("a",{href:"/docs",className:"text-theme-secondary hover:text-accent transition-colors",children:"Documentation"}),r.jsx("a",{href:"/generator",className:"text-theme-secondary hover:text-accent transition-colors",children:"Agreements"}),r.jsx("a",{href:"/community",className:"text-theme-secondary hover:text-accent transition-colors",children:"Community"})]})})]})}const ua=[{id:"fixation",title:"1. Fix Your Work",fee:"FREE",description:"Record or document in tangible form",fields:[{key:"fixation_date",label:"Date Fixed",type:"date",placeholder:"When was it recorded?"},{key:"fixation_format",label:"Format",type:"text",placeholder:"Audio file, video, manuscript..."}]},{id:"copyright",title:"2. Register Copyright",fee:"$45-65",description:"File with US Copyright Office",fields:[{key:"copyright_reg_number",label:"Registration Number",type:"text",placeholder:"e.g., SR0000123456"},{key:"copyright_date",label:"Registration Date",type:"date",placeholder:""}]},{id:"pro",title:"3. Join a PRO",fee:"FREE-$50",description:"ASCAP, BMI for royalty collection",fields:[{key:"pro_name",label:"PRO Name",type:"select",options:["ASCAP","BMI","SESAC","GMR","Other"]},{key:"pro_member_id",label:"Member ID",type:"text",placeholder:"Your PRO member ID"}]},{id:"register_song",title:"4. Register Composition",fee:"FREE",description:"Get ISWC from your PRO",fields:[{key:"iswc",label:"ISWC",type:"text",placeholder:"e.g., T-123.456.789-0"}]},{id:"distributor",title:"5. Upload to Distributor",fee:"$0-30/yr",description:"Get ISRC and UPC codes",fields:[{key:"distributor",label:"Distributor",type:"text",placeholder:"DistroKid, TuneCore, CD Baby..."},{key:"isrc",label:"ISRC",type:"text",placeholder:"e.g., USRC12345678"},{key:"upc",label:"UPC",type:"text",placeholder:"e.g., 012345678901"}]},{id:"release",title:"6. Release & Monitor",fee:"N/A",description:"Track performance and royalties",fields:[{key:"release_date",label:"Release Date",type:"date",placeholder:""},{key:"release_notes",label:"Notes",type:"text",placeholder:"Streaming links, first week stats..."}]}];function $k(){const{id:e}=To(),[t,n]=j.useState(null),[s,i]=j.useState(!0),[a,o]=j.useState(null),[l,c]=j.useState(!1),[u,h]=j.useState({});j.useEffect(()=>{m()},[e]);async function m(){var v,y;try{const S=await fetch(`/api/projects/${e}`);if(S.ok){const f=await S.json();n(f.project),h(((y=(v=f.project)==null?void 0:v.metadata)==null?void 0:y.workflow)||{})}}catch(S){console.error("Failed to load project:",S)}finally{i(!1)}}async function d(v){if(!t)return;const y={...u,[`${v}_complete`]:!u[`${v}_complete`]};h(y),c(!0);try{const S={...t.metadata,workflow:y},f=await fetch(`/api/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:S})});if(f.ok){const x=await f.json();n(x.project)}}catch(S){console.error("Failed to update workflow:",S)}finally{c(!1)}}function g(v,y,S){h(f=>({...f,[y]:S}))}return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):t?r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsx("span",{className:`status-${t.status} px-3 py-1 rounded text-xs uppercase`,children:t.status}),r.jsx("span",{className:"text-theme-muted text-sm",children:t.type})]}),r.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.title}),r.jsx("p",{className:"text-theme-secondary",children:t.description||"No description"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-accent",children:"IP Protection Workflow"}),r.jsx("p",{className:"text-theme-muted text-sm",children:"Click each step to track your progress and enter details."})]}),r.jsx(et,{href:"/docs",className:"text-xs text-accent hover:underline whitespace-nowrap",children:"View full guide "})]}),(()=>{const v=ua.filter(S=>u[`${S.id}_complete`]).length,y=Math.round(v/ua.length*100);return r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:"text-sm text-theme-secondary",children:[v," of ",ua.length," steps complete"]}),r.jsxs("span",{className:"text-sm font-bold text-accent",children:[y,"%"]})]}),r.jsx("div",{className:"h-3 bg-theme-tertiary rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${y}%`}})})]})})(),r.jsx("div",{className:"space-y-3",children:ua.map(v=>{const y=u[`${v.id}_complete`],S=a===v.id;return r.jsxs("div",{className:`card rounded-lg border transition-all ${y?"step-complete":"step-pending"}`,children:[r.jsxs("button",{onClick:()=>o(S?null:v.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[r.jsx("div",{className:"step-icon w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:y?"":v.title.charAt(0)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold",children:v.title}),r.jsx("p",{className:"text-theme-muted text-sm truncate",children:v.description})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-xs ${y?"text-green-400":"text-theme-muted"}`,children:y?"Complete":v.fee}),r.jsx("svg",{className:`w-4 h-4 text-theme-muted transition-transform ${S?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),S&&r.jsxs("div",{className:"px-4 pb-4 border-t border-theme mt-0 pt-4",children:[r.jsx("div",{className:"space-y-3",children:v.fields.map(f=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:f.label}),f.type==="select"&&f.options?r.jsxs("select",{value:u[f.key]||"",onChange:x=>g(v.id,f.key,x.target.value),className:"w-full input-field px-3 py-2 rounded text-sm",disabled:l,children:[r.jsx("option",{value:"",children:"Select..."}),f.options.map(x=>r.jsx("option",{value:x,children:x},x))]}):r.jsx("input",{type:f.type,value:u[f.key]||"",onChange:x=>g(v.id,f.key,x.target.value),placeholder:f.placeholder,className:"w-full input-field px-3 py-2 rounded text-sm",disabled:l})]},f.key))}),r.jsx("button",{onClick:()=>d(v.id),disabled:l,className:`mt-4 w-full py-2 px-4 rounded text-sm font-medium transition-colors ${y?"bg-theme-tertiary text-theme-secondary hover:bg-red-900/30 hover:text-red-400":"bg-accent text-accent-contrast hover:opacity-90"}`,children:l?"Saving...":y?"Mark as Incomplete":"Mark as Complete"})]})]},v.id)})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Identifiers"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"ISRC"}),r.jsx("span",{className:"text-theme-secondary font-mono",children:u.isrc||"Not set"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"UPC"}),r.jsx("span",{className:"text-theme-secondary font-mono",children:u.upc||"Not set"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"ISWC"}),r.jsx("span",{className:"text-theme-secondary font-mono",children:u.iswc||"Not set"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"Copyright #"}),r.jsx("span",{className:"text-theme-secondary font-mono",children:u.copyright_reg_number||"Not set"})]})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Tracking Tools"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("a",{href:"https://artists.spotify.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-green-400 hover:underline",children:[r.jsx("span",{children:"Spotify for Artists"}),r.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),r.jsxs("a",{href:"https://artists.apple.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-pink-400 hover:underline",children:[r.jsx("span",{children:"Apple Music"}),r.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),r.jsxs("a",{href:"https://soundexchange.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-blue-400 hover:underline",children:[r.jsx("span",{children:"SoundExchange"}),r.jsx("span",{className:"text-theme-muted text-xs",children:"Monthly"})]})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Timeline"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"Created"}),r.jsx("span",{className:"text-theme-secondary",children:new Date(t.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"Updated"}),r.jsx("span",{className:"text-theme-secondary",children:new Date(t.updated_at).toLocaleDateString()})]}),u.release_date&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-theme-muted",children:"Released"}),r.jsx("span",{className:"text-theme-secondary",children:new Date(u.release_date).toLocaleDateString()})]})]})]})]})]})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-theme-muted mb-4",children:"Project not found"}),r.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})})}const Cl={"basic-ne":{title:"BASIC NON-EXCLUSIVE LICENSE",idPrefix:"LIC-B",fields:[],terms:"Grant of non-exclusive rights for limited digital streaming and one official music video. Producer retains 100% ownership of composition."},"standard-ne":{title:"STANDARD NON-EXCLUSIVE LICENSE",idPrefix:"LIC-S",fields:[],terms:"Grant of non-exclusive rights for increased streaming limits. Includes high-quality WAV files."},"premium-ne":{title:"PREMIUM NON-EXCLUSIVE LICENSE",idPrefix:"LIC-P",fields:[],terms:"Unlimited non-exclusive rights for streaming and distribution. Includes multi-track stems."},exclusive:{title:"EXCLUSIVE LICENSE AGREEMENT",idPrefix:"LIC-EX",fields:["exclusiveFee","masterShare"],terms:"Transfer of exclusive rights. Producer shall cease further licensing of track. Fee: $[exclusiveFee]. Master Royalty Share: [masterShare]%."},"buyout-addendum":{title:"EXCLUSIVE RIGHTS BUYOUT ADDENDUM",idPrefix:"LIC-BO",fields:["buyoutAmount","originalAgreementDate"],terms:"Complete transfer of all rights, title, and interest including publishing and master royalties for a buyout fee of $[buyoutAmount]."},"split-sheet":{title:"SONGWRITER SPLIT SHEET",idPrefix:"SS",fields:[],terms:"Official registration of songwriting and publishing percentages for track [Track Title]."},"producer-agreement":{title:"PRODUCER SERVICE AGREEMENT",idPrefix:"PSA",fields:["exclusiveFee"],terms:"Contract for professional production services as a work-for-hire. Producer fee: $[exclusiveFee]."},nda:{title:"NON-DISCLOSURE AGREEMENT",idPrefix:"NDA",fields:[],terms:"Agreement to maintain strict confidentiality regarding all unreleased files, stems, and project details."},"custom-license":{title:"CUSTOM MUSIC AGREEMENT",idPrefix:"CUST",fields:["exclusiveFee","masterShare"],terms:"Custom agreement for track [Track Title]."}};function Wk(){const[e,t]=j.useState(1),[n,s]=j.useState(""),[i,a]=j.useState(""),[o,l]=j.useState({}),[c,u]=j.useState([]),[h,m]=j.useState(""),[d,g]=j.useState(!1),[v,y]=j.useState(!1),[S,f]=j.useState(null),[x,p]=j.useState(null),[,w]=Ao();function E(O){a(O),t(2)}function k(O){const C=O.target,A=C.type==="number"?Number(C.value):C.value;l({...o,[C.name]:A})}function T(){const O={id:Date.now().toString(),name:"",role:"",split:""};u([...c,O])}function b(O){u(c.filter(C=>C.id!==O))}function P(O,C,A){u(c.map(I=>I.id===O?{...I,[C]:C==="split"?A.replace(/[^0-9]/g,""):A}:I))}async function R(O){O.preventDefault(),g(!0),t(3);const C=Cl[i],A=c.filter(I=>I.name&&I.role&&I.split).map(I=>`- ${I.name} (${I.role}): ${I.split}%`).join(`
`);setTimeout(()=>{const I=`
        <div class="agreement-document">
          <h2>${C.title}</h2>
          <p><strong>ID:</strong> ${C.idPrefix}-${Date.now()}</p>
          <p><strong>Producer/Company:</strong> ${o.producerName||"TBD"}</p>
          <p><strong>Artist/Client:</strong> ${o.artistName}</p>
          <p><strong>Track:</strong> ${o.trackTitle}</p>
          <p><strong>Project:</strong> ${o.projectName||"N/A"}</p>
          <p><strong>Effective Date:</strong> ${o.effectiveDate||"TBD"}</p>
          <p><strong>Delivery Date:</strong> ${o.deliveryDate||"N/A"}</p>
          <p><strong>BPM:</strong> ${o.bpm||"N/A"}</p>
          <p><strong>Key:</strong> ${o.key||"N/A"}</p>
          <p><strong>Genre:</strong> ${o.genre||"N/A"}</p>
          <p><strong>Producer Address:</strong> ${o.producerAddress||"N/A"}</p>
          <p><strong>Artist Address:</strong> ${o.artistAddress||"N/A"}</p>
          <p><strong>Producer Email:</strong> ${o.producerEmail||"N/A"}</p>
          <p><strong>Artist Email:</strong> ${o.artistEmail||"N/A"}</p>
          <p><strong>Producer Phone:</strong> ${o.producerPhone||"N/A"}</p>
          <p><strong>Artist Phone:</strong> ${o.artistPhone||"N/A"}</p>
          
          ${c.length>0?`
          <h3>Parties/Splits:</h3>
          <pre>${A}</pre>
          `:""}
          
          <h3>Agreement Terms:</h3>
          <p>${C.terms}</p>
          
          ${o.customTerms?`
          <h3>Additional Terms:</h3>
          <p>${o.customTerms}</p>
          `:""}
          
          <h3>SIGNATORIES</h3>
          <div class="signatures">
            <div class="signature-block">
              <p>Producer/Company: _________________________ Date: _________</p>
            </div>
            <div class="signature-block">
              <p>Artist/Client: _________________________ Date: _________</p>
            </div>
            ${c.map(Y=>`
              <div class="signature-block">
                <p>${Y.name} (${Y.role}): _________________________ Date: _________</p>
              </div>
            `).join("")}
          </div>
        </div>
      `;m(I),g(!1)},2e3)}function _(){t(1),a(""),l({}),u([]),m("")}function V(){if(!h)return;const O=window.open("","_blank","noopener,noreferrer");O&&(O.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>Agreement</title><style>body{font-family:serif;padding:20px;color:#111} .agreement-document{max-width:800px;margin:0 auto}</style></head><body>${h}</body></html>`),O.document.close(),O.focus(),O.print())}function W(){if(!h)return;const O=new Blob([`<!doctype html><html><head><meta charset="utf-8"><title>Agreement</title></head><body>${h}</body></html>`],{type:"text/html"}),C=URL.createObjectURL(O),A=document.createElement("a");A.href=C,A.download=`${(D==null?void 0:D.idPrefix)||"AGREEMENT"}-${Date.now()}.html`,document.body.appendChild(A),A.click(),A.remove(),URL.revokeObjectURL(C)}async function G(){var C;if(!h)return;y(!0),p(null);const O={title:`${(D==null?void 0:D.title)||"Agreement"} - ${o.trackTitle||"Untitled"}`,templateId:i,html:h,metadata:{formData:o},collaborators:c};try{const A=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),I=await A.json();if(!A.ok)throw new Error((I==null?void 0:I.message)||"Save failed");const Y=((C=I.document)==null?void 0:C.id)||null;f(Y),Y&&w(`/documents?open=${Y}`)}catch(A){p(A.message||"Save failed")}finally{y(!1)}}const D=Cl[i],z=D&&D.fields.length>0;return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[r.jsx("div",{className:"flex items-center gap-4 mb-8",children:[1,2,3].map(O=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=O?"btn-primary":"bg-theme-tertiary text-theme-muted"}`,children:O}),r.jsx("span",{className:`text-sm ${e>=O?"text-theme-primary":"text-theme-muted"}`,children:O===1?"Select Template":O===2?"Fill Details":"Generate"}),O<3&&r.jsx("div",{className:"w-8 h-px bg-theme-tertiary"})]},O))}),e===1&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Select Agreement Template"}),r.jsx("div",{className:"mb-6",children:r.jsx("input",{type:"text",placeholder:"Search templates (e.g. 'Split Sheet', 'NDA')...",value:n,onChange:O=>s(O.target.value),className:"input-field w-full p-4 rounded-lg bg-theme-tertiary border border-theme text-theme-primary focus:border-accent outline-none transition-colors"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(Cl).filter(([O,C])=>C.title.toLowerCase().includes(n.toLowerCase())||C.terms.toLowerCase().includes(n.toLowerCase())).map(([O,C])=>r.jsxs("div",{onClick:()=>E(O),className:"card p-6 rounded-xl cursor-pointer hover:border-accent transition-colors",children:[r.jsx("h3",{className:"font-bold mb-2",children:C.title}),r.jsx("p",{className:"text-sm text-theme-muted",children:C.terms})]},O))})]}),e===2&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fill Agreement Details"}),r.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Track Title *"}),r.jsx("input",{name:"trackTitle",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Moonlight"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Template Type"}),r.jsx("div",{className:"input-field w-full p-3 rounded bg-theme-tertiary",children:(D==null?void 0:D.title)||"Not selected"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer/Company *"}),r.jsx("input",{name:"producerName",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Company Name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist/Client *"}),r.jsx("input",{name:"artistName",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Artist Name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Project/Album Name"}),r.jsx("input",{name:"projectName",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Midnight Sessions EP"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Effective Date *"}),r.jsx("input",{name:"effectiveDate",type:"date",required:!0,onChange:k,className:"input-field w-full p-3 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Delivery Date"}),r.jsx("input",{name:"deliveryDate",type:"date",onChange:k,className:"input-field w-full p-3 rounded"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"BPM"}),r.jsx("input",{name:"bpm",type:"number",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"120"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Key"}),r.jsxs("select",{name:"key",onChange:k,className:"input-field w-full p-3 rounded",children:[r.jsx("option",{value:"",children:"Select Key"}),r.jsx("option",{value:"C",children:"C Major"}),r.jsx("option",{value:"C#",children:"C# Major"}),r.jsx("option",{value:"D",children:"D Major"}),r.jsx("option",{value:"D#",children:"D# Major"}),r.jsx("option",{value:"E",children:"E Major"}),r.jsx("option",{value:"F",children:"F Major"}),r.jsx("option",{value:"F#",children:"F# Major"}),r.jsx("option",{value:"G",children:"G Major"}),r.jsx("option",{value:"G#",children:"G# Major"}),r.jsx("option",{value:"A",children:"A Major"}),r.jsx("option",{value:"A#",children:"A# Major"}),r.jsx("option",{value:"B",children:"B Major"}),r.jsx("option",{value:"Cm",children:"C Minor"}),r.jsx("option",{value:"Dm",children:"D Minor"}),r.jsx("option",{value:"Em",children:"E Minor"}),r.jsx("option",{value:"Fm",children:"F Minor"}),r.jsx("option",{value:"Gm",children:"G Minor"}),r.jsx("option",{value:"Am",children:"A Minor"}),r.jsx("option",{value:"Bm",children:"B Minor"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Genre"}),r.jsx("input",{name:"genre",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Hip Hop, R&B, Pop"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Address"}),r.jsx("input",{name:"producerAddress",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Address"}),r.jsx("input",{name:"artistAddress",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Email"}),r.jsx("input",{name:"producerEmail",type:"email",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"producer@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Email"}),r.jsx("input",{name:"artistEmail",type:"email",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"artist@example.com"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Phone"}),r.jsx("input",{name:"producerPhone",type:"tel",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Phone"}),r.jsx("input",{name:"artistPhone",type:"tel",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]})]}),z&&r.jsxs("div",{className:"card p-4 rounded-lg bg-theme-tertiary",children:[r.jsx("h3",{className:"font-bold mb-4",children:"Additional Fields"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.fields.includes("exclusiveFee")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Fee ($)"}),r.jsx("input",{name:"exclusiveFee",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),D.fields.includes("masterShare")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Master Royalty (%)"}),r.jsx("input",{name:"masterShare",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),D.fields.includes("buyoutAmount")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Buyout Amount ($)"}),r.jsx("input",{name:"buyoutAmount",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),D.fields.includes("originalAgreementDate")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Original Agreement Date"}),r.jsx("input",{name:"originalAgreementDate",type:"date",onChange:k,className:"input-field w-full p-3 rounded"})]})]})]}),r.jsxs("div",{className:"card p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"font-bold text-theme-secondary uppercase",children:"Additional Collaborators"}),r.jsx("button",{type:"button",onClick:T,className:"text-sm bg-theme-accent text-white px-3 py-1 rounded hover:bg-accent/80",children:"+ Add Party"})]}),r.jsx("div",{className:"space-y-2",children:c.map(O=>r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("input",{type:"text",placeholder:"Full Legal Name",value:O.name,onChange:C=>P(O.id,"name",C.target.value),className:"flex-1 input-field p-2 rounded text-sm"}),r.jsx("input",{type:"text",placeholder:"Role (e.g. Writer)",value:O.role,onChange:C=>P(O.id,"role",C.target.value),className:"w-24 input-field p-2 rounded text-sm"}),r.jsx("input",{type:"number",placeholder:"Split %",value:O.split,onChange:C=>P(O.id,"split",C.target.value),className:"w-16 input-field p-2 rounded text-sm"}),r.jsx("button",{type:"button",onClick:()=>b(O.id),className:"text-red-500 hover:text-red-700",children:""})]},O.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Custom Clauses / Provisions"}),r.jsx("textarea",{name:"customTerms",rows:3,onChange:k,className:"input-field w-full p-3 rounded resize-none text-sm",placeholder:"Enter any specific terms or modifications..."})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{type:"button",onClick:()=>t(1),className:"px-6 py-3 bg-theme-tertiary rounded",children:"Back"}),r.jsx("button",{type:"submit",className:"flex-1 btn-primary font-bold py-3 rounded",children:"Generate Agreement"})]})]})]}),e===3&&r.jsx("div",{children:r.jsx("div",{className:"card p-8 rounded-xl",children:d?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-pulse text-accent font-medium",children:"Finalizing legal language..."})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Agreement Generated!"}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("button",{onClick:V,className:"btn-primary px-4 py-2 rounded",children:"Download / Print"}),r.jsx("button",{onClick:W,className:"px-4 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Save HTML"}),r.jsx("button",{onClick:G,disabled:v||!!S,className:`px-4 py-2 rounded ${v||S?"bg-theme-tertiary text-theme-muted":"bg-theme-accent text-white"}`,children:v?"Saving":S?"Saved":"Save to Box"})]})]}),r.jsx("div",{className:"bg-white text-gray-800 p-8 rounded-lg font-serif text-sm max-h-96 overflow-y-auto",children:r.jsx("div",{dangerouslySetInnerHTML:{__html:h}})}),x&&r.jsxs("div",{className:"mt-4 text-red-500 text-sm",children:["Error saving document: ",x]}),S&&r.jsxs("div",{className:"mt-4 text-sm",children:[r.jsx("strong",{className:"text-theme-secondary",children:"Saved to Box"}),r.jsxs("span",{className:"ml-2 text-theme-muted",children:["(ID: ",S,")"]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx("button",{onClick:_,className:"text-accent hover:underline",children:"Create Another Agreement"})})]})})}),r.jsx("div",{className:"mt-12 pt-8 border-t border-theme-tertiary",children:r.jsxs("div",{className:"flex justify-center gap-8 text-sm",children:[r.jsx("a",{href:"/docs",className:"text-theme-secondary hover:text-accent transition-colors",children:"Documentation"}),r.jsx("a",{href:"/generator",className:"text-theme-secondary hover:text-accent transition-colors",children:"Agreements"}),r.jsx("a",{href:"/community",className:"text-theme-secondary hover:text-accent transition-colors",children:"Community"})]})})]})]})}function Kk(){const{isAuthenticated:e}=Ut(),[t,n]=j.useState([]),[s,i]=j.useState(!1),[a,o]=j.useState(null),[l,c]=j.useState(null),[u,h]=j.useState(null),[m,d]=j.useState(null);Ao();const[g,v]=j.useState(""),[y,S]=j.useState(1),[f]=j.useState(12),[x,p]=j.useState(0);j.useEffect(()=>{if(!e)return;const D=new URLSearchParams;g&&D.set("q",g),D.set("page",String(y)),D.set("limit",String(f)),i(!0),o(null),fetch(`/api/documents?${D.toString()}`).then(async z=>{if(!z.ok)throw new Error((await z.json()).message||"Failed to load");return z.json()}).then(z=>{n((z.documents||[]).map(O=>({id:O.id,title:O.title,templateId:O.templateId,createdAt:O.createdAt}))),p(z.total||0)}).catch(z=>o(z.message||"Failed to load documents")).finally(()=>i(!1))},[e,g,y,f]),j.useEffect(()=>{const z=new URL(window.location.href).searchParams.get("open");if(z){const O=new URL(window.location.href);O.searchParams.delete("open"),window.history.replaceState({},"",O.toString()),w(z)}},[e]);async function w(D){c(null),h(null),d(D);try{const z=await fetch(`/api/documents/${D}`);if(!z.ok)throw new Error((await z.json()).message||"Failed to load");const O=await z.json();h(O.title),c(O.html||"")}catch(z){c(`<p style="color:red">${z.message||"Failed to load document"}</p>`)}}function E(){if(!l||!u)return;const D=new Blob([`<!doctype html><html><head><meta charset="utf-8"><title>${u}</title></head><body>${l}</body></html>`],{type:"text/html"}),z=URL.createObjectURL(D),O=document.createElement("a");O.href=z,O.download=`${u.replace(/[^a-z0-9\- ]/gi,"")||"agreement"}.html`,document.body.appendChild(O),O.click(),O.remove(),URL.revokeObjectURL(z)}const[k,T]=j.useState(null),[b,P]=j.useState("");function R(D,z){T(D),P(z)}async function _(){if(k)try{const D=await fetch(`/api/documents/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:b})});if(!D.ok)throw new Error((await D.json()).message||"Rename failed");n(t.map(z=>z.id===k?{...z,title:b}:z)),T(null)}catch(D){o(D.message||"Rename failed")}}async function V(D){if(confirm("Delete this saved agreement? This cannot be undone."))try{const z=await fetch(`/api/documents/${D}`,{method:"DELETE"});if(!z.ok)throw new Error((await z.json()).message||"Delete failed");n(t.filter(O=>O.id!==D)),m===D&&(c(null),d(null),h(null))}catch(z){o(z.message||"Delete failed")}}const W=Math.max(1,Math.ceil(x/f));function G(D){S(Math.max(1,Math.min(W,D)))}return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Saved Agreements"}),r.jsx("p",{className:"text-sm text-theme-muted",children:"All agreements you've saved to The Box"})]}),!e&&r.jsx("div",{className:"card p-6 rounded",children:r.jsx("p",{className:"text-theme-muted",children:"You must be signed in to view saved agreements."})}),e&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"col-span-1 lg:col-span-2",children:r.jsxs("div",{className:"card p-6 rounded",children:[s&&r.jsx("div",{className:"text-theme-muted",children:"Loading..."}),a&&r.jsx("div",{className:"text-red-500",children:a}),!s&&t.length===0&&r.jsxs("div",{className:"text-theme-muted",children:["No saved agreements yet. Generate one in the ",r.jsx("a",{className:"text-accent",href:"/generator",children:"Agreement Generator"}),"."]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:g,onChange:D=>{v(D.target.value),S(1)},placeholder:"Search saved agreements...",className:"input-field p-2 rounded flex-1"}),r.jsxs("div",{className:"text-sm text-theme-muted",children:[x," results"]})]})}),r.jsx("div",{className:"space-y-3 mt-4",children:t.map(D=>r.jsxs("div",{className:"p-4 rounded border border-theme-tertiary flex items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-bold",children:D.title}),r.jsxs("div",{className:"text-xs text-theme-muted",children:[D.templateId||"Custom","  ",new Date(D.createdAt).toLocaleString()]})]}),r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx("button",{onClick:()=>w(D.id),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"View"}),r.jsx("a",{href:`/api/documents/${D.id}`,className:"px-3 py-2 rounded bg-theme-accent text-white",target:"_blank",rel:"noreferrer",children:"Open"}),r.jsx("button",{onClick:()=>R(D.id,D.title),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Rename"}),r.jsx("button",{onClick:()=>V(D.id),className:"px-3 py-2 rounded border border-red-500 text-red-500",children:"Delete"})]})]},D.id))}),r.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-theme-muted",children:["Page ",y," of ",W]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>G(1),disabled:y===1,className:"px-3 py-1 rounded border border-theme-tertiary",children:"First"}),r.jsx("button",{onClick:()=>G(y-1),disabled:y===1,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Prev"}),r.jsx("button",{onClick:()=>G(y+1),disabled:y===W,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Next"}),r.jsx("button",{onClick:()=>G(W),disabled:y===W,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Last"})]})]}),k&&r.jsxs("div",{className:"mt-4 p-4 rounded border border-theme-tertiary",children:[r.jsx("div",{className:"text-sm font-bold mb-2",children:"Rename Agreement"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{className:"input-field p-2 rounded flex-1",value:b,onChange:D=>P(D.target.value)}),r.jsx("button",{onClick:_,className:"px-3 py-2 rounded bg-theme-accent text-white",children:"Save"}),r.jsx("button",{onClick:()=>T(null),className:"px-3 py-2 rounded border border-theme-tertiary",children:"Cancel"})]})]})]})}),r.jsx("div",{className:"col-span-1",children:r.jsxs("div",{className:"card p-6 rounded h-full",children:[r.jsx("h3",{className:"font-bold mb-4",children:"Preview"}),!l&&r.jsx("div",{className:"text-theme-muted text-sm",children:"Select an agreement to preview its content here."}),l&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white text-gray-800 p-4 rounded text-sm max-h-[60vh] overflow-y-auto",dangerouslySetInnerHTML:{__html:l}}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx("button",{onClick:E,className:"px-3 py-2 rounded bg-theme-accent text-white",children:"Download HTML"}),r.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Print"}),r.jsx("button",{onClick:()=>{c(null),d(null),h(null)},className:"px-3 py-2 rounded text-theme-muted border border-theme-tertiary",children:"Close"})]})]})]})})]})]})]})}function Gk(){var T,b;const[e,t]=j.useState(!1),[n,s]=j.useState(""),[i,a]=j.useState(""),[o,l]=j.useState(!0),[c,u]=j.useState([]),[h,m]=j.useState([]),[d,g]=j.useState(null),[v,y]=j.useState([]),[S,f]=j.useState("overview");j.useEffect(()=>{x()},[]);async function x(){try{(await fetch("/api/admin/check")).ok&&(t(!0),E())}catch(P){console.error("Auth check failed:",P)}finally{l(!1)}}async function p(P){P.preventDefault(),a("");try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})})).ok?(t(!0),E()):a("Invalid password")}catch{a("Login failed")}}async function w(){await fetch("/api/admin/logout",{method:"POST"}),t(!1),u([]),m([]),g(null)}async function E(){try{const[P,R,_,V]=await Promise.all([fetch("/api/admin/users"),fetch("/api/admin/projects"),fetch("/api/admin/stats"),fetch("/api/admin/submissions")]);if(P.ok&&u(await P.json()),R.ok&&m(await R.json()),_.ok&&g(await _.json()),V.ok){const W=await V.json();y(W.submissions||[])}}catch(P){console.error("Failed to load data:",P)}}async function k(P,R,_){try{(await fetch(`/api/admin/submissions/${P}/review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:R,adminNotes:_})})).ok&&E()}catch(V){console.error("Failed to review submission:",V)}}return o?r.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:r.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):e?r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx("header",{className:"border-b border-theme p-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center text-white font-bold text-sm",children:"A"}),r.jsx("span",{className:"text-red-400 font-bold",children:"ADMIN DASHBOARD"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(et,{href:"/",className:"text-gray-500 hover:text-white text-sm",children:"View Site"}),r.jsx("button",{onClick:w,className:"text-gray-500 hover:text-red-400 text-sm",children:"Logout"})]})]})}),r.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[r.jsx("div",{className:"flex gap-2 mb-6",children:["overview","users","projects","submissions"].map(P=>r.jsx("button",{onClick:()=>f(P),className:`px-4 py-2 rounded text-sm ${S===P?"bg-red-500 text-white":"bg-gray-800 text-gray-400"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),S==="overview"&&d&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Platform Overview"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-red-400",children:d.totalUsers}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Users"})]}),r.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-accent",children:d.totalProjects}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Projects"})]}),r.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-blue-400",children:((T=d.projectsByStatus)==null?void 0:T.development)||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"In Development"})]}),r.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-green-400",children:((b=d.projectsByStatus)==null?void 0:b.published)||0}),r.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h3",{className:"font-bold mb-4",children:"Projects by Status"}),r.jsx("div",{className:"space-y-2",children:Object.entries(d.projectsByStatus||{}).map(([P,R])=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400 capitalize",children:P}),r.jsx("span",{className:"text-white",children:R})]},P))})]})]}),S==="users"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold",children:["All Users (",c.length,")"]}),r.jsxs("div",{className:"space-y-2",children:[c.map(P=>r.jsxs("div",{className:"card p-4 rounded-xl flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-bold",children:[P.firstName," ",P.lastName]}),r.jsx("p",{className:"text-sm text-gray-500",children:P.email})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),r.jsx("p",{className:"text-sm",children:new Date(P.createdAt).toLocaleDateString()})]})]},P.id)),c.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users yet"})]})]}),S==="projects"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold",children:["All Projects (",h.length,")"]}),r.jsxs("div",{className:"space-y-2",children:[h.map(P=>r.jsx("div",{className:"card p-4 rounded-xl",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`status-${P.status} px-2 py-1 rounded text-xs uppercase`,children:P.status}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:P.title}),r.jsx("p",{className:"text-xs text-gray-500",children:P.type})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["User: ",P.userId.slice(0,8),"..."]}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})]})]})},P.id)),h.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No projects yet"})]})]}),S==="submissions"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Community Submissions"}),r.jsxs("div",{className:"space-y-4",children:[v.map(P=>{var R;return r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-gray-400 uppercase",children:P.noteCategory}),r.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${P.status==="pending"?"bg-yellow-500/20 text-yellow-400":P.status==="approved"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:P.status})]}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm mb-4 whitespace-pre-wrap",children:P.noteContent}),((R=P.noteTags)==null?void 0:R.length)>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:P.noteTags.map((_,V)=>r.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["#",_]},V))}),P.status==="pending"&&r.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-700",children:[r.jsx("button",{onClick:()=>k(P.id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve"}),r.jsx("button",{onClick:()=>k(P.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject"})]})]},P.id)}),v.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No submissions yet"})]})]})]})]}):r.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:r.jsxs("div",{className:"card p-8 rounded-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),r.jsx("span",{className:"text-xl font-bold",children:"Admin Access"})]}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Admin Password"}),r.jsx("input",{type:"password",value:n,onChange:P=>s(P.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter admin password",required:!0})]}),i&&r.jsx("p",{className:"text-red-400 text-sm",children:i}),r.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white font-bold py-3 rounded hover:bg-red-600",children:"Login as Admin"})]}),r.jsx(et,{href:"/",className:"block text-center text-gray-500 hover:text-white mt-4 text-sm",children:"Back to Home"})]})})}function Hk(){const{user:e}=Ut(),[t,n]=j.useState(""),[s,i]=j.useState(""),[a,o]=j.useState(""),[l,c]=j.useState(null),[u,h]=j.useState(!1),[m,d]=j.useState((e==null?void 0:e.firstName)||(e==null?void 0:e.displayName)||""),[g,v]=j.useState(null),[y,S]=j.useState(!1);async function f(p){p.preventDefault(),v(null),S(!0);try{const w=await fetch("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:m})}),E=await w.json();w.ok?(v({type:"success",text:"Profile updated successfully"}),window.location.reload()):v({type:"error",text:E.message||"Failed to update profile"})}catch{v({type:"error",text:"Failed to update profile"})}finally{S(!1)}}async function x(p){if(p.preventDefault(),c(null),s!==a){c({type:"error",text:"New passwords do not match"});return}if(s.length<6){c({type:"error",text:"Password must be at least 6 characters"});return}h(!0);try{const w=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:s})}),E=await w.json();w.ok?(c({type:"success",text:"Password changed successfully"}),n(""),i(""),o("")):c({type:"error",text:E.message||"Failed to change password"})}catch{c({type:"error",text:"Failed to change password"})}finally{h(!1)}}return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-2xl mx-auto p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6 text-theme-primary",children:"Settings"}),r.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Your BOX Code"}),r.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg mb-4",children:[r.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Share this code for collaborations and connections"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("code",{className:"text-2xl font-mono font-bold text-accent tracking-wider",children:(e==null?void 0:e.boxCode)||"Generating..."}),r.jsx("button",{onClick:()=>{e!=null&&e.boxCode&&(navigator.clipboard.writeText(e.boxCode),alert("BOX code copied to clipboard!"))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),r.jsx("p",{className:"text-xs text-theme-muted mt-3",children:(e==null?void 0:e.role)==="studio"?"Artists can use this code to join your network when they sign up.":"Share this code with studios or other artists to connect and collaborate."})]})]}),r.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Account Information"}),r.jsxs("div",{className:"space-y-2 text-theme-secondary mb-4",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-theme-muted",children:"Email:"})," ",(e==null?void 0:e.email)||"N/A"]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-theme-muted",children:"Role:"})," ",(e==null?void 0:e.role)==="studio"?"Studio / Business":"Artist"]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-theme-muted",children:"Account Type:"})," ",(e==null?void 0:e.authType)==="email"?"Email/Password":"OAuth"]})]}),g&&r.jsx("div",{className:`p-3 rounded mb-4 ${g.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.text}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Display Name"}),r.jsx("input",{type:"text",value:m,onChange:p=>d(p.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter your display name"})]}),r.jsx("button",{type:"submit",disabled:y,className:"btn-primary py-2 px-4 rounded font-bold disabled:opacity-50",children:y?"Saving...":"Save Profile"})]})]}),(e==null?void 0:e.authType)==="email"&&r.jsxs("section",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Change Password"}),l&&r.jsx("div",{className:`p-3 rounded mb-4 ${l.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.text}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Current Password"}),r.jsx("input",{type:"password",value:t,onChange:p=>n(p.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"New Password"}),r.jsx("input",{type:"password",value:s,onChange:p=>i(p.target.value),className:"input-field w-full p-3 rounded",required:!0,minLength:6})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Confirm New Password"}),r.jsx("input",{type:"password",value:a,onChange:p=>o(p.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),r.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full py-3 rounded font-bold disabled:opacity-50",children:u?"Changing...":"Change Password"})]})]}),(e==null?void 0:e.authType)!=="email"&&r.jsxs("section",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Password"}),r.jsx("p",{className:"text-theme-muted",children:"You signed in with OAuth (Google, GitHub, etc.). Password management is handled by your OAuth provider."})]})]})]})}function Qk(){const{isAuthenticated:e}=Ut(),[t,n]=j.useState([]),[s,i]=j.useState(!0),[a,o]=j.useState(null),[l,c]=j.useState([]),[u,h]=j.useState(""),[m,d]=j.useState(new Set);j.useEffect(()=>{g(),e&&v()},[e]);async function g(){try{const p=await fetch("/api/community");if(p.ok){const w=await p.json();n(w.content||[])}}catch(p){console.error("Failed to load community content:",p)}finally{i(!1)}}async function v(){try{const p=await fetch("/api/community/my-favorites");if(p.ok){const w=await p.json();d(new Set(w.favoriteIds||[]))}}catch(p){console.error("Failed to load favorites:",p)}}async function y(p){try{const w=await fetch(`/api/community/${p}/comments`);if(w.ok){const E=await w.json();c(E.comments||[])}}catch(w){console.error("Failed to load comments:",w)}}async function S(p){if(!e){alert("Please sign in to favorite content");return}try{const w=await fetch(`/api/community/${p}/favorite`,{method:"POST"});if(w.ok){const E=await w.json();d(k=>{const T=new Set(k);return E.favorited?T.add(p):T.delete(p),T}),g()}}catch(w){console.error("Failed to toggle favorite:",w)}}async function f(){if(!(!e||!a||!u.trim()))try{(await fetch(`/api/community/${a.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:u.trim()})})).ok&&(h(""),y(a.id),g())}catch(p){console.error("Failed to add comment:",p)}}function x(p){if(!p)return null;if(p.includes("youtube.com")||p.includes("youtu.be")){const w=p.includes("youtu.be")?p.split("/").pop():new URLSearchParams(new URL(p).search).get("v");if(w)return r.jsx("div",{className:"aspect-video mb-3",children:r.jsx("iframe",{src:`https://www.youtube.com/embed/${w}`,className:"w-full h-full rounded",allowFullScreen:!0})})}if(p.includes("spotify.com")){const w=p.replace("spotify.com","spotify.com/embed");return r.jsx("div",{className:"mb-3",children:r.jsx("iframe",{src:w,width:"100%",height:"152",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",className:"rounded"})})}return p.match(/\.(jpg|jpeg|png|gif|webp)$/i)||p.includes("/object-storage/")?r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:p,alt:"Media",className:"w-full h-auto rounded max-h-64 object-cover"})}):null}return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Community"}),r.jsx("p",{className:"text-theme-muted",children:"Creative work shared by BOX members"})]}),s?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):t.length===0?r.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No shared content yet. Be the first to share!"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(p=>{var w,E;return r.jsxs("div",{className:"card p-4 rounded-xl",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("span",{className:"text-xs text-theme-muted uppercase",children:p.noteCategory}),r.jsx("span",{className:"text-xs text-theme-muted",children:new Date(p.approvedAt).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3",children:p.noteContent}),((w=p.noteMediaUrls)==null?void 0:w[0])&&x(p.noteMediaUrls[0]),((E=p.noteTags)==null?void 0:E.length)>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:p.noteTags.map((k,T)=>r.jsxs("span",{className:"text-xs bg-theme-tertiary px-2 py-0.5 rounded",children:["#",k]},T))}),r.jsx("div",{className:"flex justify-between items-center pt-3 border-t border-theme",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:()=>S(p.id),className:`text-sm flex items-center gap-1 ${m.has(p.id)?"text-accent":"text-theme-muted hover:text-theme-primary"}`,children:[m.has(p.id)?"":""," ",p.favoritesCount]}),r.jsxs("button",{onClick:()=>{o(p),y(p.id)},className:"text-sm text-theme-muted hover:text-theme-primary flex items-center gap-1",children:[" ",p.commentsCount]})]})})]},p.id)})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-theme-secondary rounded-xl w-full max-w-lg max-h-[80vh] overflow-y-auto p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-theme-primary",children:"Comments"}),r.jsx("button",{onClick:()=>o(null),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),r.jsx("div",{className:"mb-4 p-4 bg-theme-tertiary rounded",children:r.jsx("p",{className:"text-sm",children:a.noteContent})}),r.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:l.length===0?r.jsx("p",{className:"text-theme-muted text-sm text-center py-4",children:"No comments yet"}):l.map(p=>r.jsxs("div",{className:"p-3 bg-theme-tertiary rounded",children:[r.jsx("p",{className:"text-sm",children:p.content}),r.jsx("p",{className:"text-xs text-theme-muted mt-1",children:new Date(p.createdAt).toLocaleDateString()})]},p.id))}),e&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:u,onChange:p=>h(p.target.value),placeholder:"Add a comment...",className:"input-field flex-1 p-2 rounded text-sm",onKeyDown:p=>p.key==="Enter"&&f()}),r.jsx("button",{onClick:f,className:"btn-primary px-4 py-2 rounded text-sm",disabled:!u.trim(),children:"Post"})]})]})})]})]})}const Xk=[{id:"overview",label:"Overview"},{id:"copyright",label:"Copyright"},{id:"identifiers",label:"Global IDs"},{id:"pro",label:"PROs"},{id:"workflow",label:"IP Workflow"}];function Yk(){const[e,t]=j.useState("overview");return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Documentation"}),r.jsx("p",{className:"text-theme-secondary",children:"Reference guide for protecting and monetizing your creative work"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",children:Xk.map(n=>r.jsx("button",{onClick:()=>t(n.id),className:`px-4 py-2 rounded text-sm whitespace-nowrap transition-colors ${e===n.id?"btn-primary":"bg-theme-tertiary text-theme-secondary hover:text-theme-primary"}`,children:n.label},n.id))}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[e==="overview"&&r.jsx(qk,{}),e==="copyright"&&r.jsx(Zk,{}),e==="identifiers"&&r.jsx(Jk,{}),e==="pro"&&r.jsx(eC,{}),e==="workflow"&&r.jsx(tC,{})]})]})]})}function qk(){return r.jsxs("div",{className:"space-y-6 text-theme-primary",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Protecting Your Creative Work"}),r.jsx("p",{className:"text-theme-secondary leading-relaxed",children:"As an independent music artist, protecting your intellectual property is essential for building a sustainable career. This guide walks you through the key steps to register, protect, and monetize your creative work."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold mb-2",children:"Why This Matters"}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[r.jsx("li",{children:"- Prove ownership of your work"}),r.jsx("li",{children:"- Collect royalties from streams and plays"}),r.jsx("li",{children:"- Protect against unauthorized use"}),r.jsx("li",{children:"- Enable licensing opportunities"})]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold mb-2",children:"Key Components"}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[r.jsx("li",{children:"- Copyright registration"}),r.jsx("li",{children:"- PRO membership (BMI/ASCAP)"}),r.jsx("li",{children:"- Global identifiers (ISRC, UPC, ISWC)"}),r.jsx("li",{children:"- Distribution platform"})]})]})]})]})}function Zk(){return r.jsxs("div",{className:"space-y-6 text-theme-primary",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Copyright Registration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"What is Copyright?"}),r.jsxs("p",{className:"text-theme-secondary leading-relaxed",children:["Copyright is automatic protection that exists the moment you create an original work in a fixed form (recording, written notation, etc.). However, ",r.jsx("strong",{children:"registering"})," your copyright with the U.S. Copyright Office provides additional legal benefits."]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold mb-2",children:"Benefits of Registration"}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Public Record:"})," Creates official documentation of ownership"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Legal Standing:"})," Required to sue for infringement in federal court"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Statutory Damages:"})," Eligible for up to $150,000 per work if registered before infringement"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Attorney's Fees:"})," Can recover legal costs in successful lawsuits"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Two Copyrights Per Song"}),r.jsx("p",{className:"text-theme-secondary mb-3",children:"Every song has two separate copyrights that can be registered:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold mb-1",children:"PA (Performing Arts)"}),r.jsx("p",{className:"text-sm text-theme-secondary",children:'Covers the underlying musical composition - the melody, lyrics, and arrangement. This is the "song" itself, separate from any recording.'}),r.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $45"})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold mb-1",children:"SR (Sound Recording)"}),r.jsx("p",{className:"text-sm text-theme-secondary",children:"Covers the specific recorded performance - the actual audio file. This protects the production, vocals, and instrumentation as recorded."}),r.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $65"})]})]})]}),r.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[r.jsx("h4",{className:"font-bold mb-2",children:"How to Register"}),r.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[r.jsxs("li",{children:["1. Visit ",r.jsx("strong",{children:"copyright.gov"})]}),r.jsx("li",{children:"2. Create an account or log in"}),r.jsx("li",{children:'3. Select "Register a Work"'}),r.jsx("li",{children:"4. Choose PA or SR form"}),r.jsx("li",{children:"5. Complete the application and upload your work"}),r.jsx("li",{children:"6. Pay the filing fee ($45-$65)"})]}),r.jsx("p",{className:"text-xs text-theme-muted mt-3",children:"Processing time: 3-10 months"})]})]})]})}function Jk(){return r.jsxs("div",{className:"space-y-6 text-theme-primary",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Global Identifiers"}),r.jsx("p",{className:"text-theme-secondary mb-4",children:"Global identifiers are unique codes that help track, report, and pay royalties for your music across platforms worldwide."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISRC (International Standard Recording Code)"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A unique 12-character code assigned to each specific recording of a song."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Format:"}),r.jsx("p",{className:"font-mono",children:"CC-XXX-YY-NNNNN"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Example:"}),r.jsx("p",{className:"font-mono",children:"US-S1Z-21-00001"})]})]}),r.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Who assigns:"})," Distributors (DistroKid, TuneCore, CD Baby) or you can register as an ISRC manager"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Cost:"})," Usually free through distributors"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Used for:"})," Tracking streams, radio plays, and generating royalty reports"]})]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"UPC (Universal Product Code)"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A barcode for your release (single, EP, or album) - not individual tracks."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Format:"}),r.jsx("p",{className:"font-mono",children:"12-digit number"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Example:"}),r.jsx("p",{className:"font-mono",children:"012345678901"})]})]}),r.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Who assigns:"})," Distributors typically provide these free"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Cost:"})," Usually included with distribution"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Used for:"})," Retail tracking, chart reporting, and sales data"]})]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISWC (International Standard Musical Work Code)"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Identifies the underlying composition (not the recording) - the songwriting."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Format:"}),r.jsx("p",{className:"font-mono",children:"T-NNNNNNNNN-C"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted",children:"Example:"}),r.jsx("p",{className:"font-mono",children:"T-070237182-1"})]})]}),r.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Who assigns:"})," Your PRO (BMI, ASCAP, SESAC) when you register the work"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Cost:"})," Free through PRO membership"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Used for:"})," Tracking performance royalties globally"]})]})]}),r.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[r.jsx("h4",{className:"font-bold mb-2",children:"Quick Reference"}),r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"text-theme-muted",children:[r.jsx("th",{className:"text-left py-1",children:"ID"}),r.jsx("th",{className:"text-left py-1",children:"Covers"}),r.jsx("th",{className:"text-left py-1",children:"Get From"})]})}),r.jsxs("tbody",{className:"text-theme-secondary",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-1 font-mono",children:"ISRC"}),r.jsx("td",{className:"py-1",children:"Recording"}),r.jsx("td",{className:"py-1",children:"Distributor"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1 font-mono",children:"UPC"}),r.jsx("td",{className:"py-1",children:"Release"}),r.jsx("td",{className:"py-1",children:"Distributor"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-1 font-mono",children:"ISWC"}),r.jsx("td",{className:"py-1",children:"Composition"}),r.jsx("td",{className:"py-1",children:"PRO"})]})]})]})]})]})]})}function eC(){return r.jsxs("div",{className:"space-y-6 text-theme-primary",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Performance Rights Organizations (PROs)"}),r.jsx("p",{className:"text-theme-secondary mb-4",children:"PROs collect royalties when your music is publicly performed - radio, TV, venues, streaming, and more. You must join one to collect these royalties."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"BMI"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Broadcast Music, Inc. - One of the largest PROs in the US."}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Cost:"})," FREE for songwriters"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Publisher fee:"})," $150 (one-time)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payout:"})," Quarterly"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Website:"})," bmi.com"]})]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"ASCAP"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"American Society of Composers, Authors and Publishers."}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Cost:"})," $50 (one-time)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Publisher fee:"})," $50 (one-time)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Payout:"})," Quarterly"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Website:"})," ascap.com"]})]})]})]}),r.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"SESAC"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Invitation-only PRO that represents select artists."}),r.jsxs("ul",{className:"text-sm text-theme-secondary",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Cost:"})," Free (by invitation)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Note:"})," Smaller roster, more personalized service"]})]})]}),r.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[r.jsx("h4",{className:"font-bold mb-2",children:"Important Notes"}),r.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Choose one:"})," You can only be a member of ONE PRO at a time"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Register works:"})," After joining, you must register each song to collect royalties"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Co-writers:"})," Each co-writer needs their own PRO membership"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Publishing:"})," Consider registering as your own publisher to collect both writer AND publisher share"]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg mb-2",children:"Royalty Types PROs Collect"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Radio Airplay","TV/Film Sync","Live Venues","Streaming","Retail/Restaurants","Digital Radio","Airlines","Hotels"].map(e=>r.jsx("div",{className:"bg-theme-tertiary p-2 rounded text-center text-sm text-theme-secondary",children:e},e))})]})]})}function tC(){const e=[{step:1,title:"Fix Your Work",description:"Record or document your music in a tangible form (audio file, sheet music, written lyrics).",cost:"FREE",time:"Immediate",tips:["Keep dated backups","Email yourself a copy for timestamp","Store securely"]},{step:2,title:"Register Copyright",description:"File with the U.S. Copyright Office to create an official public record of ownership.",cost:"$45-$65",time:"3-10 months",tips:["Register PA for composition","Register SR for recording","Can register multiple works together"]},{step:3,title:"Join a PRO",description:"Sign up with BMI, ASCAP, or SESAC to collect performance royalties.",cost:"FREE-$50",time:"1-2 weeks",tips:["BMI is free for writers","ASCAP is $50 one-time","Only join ONE PRO"]},{step:4,title:"Register Your Composition",description:"Register your songs with your PRO to receive an ISWC and start collecting royalties.",cost:"FREE",time:"2-4 weeks",tips:["Include all co-writers","Add accurate metadata","Update if info changes"]},{step:5,title:"Upload to Distributor",description:"Use a distributor (DistroKid, TuneCore, CD Baby) to get on Spotify, Apple Music, etc.",cost:"$0-$30/year",time:"1-2 weeks",tips:["You'll get ISRC and UPC codes","Set a release date","Prepare artwork (3000x3000)"]},{step:6,title:"Release & Monitor",description:"Track your streams, royalties, and usage across platforms.",cost:"FREE",time:"Ongoing",tips:["Check PRO statements quarterly","Monitor distributor dashboard","Track with BOX"]}];return r.jsxs("div",{className:"space-y-6 text-theme-primary",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"IP Protection Workflow"}),r.jsx("p",{className:"text-theme-secondary mb-6",children:"Follow these 6 steps to fully protect and monetize your music. Each step builds on the previous one."}),r.jsx("div",{className:"space-y-4",children:e.map(t=>r.jsx("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full btn-primary flex items-center justify-center font-bold",children:t.step}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-bold text-lg",children:t.title}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.cost}),r.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.time})]}),r.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:t.description}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.tips.map((n,s)=>r.jsx("span",{className:"text-xs bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:n},s))})]})]})},t.step))}),r.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent mt-6",children:[r.jsx("h4",{className:"font-bold mb-2",children:"Pro Tip: Track Everything in BOX"}),r.jsx("p",{className:"text-sm text-theme-secondary",children:"Use your project pages to store all identifiers (ISRC, UPC, ISWC, copyright registration numbers) and track which steps you've completed for each release."})]})]})}function nC(){const{user:e}=Ut(),[t,n]=j.useState([]),[s,i]=j.useState(null),[a,o]=j.useState([]),[l,c]=j.useState(""),[u,h]=j.useState(!0),[m,d]=j.useState(!1),[g,v]=j.useState(""),[y,S]=j.useState(""),[f,x]=j.useState("roster");j.useEffect(()=>{p()},[]);async function p(){try{const b=await fetch("/api/studio/artists");if(b.ok){const P=await b.json();n(P.artists||[])}}catch(b){console.error("Failed to load artists:",b)}finally{h(!1)}}async function w(b){try{const P=await fetch(`/api/studio/artists/${b}/projects`);if(P.ok){const R=await P.json();o(R.projects||[])}}catch(P){console.error("Failed to load artist projects:",P)}}async function E(b){b.preventDefault(),v(""),S(""),d(!0);try{const P=await fetch("/api/studio/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}),R=await P.json();P.ok?(S("Invitation sent successfully!"),c(""),p()):v(R.message||"Failed to send invitation")}catch{v("Failed to send invitation")}finally{d(!1)}}async function k(b,P){try{(await fetch(`/api/studio/projects/${b}/feature`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featured:!P})})).ok&&s&&w(s.artistId)}catch(R){console.error("Failed to toggle featured status:",R)}}async function T(b){if(confirm("Are you sure you want to remove this artist from your roster?"))try{(await fetch(`/api/studio/artists/${b}`,{method:"DELETE"})).ok&&(p(),i(null),o([]))}catch(P){console.error("Failed to remove artist:",P)}}return(e==null?void 0:e.role)!=="studio"?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-theme-muted mb-4",children:"Studio access only"}),r.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})}):r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.businessName||"Studio Dashboard"}),r.jsx("p",{className:"text-theme-secondary",children:"Manage your artist roster and curate your portfolio"}),r.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg inline-block",children:[r.jsx("p",{className:"text-xs text-theme-muted mb-1",children:"Your Studio Code"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("code",{className:"text-xl font-mono font-bold text-accent tracking-wider",children:e.boxCode||"Loading..."}),r.jsx("button",{onClick:()=>{e.boxCode&&(navigator.clipboard.writeText(e.boxCode),S("Code copied!"),setTimeout(()=>S(""),2e3))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),r.jsx("p",{className:"text-xs text-theme-muted mt-2",children:"Share this code with artists to join your network during signup"})]})]}),r.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme pb-2",children:[r.jsx("button",{onClick:()=>x("roster"),className:`px-4 py-2 rounded-t-lg transition-colors ${f==="roster"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Artist Roster"}),r.jsx("button",{onClick:()=>x("portfolio"),className:`px-4 py-2 rounded-t-lg transition-colors ${f==="portfolio"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Portfolio"}),r.jsx("button",{onClick:()=>x("settings"),className:`px-4 py-2 rounded-t-lg transition-colors ${f==="settings"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Settings"})]}),f==="roster"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Invite Artist"}),r.jsxs("form",{onSubmit:E,className:"space-y-4",children:[r.jsx("input",{type:"email",value:l,onChange:b=>c(b.target.value),className:"input-field w-full p-3 rounded",placeholder:"artist@email.com",required:!0}),g&&r.jsx("p",{className:"text-red-400 text-sm",children:g}),y&&r.jsx("p",{className:"text-green-400 text-sm",children:y}),r.jsx("button",{type:"submit",disabled:m,className:"w-full btn-primary py-3 rounded-lg font-bold disabled:opacity-50",children:m?"Sending...":"Send Invitation"})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsxs("h2",{className:"text-lg font-bold text-accent mb-4",children:["Your Roster (",t.filter(b=>b.status==="accepted").length,")"]}),u?r.jsx("p",{className:"text-theme-muted",children:"Loading..."}):t.length===0?r.jsx("p",{className:"text-theme-muted text-sm",children:"No artists yet. Invite some to get started!"}):r.jsx("div",{className:"space-y-3",children:t.map(b=>r.jsx("div",{onClick:()=>{b.status==="accepted"&&b.artistId&&(i(b),w(b.artistId))},className:`p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===b.id?"bg-theme-tertiary border border-accent":"bg-theme-secondary hover:bg-theme-tertiary"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-sm",children:b.artistName||b.inviteEmail}),r.jsx("p",{className:"text-theme-muted text-xs",children:b.status==="pending"?"Pending invite":`${b.projectCount} projects`})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${b.status==="accepted"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:b.status})]})},b.id))})]})]}),r.jsx("div",{className:"lg:col-span-2",children:s?r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:s.artistName}),r.jsx("p",{className:"text-theme-muted text-sm",children:s.artistEmail})]}),r.jsx("button",{onClick:()=>T(s.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove from roster"})]}),r.jsx("h3",{className:"font-bold text-accent mb-4",children:"Projects"}),a.length===0?r.jsx("p",{className:"text-theme-muted text-sm",children:"No projects yet"}):r.jsx("div",{className:"space-y-3",children:a.map(b=>r.jsxs("div",{className:"p-4 bg-theme-secondary rounded-lg flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:b.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-theme-muted text-xs",children:b.type}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${b.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:b.status})]})]}),r.jsx("button",{onClick:()=>k(b.id,b.isFeatured),className:`px-3 py-1.5 rounded text-sm transition-colors ${b.isFeatured?"bg-accent text-accent-contrast font-bold":"bg-theme-tertiary text-theme-muted hover:text-theme-primary"}`,children:b.isFeatured?"Featured":"Feature"})]},b.id))})]}):r.jsx("div",{className:"card p-6 rounded-xl text-center",children:r.jsx("p",{className:"text-theme-muted",children:"Select an artist to view their projects"})})})]}),f==="portfolio"&&r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Work"}),r.jsx("p",{className:"text-theme-muted text-sm mb-6",children:"These projects will appear on your public portfolio page."}),r.jsx(et,{href:`/portfolio/${e.id}`,className:"text-accent hover:underline text-sm",children:"View public portfolio "})]}),f==="settings"&&r.jsxs("div",{className:"card p-6 rounded-xl max-w-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Studio Settings"}),r.jsx("p",{className:"text-theme-muted text-sm",children:"Update your studio profile in the Settings page."}),r.jsx(et,{href:"/settings",className:"inline-block mt-4 btn-primary px-4 py-2 rounded-lg text-sm",children:"Go to Settings"})]})]})]})}function sC(){const{id:e}=To(),{theme:t,toggleTheme:n}=Mi(),[s,i]=j.useState(null),[a,o]=j.useState([]),[l,c]=j.useState([]),[u,h]=j.useState(!0);j.useEffect(()=>{m()},[e]);async function m(){try{const d=await fetch(`/api/portfolio/${e}`);if(d.ok){const g=await d.json();i(g.studio),o(g.featuredProjects||[]),c(g.roster||[])}}catch(d){console.error("Failed to load portfolio:",d)}finally{h(!1)}}return u?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):s?r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx("header",{className:"border-b border-theme p-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(et,{href:"/",children:r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"})}),r.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),r.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]})]})}),r.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.businessName}),s.businessBio&&r.jsx("p",{className:"text-theme-secondary max-w-2xl mx-auto",children:s.businessBio})]}),l.length>0&&r.jsxs("section",{className:"mb-12",children:[r.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Artist Roster"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(d=>{var g;return r.jsxs("div",{className:"card p-4 rounded-xl text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-theme-tertiary mx-auto mb-3 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold text-accent",children:((g=d.displayName)==null?void 0:g.charAt(0))||"?"})}),r.jsx("p",{className:"font-bold",children:d.displayName}),r.jsxs("p",{className:"text-theme-muted text-xs",children:[d.projectCount," projects"]})]},d.id)})})]}),a.length>0&&r.jsxs("section",{children:[r.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Featured Work"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(d=>r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:d.type}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${d.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:d.status})]}),r.jsx("h3",{className:"text-lg font-bold mb-2",children:d.title}),r.jsxs("p",{className:"text-theme-muted text-sm mb-3",children:["by ",d.artistName]}),d.description&&r.jsx("p",{className:"text-theme-secondary text-sm line-clamp-3",children:d.description})]},d.id))})]}),a.length===0&&l.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-theme-muted",children:"No content to display yet"})})]}),r.jsx("footer",{className:"border-t border-theme p-6 mt-12",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center text-theme-muted text-sm",children:r.jsx("p",{children:"Powered by BOX | luctheleo.com"})})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-theme-muted mb-4",children:"Portfolio not found"}),r.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Home"})]})})}const da={mlc:{name:"The MLC",fullName:"The Mechanical Licensing Collective",description:"Bulk Work Registration for digital mechanical royalties in the U.S.",format:"csv",fields:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID","Alternative Titles"]},ascap_bmi:{name:"ASCAP/BMI",fullName:"MusicMark Electronic Batch Registration",description:"Performance royalties registration via MusicMark EBR system.",format:"csv",fields:["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"]},music_reports:{name:"Music Reports",fullName:"Songdex Catalog Template",description:"Licensing registration for platforms like TikTok and Amazon Music.",format:"csv",fields:["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"]},soundexchange:{name:"SoundExchange",fullName:"ISRC Ingest Form",description:"Digital performance royalties for master recordings.",format:"csv",fields:["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"]},hfa:{name:"Harry Fox Agency",fullName:"eSong Bulk Registration Template",description:"Mechanical royalties for reproductions (streaming, downloads, CDs). Excel template for bulk uploads.",format:"csv",fields:["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"]}};function rC(){const{user:e}=Ut(),[t,n]=j.useState([]),[s,i]=j.useState([]),[a,o]=j.useState(null),[l,c]=j.useState(!0),[u,h]=j.useState("select-platform");j.useEffect(()=>{m()},[]);async function m(){try{const T=await fetch("/api/projects");if(T.ok){const b=await T.json();n(b.projects||[])}}catch(T){console.error("Failed to load projects:",T)}finally{c(!1)}}function d(T){i(b=>b.includes(T)?b.filter(P=>P!==T):[...b,T])}function g(){i(t.map(T=>T.id))}function v(){i([])}function y(){if(!a)return"";const T=t.filter(P=>s.includes(P.id));let b="";switch(a){case"mlc":b=S(T);break;case"ascap_bmi":b=f(T);break;case"music_reports":b=x(T);break;case"soundexchange":b=p(T);break;case"hfa":b=w(T);break}return b}function S(T){const b=["Work Title","ISWC","Writers","Publishers","Ownership Percentage","PRO Work ID","Alternative Titles"],P=T.map(R=>{var _,V,W,G;return[R.title,((_=R.metadata)==null?void 0:_.iswc)||"",(((V=R.metadata)==null?void 0:V.writers)||[]).join("; "),(((W=R.metadata)==null?void 0:W.publishers)||[]).join("; "),"100",((G=R.metadata)==null?void 0:G.proWorkId)||"",""]});return[b.join(","),...P.map(R=>R.map(_=>`"${_}"`).join(","))].join(`
`)}function f(T){const b=["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"],P=T.map(R=>{var _,V,W,G,D;return[R.title,(((_=R.metadata)==null?void 0:_.writers)||[]).join("; "),(((V=R.metadata)==null?void 0:V.publishers)||[]).join("; "),((W=R.metadata)==null?void 0:W.iswc)||"",((G=R.metadata)==null?void 0:G.duration)||"",((D=R.metadata)==null?void 0:D.genre)||"",""]});return[b.join(","),...P.map(R=>R.map(_=>`"${_}"`).join(","))].join(`
`)}function x(T){const b=["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"],P=T.map(R=>{var _,V,W,G,D,z,O;return[R.title,((_=R.metadata)==null?void 0:_.isrc)||"",((V=R.metadata)==null?void 0:V.iswc)||"",(((W=R.metadata)==null?void 0:W.writers)||[]).join("; "),(((G=R.metadata)==null?void 0:G.publishers)||[]).join("; "),((D=R.metadata)==null?void 0:D.releaseDate)||"",((z=R.metadata)==null?void 0:z.duration)||"",((O=R.metadata)==null?void 0:O.upc)||""]});return[b.join(","),...P.map(R=>R.map(_=>`"${_}"`).join(","))].join(`
`)}function p(T){const b=["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"],P=T.map(R=>{var _,V,W,G;return[R.title,((_=R.metadata)==null?void 0:_.isrc)||"",(e==null?void 0:e.displayName)||"","",((V=R.metadata)==null?void 0:V.releaseDate)||"",((W=R.metadata)==null?void 0:W.duration)||"","",((G=R.metadata)==null?void 0:G.upc)||""]});return[b.join(","),...P.map(R=>R.map(_=>`"${_}"`).join(","))].join(`
`)}function w(T){const b=["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"],P=[];return T.forEach(R=>{var V,W;const _=((V=R.metadata)==null?void 0:V.writers)||[];if(_.length===0)P.push([R.title,"","","100",((W=R.metadata)==null?void 0:W.isrc)||"",(e==null?void 0:e.displayName)||"","",""]);else{const G=Math.floor(100/_.length);_.forEach((D,z)=>{var I;const O=D.trim().split(" "),C=O[0]||"",A=O.slice(1).join(" ")||"";P.push([R.title,C,A,String(G),((I=R.metadata)==null?void 0:I.isrc)||"",(e==null?void 0:e.displayName)||"","",""])})}}),[b.join(","),...P.map(R=>R.map(_=>`"${_}"`).join(","))].join(`
`)}function E(){if(!a)return;const T=y(),b=da[a],P=new Blob([T],{type:"text/csv;charset=utf-8;"}),R=URL.createObjectURL(P),_=document.createElement("a");_.href=R,_.download=`${b.name.replace(/\//g,"_")}_submission_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(R)}function k(){if(!a)return{headers:[],rows:[]};const T=t.filter(b=>s.includes(b.id));switch(a){case"mlc":return{headers:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID"],rows:T.map(b=>{var P,R,_,V;return[b.title,((P=b.metadata)==null?void 0:P.iswc)||"-",(((R=b.metadata)==null?void 0:R.writers)||[]).join("; ")||"-",(((_=b.metadata)==null?void 0:_.publishers)||[]).join("; ")||"-","100%",((V=b.metadata)==null?void 0:V.proWorkId)||"-"]})};case"ascap_bmi":return{headers:["Work Title","Writers","Publishers","ISWC","Duration","Genre"],rows:T.map(b=>{var P,R,_,V,W;return[b.title,(((P=b.metadata)==null?void 0:P.writers)||[]).join("; ")||"-",(((R=b.metadata)==null?void 0:R.publishers)||[]).join("; ")||"-",((_=b.metadata)==null?void 0:_.iswc)||"-",((V=b.metadata)==null?void 0:V.duration)||"-",((W=b.metadata)==null?void 0:W.genre)||"-"]})};case"music_reports":return{headers:["Song Title","ISRC","ISWC","Writers","Release Date","UPC"],rows:T.map(b=>{var P,R,_,V,W;return[b.title,((P=b.metadata)==null?void 0:P.isrc)||"-",((R=b.metadata)==null?void 0:R.iswc)||"-",(((_=b.metadata)==null?void 0:_.writers)||[]).join("; ")||"-",((V=b.metadata)==null?void 0:V.releaseDate)||"-",((W=b.metadata)==null?void 0:W.upc)||"-"]})};case"soundexchange":return{headers:["Recording Title","ISRC","Artist","Release Date","Duration","UPC"],rows:T.map(b=>{var P,R,_,V;return[b.title,((P=b.metadata)==null?void 0:P.isrc)||"-",(e==null?void 0:e.displayName)||"-",((R=b.metadata)==null?void 0:R.releaseDate)||"-",((_=b.metadata)==null?void 0:_.duration)||"-",((V=b.metadata)==null?void 0:V.upc)||"-"]})};case"hfa":return{headers:["Song Title","Writer First","Writer Last","Share","ISRC","Artist"],rows:T.flatMap(b=>{var _,V;const P=((_=b.metadata)==null?void 0:_.writers)||[];if(P.length===0)return[[b.title,"-","-","100",((V=b.metadata)==null?void 0:V.isrc)||"-",(e==null?void 0:e.displayName)||"-"]];const R=Math.floor(100/P.length);return P.map(W=>{var D;const G=W.trim().split(" ");return[b.title,G[0]||"-",G.slice(1).join(" ")||"-",String(R),((D=b.metadata)==null?void 0:D.isrc)||"-",(e==null?void 0:e.displayName)||"-"]})})};default:return{headers:[],rows:[]}}}return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submission File Generator"}),r.jsx("p",{className:"text-theme-secondary",children:"Export your project data in industry-standard formats for royalty and rights platforms"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center md:justify-start",children:[r.jsx("button",{onClick:()=>h("select-platform"),className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="select-platform"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"}`,children:"1. Platform"}),r.jsx("button",{onClick:()=>a&&h("select-projects"),disabled:!a,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="select-projects"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"2. Projects"}),r.jsx("button",{onClick:()=>s.length>0&&h("preview"),disabled:s.length===0,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="preview"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"3. Download"})]}),u==="select-platform"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Destination Platform"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(da).map(([T,b])=>r.jsxs("button",{onClick:()=>{o(T),h("select-projects")},className:`card p-6 rounded-xl text-left transition-all hover:border-accent ${a===T?"border-2 border-accent":"border border-theme"}`,children:[r.jsx("h3",{className:"text-lg font-bold text-accent mb-1",children:b.name}),r.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:b.fullName}),r.jsx("p",{className:"text-xs text-theme-muted mb-3",children:b.description}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.fields.slice(0,4).map((P,R)=>r.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:P},R)),b.fields.length>4&&r.jsxs("span",{className:"text-xs text-theme-muted",children:["+",b.fields.length-4," more"]})]})]},T))}),r.jsxs("div",{className:"card p-6 rounded-xl mt-8",children:[r.jsx("h3",{className:"text-lg font-bold mb-3",children:"About File Formats"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-accent mb-1",children:"CSV (Comma-Separated Values)"}),r.jsx("p",{className:"text-theme-muted",children:"User-friendly format for bulk uploads. Opens in Excel or Google Sheets. Recommended for independent artists and small publishers."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-accent mb-1",children:"CWR (Common Works Registration)"}),r.jsx("p",{className:"text-theme-muted",children:'Industry "gold standard" for large publishers. Machine-readable format requiring specialized software. Used for automated catalog registration.'})]})]})]})]}),u==="select-projects"&&a&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold",children:"Select Projects to Export"}),r.jsxs("p",{className:"text-sm text-theme-muted",children:["Exporting for: ",r.jsx("span",{className:"text-accent",children:da[a].name})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:g,className:"text-sm text-accent hover:underline",children:"Select All"}),r.jsx("span",{className:"text-theme-muted",children:"|"}),r.jsx("button",{onClick:v,className:"text-sm text-theme-muted hover:underline",children:"Deselect All"})]})]}),l?r.jsx("p",{className:"text-theme-muted",children:"Loading projects..."}):t.length===0?r.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[r.jsx("p",{className:"text-theme-muted mb-4",children:"No projects found. Create some projects first to export."}),r.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Go to Dashboard"})]}):r.jsx("div",{className:"space-y-2",children:t.map(T=>{var b,P,R;return r.jsxs("div",{onClick:()=>d(T.id),className:`card p-4 rounded-lg cursor-pointer transition-all flex items-center gap-4 ${s.includes(T.id)?"border-2 border-accent bg-theme-secondary":"border border-theme hover:border-theme-muted"}`,children:[r.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${s.includes(T.id)?"border-accent bg-accent":"border-theme-muted bg-transparent"}`,children:s.includes(T.id)&&r.jsx("span",{className:"text-black text-xs font-bold",children:""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:T.title}),r.jsxs("div",{className:"flex gap-3 text-xs text-theme-muted mt-1",children:[r.jsx("span",{children:T.type}),r.jsx("span",{children:""}),r.jsx("span",{children:T.status}),((b=T.metadata)==null?void 0:b.isrc)&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{children:["ISRC: ",T.metadata.isrc]})]})]})]}),r.jsxs("div",{className:"text-xs text-theme-muted",children:[(P=T.metadata)!=null&&P.iswc?" ISWC":"",(R=T.metadata)!=null&&R.isrc?"  ISRC":""]})]},T.id)})}),r.jsxs("div",{className:"flex justify-between mt-6",children:[r.jsx("button",{onClick:()=>h("select-platform"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),r.jsxs("button",{onClick:()=>h("preview"),disabled:s.length===0,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:["Preview (",s.length," selected) "]})]})]}),u==="preview"&&a&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Preview & Download"}),r.jsxs("p",{className:"text-sm text-theme-muted",children:[r.jsx("span",{className:"text-accent",children:da[a].name})," format ",s.length," project",s.length!==1?"s":""," selected"]})]}),r.jsxs("div",{className:"card p-6 rounded-xl mb-6 overflow-x-auto",children:[r.jsx("h3",{className:"font-bold mb-4",children:"Data Preview"}),(()=>{const{headers:T,rows:b}=k();return r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-theme",children:T.map((P,R)=>r.jsx("th",{className:"text-left py-2 px-3 text-accent font-bold",children:P},R))})}),r.jsx("tbody",{children:b.map((P,R)=>r.jsx("tr",{className:"border-b border-theme-tertiary hover:bg-theme-secondary",children:P.map((_,V)=>r.jsx("td",{className:"py-2 px-3 text-theme-secondary",children:_},V))},R))})]})})()]}),r.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[r.jsx("h3",{className:"font-bold mb-2",children:"Missing Data Notice"}),r.jsx("p",{className:"text-sm text-theme-muted mb-4",children:'Fields marked with "-" are empty. Complete your project metadata for accurate submissions.'}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Tip: Add ISRC, ISWC, writers, and publishers in each project's details page before exporting."})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:()=>h("select-projects"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),r.jsx("button",{onClick:E,className:"btn-primary px-8 py-3 rounded-lg font-bold",children:"Download CSV File"})]})]}),r.jsx("div",{className:"mt-12 pt-8 border-t border-theme-tertiary",children:r.jsxs("div",{className:"flex justify-center gap-8 text-sm",children:[r.jsx("a",{href:"/docs",className:"text-theme-secondary hover:text-accent transition-colors",children:"Documentation"}),r.jsx("a",{href:"/generator",className:"text-theme-secondary hover:text-accent transition-colors",children:"Agreements"}),r.jsx("a",{href:"/community",className:"text-theme-secondary hover:text-accent transition-colors",children:"Community"})]})})]})]})}const Pl={shortBio:"",mediumBio:"",longBio:"",genre:"",location:"",photoUrls:[],videoUrls:[],featuredTracks:[],achievements:[],pressQuotes:[],socialLinks:{},contactEmail:"",contactName:"",bookingEmail:"",technicalRider:"",stagePlot:"",isPublished:!1};function iC(){const{user:e}=Ut(),[t,n]=j.useState(Pl),[s,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState(null),[u,h]=j.useState("bio"),[m,d]=j.useState(""),[g,v]=j.useState(""),[y,S]=j.useState({title:"",url:"",platform:"spotify"}),[f,x]=j.useState(""),[p,w]=j.useState({quote:"",source:""});j.useEffect(()=>{E()},[]);async function E(){try{const C=await fetch("/api/epk");if(C.ok){const A=await C.json();A.epk&&n({...Pl,...A.epk,photoUrls:A.epk.photoUrls||[],videoUrls:A.epk.videoUrls||[],featuredTracks:A.epk.featuredTracks||[],achievements:A.epk.achievements||[],pressQuotes:A.epk.pressQuotes||[],socialLinks:A.epk.socialLinks||{}})}}catch(C){console.error("Failed to load EPK:",C)}finally{i(!1)}}async function k(C=!1){o(!0),c(null);try{const A=await fetch("/api/epk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,isPublished:C?!0:t.isPublished})});if(A.ok){const I=await A.json();n({...Pl,...I.epk,photoUrls:I.epk.photoUrls||[],videoUrls:I.epk.videoUrls||[],featuredTracks:I.epk.featuredTracks||[],achievements:I.epk.achievements||[],pressQuotes:I.epk.pressQuotes||[],socialLinks:I.epk.socialLinks||{}}),c({type:"success",text:C?"EPK published!":"EPK saved!"})}else c({type:"error",text:"Failed to save EPK"})}catch{c({type:"error",text:"Failed to save EPK"})}finally{o(!1)}}function T(){m.trim()&&(n({...t,photoUrls:[...t.photoUrls,m.trim()]}),d(""))}function b(C){n({...t,photoUrls:t.photoUrls.filter((A,I)=>I!==C)})}function P(){g.trim()&&(n({...t,videoUrls:[...t.videoUrls,g.trim()]}),v(""))}function R(C){n({...t,videoUrls:t.videoUrls.filter((A,I)=>I!==C)})}function _(){y.title.trim()&&y.url.trim()&&(n({...t,featuredTracks:[...t.featuredTracks,{...y}]}),S({title:"",url:"",platform:"spotify"}))}function V(C){n({...t,featuredTracks:t.featuredTracks.filter((A,I)=>I!==C)})}function W(){f.trim()&&(n({...t,achievements:[...t.achievements,f.trim()]}),x(""))}function G(C){n({...t,achievements:t.achievements.filter((A,I)=>I!==C)})}function D(){p.quote.trim()&&(n({...t,pressQuotes:[...t.pressQuotes,{...p}]}),w({quote:"",source:""}))}function z(C){n({...t,pressQuotes:t.pressQuotes.filter((A,I)=>I!==C)})}function O(C,A){n({...t,socialLinks:{...t.socialLinks,[C]:A}})}return s?r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsx("div",{className:"flex items-center justify-center p-8",children:r.jsx("p",{className:"text-theme-muted",children:"Loading your EPK..."})})]}):r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx(ft,{}),r.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Electronic Press Kit"}),r.jsx("p",{className:"text-theme-secondary",children:"Your professional resume for the music industry"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[t.isPublished&&(e==null?void 0:e.boxCode)&&r.jsx("a",{href:`/epk/${e.boxCode}`,target:"_blank",className:"text-xs text-accent hover:underline",children:"View Public EPK"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.isPublished?"bg-green-500/20 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:t.isPublished?"Published":"Draft"})]})]}),l&&r.jsx("div",{className:`p-3 rounded mb-6 ${l.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.text}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-theme pb-2",children:["bio","media","achievements","contact","technical"].map(C=>r.jsx("button",{onClick:()=>h(C),className:`px-4 py-2 rounded-t-lg text-sm transition-colors ${u===C?"bg-theme-tertiary text-accent font-bold":"text-theme-muted hover:text-theme-primary"}`,children:C==="bio"?"Biography":C==="media"?"Media & Music":C==="achievements"?"Press & Awards":C==="contact"?"Contact":"Technical"},C))}),u==="bio"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Artist Biography"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Write in third person so journalists can copy/paste. Create three versions for different contexts."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Short Bio (50-100 words) - Elevator pitch"}),r.jsx("textarea",{value:t.shortBio,onChange:C=>n({...t,shortBio:C.target.value}),className:"input-field w-full p-3 rounded h-24",placeholder:"[Artist Name] is a [genre] artist from [location]..."}),r.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.shortBio.split(/\s+/).filter(Boolean).length," words"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Medium Bio (150-250 words) - For press"}),r.jsx("textarea",{value:t.mediumBio,onChange:C=>n({...t,mediumBio:C.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Expand on your story, influences, and recent work..."}),r.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.mediumBio.split(/\s+/).filter(Boolean).length," words"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Long Bio - For in-depth features"}),r.jsx("textarea",{value:t.longBio,onChange:C=>n({...t,longBio:C.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:"Your complete artist story..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Genre"}),r.jsx("input",{type:"text",value:t.genre,onChange:C=>n({...t,genre:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Hip-Hop, R&B, Electronic..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Location"}),r.jsx("input",{type:"text",value:t.location,onChange:C=>n({...t,location:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Los Angeles, CA"})]})]})]})]})}),u==="media"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Tracks"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 of your best tracks. Lead with your strongest song."}),r.jsx("div",{className:"space-y-3 mb-4",children:t.featuredTracks.map((C,A)=>r.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[r.jsxs("span",{className:"text-accent font-bold",children:[A+1,"."]}),r.jsx("span",{className:"flex-1",children:C.title}),r.jsx("span",{className:"text-xs text-theme-muted",children:C.platform}),r.jsx("button",{onClick:()=>V(A),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},A))}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"text",value:y.title,onChange:C=>S({...y,title:C.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Track title"}),r.jsx("input",{type:"text",value:y.url,onChange:C=>S({...y,url:C.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Streaming URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:y.platform,onChange:C=>S({...y,platform:C.target.value}),className:"input-field p-2 rounded text-sm flex-1",children:[r.jsx("option",{value:"spotify",children:"Spotify"}),r.jsx("option",{value:"apple",children:"Apple Music"}),r.jsx("option",{value:"soundcloud",children:"SoundCloud"}),r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsx("button",{onClick:_,className:"btn-primary px-3 py-2 rounded text-sm",children:"Add"})]})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Photos"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 high-resolution photo URLs. Include landscape, portrait, and square formats."}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:t.photoUrls.map((C,A)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:C,alt:`Photo ${A+1}`,className:"w-full h-32 object-cover rounded"}),r.jsx("button",{onClick:()=>b(A),className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]},A))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:m,onChange:C=>d(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Photo URL (https://...)"}),r.jsx("button",{onClick:T,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Photo"})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Videos"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 2-3 video links: live performances and official music videos."}),r.jsx("div",{className:"space-y-2 mb-4",children:t.videoUrls.map((C,A)=>r.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[r.jsx("span",{className:"flex-1 text-sm truncate",children:C}),r.jsx("button",{onClick:()=>R(A),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},A))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:g,onChange:C=>v(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Video URL (YouTube, Vimeo...)"}),r.jsx("button",{onClick:P,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Video"})]})]})]}),u==="achievements"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Achievements & Stats"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Awards, streaming milestones, notable performances, chart positions."}),r.jsx("div",{className:"space-y-2 mb-4",children:t.achievements.map((C,A)=>r.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[r.jsx("span",{className:"flex-1",children:C}),r.jsx("button",{onClick:()=>G(A),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},A))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:f,onChange:C=>x(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"1M+ streams on Spotify, Winner of XYZ Award..."}),r.jsx("button",{onClick:W,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add"})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Press Quotes"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Notable quotes from press, reviews, or industry professionals."}),r.jsx("div",{className:"space-y-3 mb-4",children:t.pressQuotes.map((C,A)=>r.jsxs("div",{className:"bg-theme-secondary p-4 rounded",children:[r.jsxs("p",{className:"italic text-theme-primary",children:['"',C.quote,'"']}),C.source&&r.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:[" ",C.source]}),r.jsx("button",{onClick:()=>z(A),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]},A))}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("textarea",{value:p.quote,onChange:C=>w({...p,quote:C.target.value}),className:"input-field w-full p-2 rounded text-sm h-20",placeholder:"Quote text..."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:p.source,onChange:C=>w({...p,source:C.target.value}),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Source (Rolling Stone, Billboard...)"}),r.jsx("button",{onClick:D,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Quote"})]})]})]})]}),u==="contact"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Contact Name"}),r.jsx("input",{type:"text",value:t.contactName,onChange:C=>n({...t,contactName:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Manager, publicist, or artist name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Press/General Inquiries Email"}),r.jsx("input",{type:"email",value:t.contactEmail,onChange:C=>n({...t,contactEmail:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"press@artist.com"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Booking Email"}),r.jsx("input",{type:"email",value:t.bookingEmail,onChange:C=>n({...t,bookingEmail:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"booking@artist.com"})]})]})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Social Links"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["instagram","twitter","tiktok","youtube","spotify","soundcloud","website"].map(C=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-theme-secondary mb-1 capitalize",children:C}),r.jsx("input",{type:"text",value:t.socialLinks[C]||"",onChange:A=>O(C,A.target.value),className:"input-field w-full p-3 rounded",placeholder:`https://${C}.com/...`})]},C))})]})]}),u==="technical"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Technical Rider"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Equipment needs, input list, and stage requirements for venues."}),r.jsx("textarea",{value:t.technicalRider,onChange:C=>n({...t,technicalRider:C.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:`Input List:
- Vocal Mic (SM58 or equivalent)
- DI Box for backing tracks
- 2 Monitor wedges

Equipment Provided:
- Laptop with backing tracks
- ...`})]}),r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Stage Plot"}),r.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Describe your stage setup or link to a stage plot image."}),r.jsx("textarea",{value:t.stagePlot,onChange:C=>n({...t,stagePlot:C.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Stage setup description or URL to stage plot diagram..."})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-theme",children:[r.jsx("div",{className:"text-sm text-theme-muted",children:(e==null?void 0:e.boxCode)&&r.jsxs("span",{children:["Your EPK URL: ",r.jsxs("code",{className:"text-accent",children:["/epk/",e.boxCode]})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>k(!1),disabled:a,className:"bg-theme-secondary px-6 py-3 rounded-lg font-bold hover:opacity-80 disabled:opacity-50",children:a?"Saving...":"Save Draft"}),r.jsx("button",{onClick:()=>k(!0),disabled:a,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:a?"Publishing...":t.isPublished?"Update & Publish":"Publish EPK"})]})]})]})]})}function aC(){const{boxCode:e}=To(),{theme:t,toggleTheme:n}=Mi(),[s,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(""),[u,h]=j.useState("bio");j.useEffect(()=>{m()},[e]);async function m(){try{const y=await fetch(`/api/epk/${e}`);if(y.ok){const S=await y.json();i(S)}else c("Press kit not found or not published")}catch{c("Failed to load press kit")}finally{o(!1)}}if(a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),r.jsx("p",{className:"text-theme-muted",children:"Loading press kit..."})]})});if(l||!s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Press Kit Not Found"}),r.jsx("p",{className:"text-theme-muted mb-6",children:l}),r.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Return to BOX"})]})});const{epk:d,artist:g,projects:v}=s;return r.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[r.jsx("header",{className:"border-b border-theme p-4",children:r.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[r.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),r.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),r.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono",children:["[",t,"]"]})]})}),r.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[r.jsxs("section",{className:"text-center mb-12",children:[g.profileImageUrl&&r.jsx("img",{src:g.profileImageUrl,alt:g.displayName,className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-accent"}),r.jsx("h1",{className:"text-4xl font-bold mb-2",children:g.displayName}),d.genre&&r.jsx("p",{className:"text-accent text-lg mb-1",children:d.genre}),d.location&&r.jsx("p",{className:"text-theme-muted",children:d.location}),Object.keys(d.socialLinks).length>0&&r.jsx("div",{className:"flex justify-center gap-4 mt-6",children:Object.entries(d.socialLinks).filter(([y,S])=>S).map(([y,S])=>r.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-theme-muted hover:text-accent transition-colors capitalize text-sm",children:y},y))})]}),r.jsx("nav",{className:"flex flex-wrap justify-center gap-2 mb-8 border-b border-theme pb-4",children:["bio","music","media","press","contact"].map(y=>r.jsx("button",{onClick:()=>h(y),className:`px-4 py-2 rounded-lg text-sm transition-colors ${u===y?"bg-accent text-accent-contrast font-bold":"text-theme-muted hover:text-theme-primary"}`,children:y==="bio"?"About":y==="music"?"Music":y==="media"?"Photos & Videos":y==="press"?"Press":"Contact"},y))}),u==="bio"&&r.jsxs("section",{className:"max-w-3xl mx-auto",children:[r.jsx("div",{className:"prose prose-invert max-w-none",children:d.mediumBio?r.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.mediumBio}):d.shortBio?r.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.shortBio}):r.jsx("p",{className:"text-theme-muted",children:"No biography available."})}),d.longBio&&r.jsxs("details",{className:"mt-8",children:[r.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"Read full bio"}),r.jsx("p",{className:"mt-4 text-theme-secondary whitespace-pre-wrap",children:d.longBio})]})]}),u==="music"&&r.jsxs("section",{children:[d.featuredTracks.length>0?r.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.featuredTracks.map((y,S)=>r.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"card p-6 rounded-xl flex items-center gap-4 hover:border-accent transition-colors",children:[r.jsx("span",{className:"text-2xl font-bold text-accent",children:S+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg",children:y.title}),r.jsx("p",{className:"text-xs text-theme-muted capitalize",children:y.platform})]}),r.jsx("span",{className:"text-accent",children:"Listen"})]},S))}):r.jsx("p",{className:"text-center text-theme-muted",children:"No featured tracks available."}),v.length>0&&r.jsxs("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Published Projects"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.map(y=>r.jsxs("div",{className:"card p-4 rounded-xl",children:[r.jsx("h3",{className:"font-bold",children:y.title}),r.jsx("p",{className:"text-xs text-theme-muted capitalize",children:y.type})]},y.id))})]})]}),u==="media"&&r.jsxs("section",{className:"space-y-12",children:[d.photoUrls.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.photoUrls.map((y,S)=>r.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",children:r.jsx("img",{src:y,alt:`Photo ${S+1}`,className:"w-full h-48 object-cover rounded-lg hover:opacity-80 transition-opacity"})},S))})]}),d.videoUrls.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Videos"}),r.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.videoUrls.map((y,S)=>r.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"card p-4 rounded-xl hover:border-accent transition-colors flex items-center gap-4",children:r.jsxs("span",{className:"text-2xl",children:["Watch Video ",S+1]})},S))})]}),d.photoUrls.length===0&&d.videoUrls.length===0&&r.jsx("p",{className:"text-center text-theme-muted",children:"No media available."})]}),u==="press"&&r.jsxs("section",{className:"max-w-3xl mx-auto space-y-8",children:[d.achievements.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Achievements"}),r.jsx("ul",{className:"space-y-2",children:d.achievements.map((y,S)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-accent",children:""}),r.jsx("span",{children:y})]},S))})]}),d.pressQuotes.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Press Quotes"}),r.jsx("div",{className:"space-y-6",children:d.pressQuotes.map((y,S)=>r.jsxs("blockquote",{className:"card p-6 rounded-xl border-l-4 border-accent",children:[r.jsxs("p",{className:"text-lg italic",children:['"',y.quote,'"']}),y.source&&r.jsxs("footer",{className:"mt-3 text-theme-muted text-sm",children:[" ",y.source]})]},S))})]}),d.achievements.length===0&&d.pressQuotes.length===0&&r.jsx("p",{className:"text-center text-theme-muted",children:"No press information available."})]}),u==="contact"&&r.jsxs("section",{className:"max-w-2xl mx-auto space-y-8",children:[r.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get In Touch"}),r.jsxs("div",{className:"space-y-4",children:[d.contactName&&r.jsx("p",{className:"text-lg",children:d.contactName}),d.contactEmail&&r.jsxs("div",{children:[r.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Press & General Inquiries"}),r.jsx("a",{href:`mailto:${d.contactEmail}`,className:"text-accent hover:underline text-lg",children:d.contactEmail})]}),d.bookingEmail&&r.jsxs("div",{className:"mt-6",children:[r.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Booking"}),r.jsx("a",{href:`mailto:${d.bookingEmail}`,className:"text-accent hover:underline text-lg",children:d.bookingEmail})]})]})]}),(d.technicalRider||d.stagePlot)&&r.jsxs("div",{className:"card p-6 rounded-xl",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Technical Information"}),d.technicalRider&&r.jsxs("details",{className:"mb-4",children:[r.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Technical Rider"}),r.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.technicalRider})]}),d.stagePlot&&r.jsxs("details",{children:[r.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Stage Plot"}),r.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.stagePlot})]})]})]})]}),r.jsxs("footer",{className:"border-t border-theme p-6 mt-12 text-center",children:[r.jsxs("p",{className:"text-theme-muted text-sm",children:["Electronic Press Kit powered by ",r.jsx("a",{href:"/",className:"text-accent hover:underline",children:"BOX"})," by luctheleo.com"]}),r.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["BOX Code: ",g.boxCode]})]})]})}function oC(){const{theme:e,toggleTheme:t}=Mi(),[n,s]=j.useState("routes"),[i,a]=j.useState({auth:!0,projects:!0,notes:!0,community:!0,admin:!0,studio:!0,epk:!0,uploads:!0,blog:!0});function o(d){a(g=>({...g,[d]:!g[d]}))}const l=[{id:"auth",label:"Authentication",description:"Google OAuth, email/password login, registration, verification",routes:[{method:"GET",path:"/api/auth/google",desc:"Redirect to Google OAuth",auth:!1},{method:"GET",path:"/api/auth/google/callback",desc:"Google OAuth callback handler",auth:!1},{method:"POST",path:"/api/auth/register",desc:"Register new user (email/password)",auth:!1},{method:"POST",path:"/api/auth/login",desc:"Login with email/password",auth:!1},{method:"GET",path:"/api/auth/verify",desc:"Verify email address via token",auth:!1},{method:"POST",path:"/api/auth/resend-verification",desc:"Resend verification email",auth:!1},{method:"GET",path:"/api/auth/user",desc:"Get current authenticated user",auth:!0},{method:"POST",path:"/api/auth/change-password",desc:"Change user password",auth:!0},{method:"POST",path:"/api/auth/update-profile",desc:"Update display name / profile",auth:!0},{method:"GET",path:"/api/logout",desc:"End session and logout",auth:!1}]},{id:"projects",label:"Projects",description:"CRUD operations for creative projects (tracks, albums, EPs)",routes:[{method:"GET",path:"/api/projects",desc:"List all user projects",auth:!0},{method:"POST",path:"/api/projects",desc:"Create a new project",auth:!0},{method:"GET",path:"/api/projects/:id",desc:"Get project details by ID",auth:!0},{method:"PUT",path:"/api/projects/:id",desc:"Update a project",auth:!0},{method:"DELETE",path:"/api/projects/:id",desc:"Delete a project",auth:!0}]},{id:"notes",label:"Creative Notes",description:"Private notes for inspiration, ideas, and media links",routes:[{method:"GET",path:"/api/creative/notes",desc:"List all user notes",auth:!0},{method:"POST",path:"/api/creative/notes",desc:"Create a new note",auth:!0},{method:"PUT",path:"/api/creative/notes/:id",desc:"Update a note",auth:!0},{method:"DELETE",path:"/api/creative/notes/:id",desc:"Delete a note",auth:!0},{method:"POST",path:"/api/creative/notes/:id/pin",desc:"Toggle pin status",auth:!0},{method:"POST",path:"/api/creative/notes/reorder",desc:"Reorder notes (drag & drop)",auth:!0}]},{id:"community",label:"Community",description:"Share notes publicly, favorites, and comments",routes:[{method:"POST",path:"/api/community/submit",desc:"Submit note for community sharing",auth:!0},{method:"GET",path:"/api/community/my-submissions",desc:"Get user's submission status",auth:!0},{method:"GET",path:"/api/community",desc:"Get all approved shared content",auth:!1},{method:"POST",path:"/api/community/:id/favorite",desc:"Toggle favorite on content",auth:!0},{method:"POST",path:"/api/community/:id/comment",desc:"Add comment to content",auth:!0},{method:"GET",path:"/api/community/:id/comments",desc:"Get comments for content",auth:!1},{method:"GET",path:"/api/community/my-favorites",desc:"Get user's favorited items",auth:!0}]},{id:"admin",label:"Admin",description:"Admin panel for managing users, submissions, and blog posts",routes:[{method:"POST",path:"/api/admin/login",desc:"Admin login (password)",auth:!1},{method:"POST",path:"/api/admin/logout",desc:"Admin logout",auth:!1},{method:"GET",path:"/api/admin/check",desc:"Check admin session",auth:!1},{method:"GET",path:"/api/admin/users",desc:"Get all users",auth:!0},{method:"GET",path:"/api/admin/projects",desc:"Get all projects",auth:!0},{method:"GET",path:"/api/admin/stats",desc:"Get system statistics",auth:!0},{method:"GET",path:"/api/admin/submissions",desc:"Get community submissions",auth:!0},{method:"POST",path:"/api/admin/submissions/:id/review",desc:"Approve/reject submission",auth:!0},{method:"POST",path:"/api/admin/blog",desc:"Create blog post",auth:!0},{method:"POST",path:"/api/admin/blog/:id/publish",desc:"Toggle blog publish status",auth:!0}]},{id:"blog",label:"Blog",description:"Public blog posts created from community content",routes:[{method:"GET",path:"/api/blog",desc:"Get published blog posts",auth:!1}]},{id:"studio",label:"Studio",description:"Studio management - artist roster, invitations, portfolio",routes:[{method:"GET",path:"/api/studio/artists",desc:"Get studio's artist roster",auth:!0},{method:"POST",path:"/api/studio/invite",desc:"Invite artist by email",auth:!0},{method:"GET",path:"/api/studio/artists/:artistId/projects",desc:"Get artist's projects",auth:!0},{method:"POST",path:"/api/studio/projects/:projectId/feature",desc:"Toggle project featured",auth:!0},{method:"DELETE",path:"/api/studio/artists/:relationId",desc:"Remove artist from roster",auth:!0},{method:"GET",path:"/api/portfolio/:studioId",desc:"Get public studio portfolio",auth:!1},{method:"POST",path:"/api/studio/invitations/:invitationId/accept",desc:"Accept studio invitation",auth:!0},{method:"GET",path:"/api/artist/invitations",desc:"Get pending invitations",auth:!0}]},{id:"epk",label:"Electronic Press Kit (EPK)",description:"Create and share professional press kits",routes:[{method:"GET",path:"/api/epk",desc:"Get current user's EPK",auth:!0},{method:"POST",path:"/api/epk",desc:"Create or update EPK",auth:!0},{method:"GET",path:"/api/epk/:boxCode",desc:"Get public EPK by BOX code",auth:!1}]},{id:"uploads",label:"File Uploads",description:"Object storage for media files",routes:[{method:"POST",path:"/api/uploads/request-url",desc:"Get presigned upload URL",auth:!0},{method:"GET",path:"/objects/:objectPath(*)",desc:"Serve uploaded files",auth:!1}]}],c={GET:"bg-green-600",POST:"bg-blue-600",PUT:"bg-yellow-600",DELETE:"bg-red-600"},u=[{name:"Users",color:"#3b82f6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"email",type:"String",key:"UQ"},{name:"passwordHash",type:"String",key:""},{name:"displayName",type:"String",key:""},{name:"firstName",type:"String",key:""},{name:"lastName",type:"String",key:""},{name:"profileImageUrl",type:"String",key:""},{name:"role",type:"String",key:""},{name:"businessName",type:"String",key:""},{name:"businessBio",type:"String",key:""},{name:"boxCode",type:"String",key:"UQ"},{name:"emailVerified",type:"Boolean",key:""},{name:"verificationToken",type:"String",key:""},{name:"verificationTokenExpires",type:"Date",key:""},{name:"googleId",type:"String",key:""},{name:"githubId",type:"String",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"Projects",color:"#10b981",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"title",type:"String",key:""},{name:"type",type:"String",key:""},{name:"status",type:"String",key:""},{name:"description",type:"String",key:""},{name:"metadata",type:"Mixed (JSON)",key:""},{name:"isFeatured",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"CreativeNotes",color:"#f59e0b",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"category",type:"String",key:""},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"mediaUrls",type:"String[]",key:""},{name:"tags",type:"String[]",key:""},{name:"isPinned",type:"Boolean",key:""},{name:"sortOrder",type:"Number",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"SharedContent",color:"#8b5cf6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"noteId",type:"ObjectId",key:"FK -> CreativeNotes"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"adminNotes",type:"String",key:""},{name:"blogPostId",type:"ObjectId",key:"FK -> BlogPosts"},{name:"approvedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityFavorites",color:"#ec4899",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityComments",color:"#ef4444",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"content",type:"String",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"BlogPosts",color:"#06b6d4",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"authorId",type:"ObjectId",key:"FK -> Users"},{name:"isPublished",type:"Boolean",key:""},{name:"publishedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"StudioArtists",color:"#f97316",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"studioId",type:"ObjectId",key:"FK -> Users"},{name:"artistId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"inviteEmail",type:"String",key:""},{name:"acceptedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"Sessions",color:"#64748b",fields:[{name:"_id",type:"String",key:"PK"},{name:"expires",type:"Date",key:""},{name:"session",type:"Mixed (JSON)",key:""}]},{name:"PressKits",color:"#84cc16",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users (unique)"},{name:"shortBio",type:"String",key:""},{name:"mediumBio",type:"String",key:""},{name:"longBio",type:"String",key:""},{name:"genre",type:"String",key:""},{name:"location",type:"String",key:""},{name:"photoUrls",type:"String[]",key:""},{name:"videoUrls",type:"String[]",key:""},{name:"featuredTracks",type:"Mixed[]",key:""},{name:"achievements",type:"Mixed[]",key:""},{name:"pressQuotes",type:"Mixed[]",key:""},{name:"socialLinks",type:"Mixed",key:""},{name:"contactEmail",type:"String",key:""},{name:"contactName",type:"String",key:""},{name:"bookingEmail",type:"String",key:""},{name:"technicalRider",type:"String",key:""},{name:"stagePlot",type:"String",key:""},{name:"isPublished",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]}],h=[{from:"Users",to:"Projects",label:"1 : N",desc:"User owns many Projects"},{from:"Users",to:"CreativeNotes",label:"1 : N",desc:"User owns many Notes"},{from:"Users",to:"PressKits",label:"1 : 1",desc:"User has one Press Kit"},{from:"Users",to:"StudioArtists",label:"1 : N",desc:"Studio has many Artist relationships"},{from:"CreativeNotes",to:"SharedContent",label:"1 : 1",desc:"Note can be shared once"},{from:"Users",to:"SharedContent",label:"1 : N",desc:"User submits content"},{from:"SharedContent",to:"CommunityFavorites",label:"1 : N",desc:"Content has many Favorites"},{from:"SharedContent",to:"CommunityComments",label:"1 : N",desc:"Content has many Comments"},{from:"SharedContent",to:"BlogPosts",label:"1 : 1",desc:"Content becomes Blog Post"},{from:"Users",to:"BlogPosts",label:"1 : N",desc:"Admin authors Blog Posts"},{from:"Users",to:"CommunityFavorites",label:"1 : N",desc:"User has many Favorites"},{from:"Users",to:"CommunityComments",label:"1 : N",desc:"User has many Comments"}],m=l.reduce((d,g)=>d+g.routes.length,0);return r.jsxs("div",{className:"min-h-screen bg-theme-primary text-theme-primary",children:[r.jsx("div",{className:"border-b border-theme p-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold",children:"BOX - Capstone Documentation"}),r.jsx("p",{className:"text-xs text-theme-muted",children:"Backend Route Tree & Entity Relationship Diagram"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:t,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",e,"]"]}),r.jsx("a",{href:"/",className:"text-xs text-accent hover:underline",children:"Back to App"})]})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[r.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme",children:[r.jsx("button",{onClick:()=>s("routes"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="routes"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Backend Route Tree"}),r.jsx("button",{onClick:()=>s("erd"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="erd"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Entity Relationship Diagram"})]}),n==="routes"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Backend Route Tree"}),r.jsxs("p",{className:"text-sm text-theme-secondary mb-3",children:["Express.js REST API running on port 3000, proxied through Vite on port 5000. Most routes prefixed with ",r.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/api"}),". Object storage served at ",r.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/objects"}),"."]}),r.jsxs("div",{className:"flex gap-4 text-xs text-theme-muted flex-wrap",children:[r.jsxs("span",{children:[l.length," route groups"]}),r.jsxs("span",{children:[m," total endpoints"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 rounded bg-green-600 inline-block"})," GET"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 rounded bg-blue-600 inline-block"})," POST"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 rounded bg-yellow-600 inline-block"})," PUT"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 rounded bg-red-600 inline-block"})," DELETE"]})]})]})]}),r.jsxs("div",{className:"font-mono text-sm",children:[r.jsxs("div",{className:"p-3 bg-theme-secondary rounded-t-lg border border-theme",children:[r.jsx("span",{className:"text-accent font-bold",children:"EXPRESS APP"}),r.jsx("span",{className:"text-theme-muted ml-2",children:"server/index.ts"})]}),l.map((d,g)=>r.jsxs("div",{className:`border-x border-theme ${g===l.length-1?"border-b rounded-b-lg":""}`,children:[r.jsxs("button",{onClick:()=>o(d.id),className:"w-full text-left p-3 flex items-center gap-2 hover:bg-theme-secondary transition-colors border-b border-theme",children:[r.jsx("span",{className:"text-theme-muted w-4 text-center",children:i[d.id]?"v":">"}),r.jsxs("span",{className:"text-accent font-bold",children:["/api/",d.id==="blog"?"blog":d.id==="uploads"?"uploads":d.id]}),r.jsxs("span",{className:"text-theme-muted text-xs ml-2",children:[d.label," (",d.routes.length," routes)"]})]}),i[d.id]&&r.jsxs("div",{className:"bg-theme-primary",children:[r.jsx("div",{className:"px-4 py-2 text-xs text-theme-muted border-b border-theme bg-theme-secondary/50",children:d.description}),d.routes.map((v,y)=>r.jsxs("div",{className:"flex items-start gap-3 px-4 py-2 border-b border-theme/50 last:border-b-0 hover:bg-theme-secondary/30",children:[r.jsx("span",{className:"text-theme-muted w-6 flex-shrink-0 pt-0.5",children:y===d.routes.length-1?"":""}),r.jsx("span",{className:`${c[v.method]} text-white text-xs px-2 py-0.5 rounded font-bold w-16 text-center flex-shrink-0`,children:v.method}),r.jsx("span",{className:"text-theme-primary flex-1 break-all",children:v.path}),r.jsx("span",{className:"text-theme-muted text-xs flex-shrink-0 hidden sm:block max-w-48",children:v.desc}),v.auth&&r.jsx("span",{className:"text-yellow-500 text-xs flex-shrink-0",title:"Requires authentication",children:""})]},y))]})]},d.id))]}),r.jsxs("div",{className:"mt-6 p-4 bg-theme-secondary rounded-lg border border-theme",children:[r.jsx("h3",{className:"font-bold text-sm mb-2",children:"Middleware Stack"}),r.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[r.jsx("p",{children:"1. express.json() - Parse JSON request bodies"}),r.jsx("p",{children:"2. express-session + connect-mongo - Session management (MongoDB store)"}),r.jsx("p",{children:"3. passport.initialize() + passport.session() - Authentication"}),r.jsx("p",{children:"4. isAuthenticated - Route-level auth guard (checks session + token expiry)"}),r.jsx("p",{children:"5. isAdmin - Admin-only route guard (checks session.isAdmin)"})]})]}),r.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg border border-theme",children:[r.jsx("h3",{className:"font-bold text-sm mb-2",children:"Authentication Flow"}),r.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[r.jsxs("p",{children:["Google OAuth: Client ","->"," /api/auth/google ","->"," Google Consent ","->"," /api/auth/google/callback ","->"," Create/Find User ","->"," Set Session ","->"," Redirect /"]}),r.jsxs("p",{children:["Email/Pass: Client ","->"," POST /api/auth/register ","->"," Hash Password ","->"," Send Verification Email ","->"," GET /api/auth/verify?token=... ","->"," Activate Account"]}),r.jsxs("p",{children:["Login: Client ","->"," POST /api/auth/login ","->"," Verify Email + Password ","->"," Set Session ","->"," Return User"]})]})]})]}),n==="erd"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Entity Relationship Diagram"}),r.jsx("p",{className:"text-sm text-theme-secondary mb-1",children:"MongoDB (Atlas) with Mongoose ODM. 10 collections with referential relationships."}),r.jsx("p",{className:"text-xs text-theme-muted",children:"PK = Primary Key | FK = Foreign Key | UQ = Unique Constraint"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"font-bold text-sm mb-3 text-accent",children:"Relationships"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:h.map((d,g)=>r.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-theme-secondary rounded border border-theme",children:[r.jsx("span",{className:"font-bold text-theme-primary",children:d.from}),r.jsx("span",{className:"text-accent font-mono",children:d.label}),r.jsx("span",{className:"font-bold text-theme-primary",children:d.to}),r.jsx("span",{className:"text-theme-muted ml-auto hidden sm:block",children:d.desc})]},g))})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:u.map(d=>r.jsxs("div",{className:"border border-theme rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-3 py-2 font-bold text-sm text-white",style:{backgroundColor:d.color},children:d.name}),r.jsx("div",{className:"divide-y divide-theme/50",children:d.fields.map((g,v)=>r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 text-xs ${g.key?"bg-theme-secondary":"bg-theme-primary"}`,children:[r.jsx("span",{className:"font-mono text-theme-primary flex-1",children:g.name}),r.jsx("span",{className:"text-theme-muted",children:g.type}),g.key&&r.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded ${g.key==="PK"?"bg-yellow-500/20 text-yellow-500":g.key==="UQ"?"bg-purple-500/20 text-purple-500":"bg-blue-500/20 text-blue-500"}`,children:g.key})]},v))})]},d.name))}),r.jsxs("div",{className:"mt-8 p-4 bg-theme-secondary rounded-lg border border-theme",children:[r.jsx("h3",{className:"font-bold text-sm mb-3",children:"Data Flow Summary"}),r.jsxs("div",{className:"font-mono text-xs space-y-3 text-theme-secondary",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-accent font-bold mb-1",children:"User Registration & Auth Flow:"}),r.jsxs("p",{children:["New User ","->"," Users collection (email, passwordHash or googleId) ","->"," Sessions collection (express-session)"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-accent font-bold mb-1",children:"Project Management Flow:"}),r.jsxs("p",{children:["User ","->"," Creates Projects (userId FK) ","->"," Tracks status: concept ","->"," development ","->"," review ","->"," published"]}),r.jsx("p",{children:"Project.metadata stores: ISRC, UPC, copyright #, PRO registration, distributor info"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-accent font-bold mb-1",children:"Creative & Community Flow:"}),r.jsxs("p",{children:["User ","->"," CreativeNotes (private) ","->"," SharedContent (submit for review) ","->"," Admin approves ","->"," Public community"]}),r.jsxs("p",{children:["SharedContent ","->"," CommunityFavorites + CommunityComments (user engagement)"]}),r.jsxs("p",{children:["SharedContent ","->"," BlogPosts (admin curates into blog)"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-accent font-bold mb-1",children:"Studio & Portfolio Flow:"}),r.jsxs("p",{children:["Studio User ","->"," StudioArtists (invite by email) ","->"," Artist accepts ","->"," Studio views artist Projects"]}),r.jsxs("p",{children:["Studio User ","->"," Toggle isFeatured on artist Projects ","->"," Public Portfolio page"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-accent font-bold mb-1",children:"EPK Flow:"}),r.jsxs("p",{children:["User ","->"," PressKits (1:1, unique userId) ","->"," Public view via /epk/:boxCode"]})]})]})]})]}),r.jsx("div",{className:"mt-8 pt-4 border-t border-theme text-center text-xs text-theme-muted",children:r.jsx("p",{children:"BOX by luctheleo.com | MERN Stack (MongoDB, Express, React, Node.js) | Capstone Project Documentation"})})]})]})}const _r=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function zt({opacity:e=.08}){const[t,n]=j.useState(null);if(j.useEffect(()=>{if(!_r||_r.length===0)return;const i=sessionStorage.getItem("bg_gif_last"),a=i?parseInt(i,10):-1;let o=0;if(_r.length===1)o=0;else{const l=_r.map((c,u)=>u).filter(c=>c!==a);o=l[Math.floor(Math.random()*l.length)]}return n(o),sessionStorage.setItem("bg_gif_last",String(o)),document.body.classList.add("has-bg-gif"),()=>{document.body.classList.remove("has-bg-gif")}},[]),t===null)return null;const s=_r[t];return r.jsx("div",{className:"background-gif-container","aria-hidden":"true",children:r.jsx("img",{src:s,alt:"",className:"background-gif",style:{opacity:e}})})}function lC(){const{isLoading:e,isAuthenticated:t}=Ut(),[n]=Ao(),[s,i]=j.useState(!1);return j.useEffect(()=>{sessionStorage.getItem("bios_passed")==="true"&&i(!0)},[]),s?n==="/admin"?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(Gk,{})]}):n==="/community"?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(Qk,{})]}):n==="/docs"?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(Yk,{})]}):n==="/capstone"?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(oC,{})]}):n.startsWith("/portfolio/")?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(sC,{})]}):n.startsWith("/epk/")?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(aC,{})]}):e?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),r.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})]}):t?r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsxs(Wb,{children:[r.jsx(Tt,{path:"/",component:Qb}),r.jsx(Tt,{path:"/creative",component:zk}),r.jsx(Tt,{path:"/project/:id",component:$k}),r.jsx(Tt,{path:"/generator",component:Wk}),r.jsx(Tt,{path:"/documents",component:Kk}),r.jsx(Tt,{path:"/submissions",component:rC}),r.jsx(Tt,{path:"/epk",component:iC}),r.jsx(Tt,{path:"/settings",component:Hk}),r.jsx(Tt,{path:"/studio",component:nC}),r.jsx(Tt,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"404"}),r.jsx("p",{className:"text-gray-500",children:"Page not found"})]})})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(zt,{}),r.jsx(Gb,{})]}):r.jsx(Kb,{onComplete:()=>{sessionStorage.setItem("bios_passed","true"),i(!0)}})}const cC=new J0({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});El.createRoot(document.getElementById("root")).render(r.jsx(Kf.StrictMode,{children:r.jsx(eb,{client:cC,children:r.jsx(fb,{children:r.jsx(lC,{})})})}));
