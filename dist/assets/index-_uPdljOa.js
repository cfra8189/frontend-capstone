var Jo=e=>{throw TypeError(e)};var ml=(e,t,n)=>t.has(e)||Jo("Cannot "+n);var g=(e,t,n)=>(ml(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Jo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),M=(e,t,n,r)=>(ml(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),W=(e,t,n)=>(ml(e,t,"access private method"),n);var Ur=(e,t,n,r)=>({set _(i){M(e,t,i,n)},get _(){return g(e,t,r)}});function yh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function vh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lu={exports:{}},Ki={},Fu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),jh=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),Sh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),Ch=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Ph=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),Zo=Symbol.iterator;function Th(e){return e===null||typeof e!="object"?null:(e=Zo&&e[Zo]||e["@@iterator"],typeof e=="function"?e:null)}var Mu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uu=Object.assign,zu={};function Ds(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Mu}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bu(){}Bu.prototype=Ds.prototype;function qa(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Mu}var Ya=qa.prototype=new Bu;Ya.constructor=qa;Uu(Ya,Ds.prototype);Ya.isPureReactComponent=!0;var ec=Array.isArray,$u=Object.prototype.hasOwnProperty,Ja={current:null},Qu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,n){var r,i={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)$u.call(t,r)&&!Qu.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Tr,type:e,key:l,ref:a,props:i,_owner:Ja.current}}function Rh(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Za(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function Oh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tc=/\/+/g;function hl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oh(""+e.key):t.toString(36)}function ai(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tr:case jh:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+hl(a,0):r,ec(i)?(n="",e!=null&&(n=e.replace(tc,"$&/")+"/"),ai(i,t,n,"",function(d){return d})):i!=null&&(Za(i)&&(i=Rh(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(tc,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",ec(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+hl(l,o);a+=ai(l,t,n,c,i)}else if(c=Th(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+hl(l,o++),a+=ai(l,t,n,c,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function zr(e,t,n){if(e==null)return e;var r=[],i=0;return ai(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Dh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},oi={transition:null},Ih={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:oi,ReactCurrentOwner:Ja};function Wu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:zr,forEach:function(e,t,n){zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zr(e,function(){t++}),t},toArray:function(e){return zr(e,function(t){return t})||[]},only:function(e){if(!Za(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Ds;G.Fragment=Nh;G.Profiler=wh;G.PureComponent=qa;G.StrictMode=bh;G.Suspense=Eh;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;G.act=Wu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Uu({},e.props),i=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=Ja.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)$u.call(t,c)&&!Qu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Tr,type:e.type,key:i,ref:l,props:r,_owner:a}};G.createContext=function(e){return e={$$typeof:kh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sh,_context:e},e.Consumer=e};G.createElement=Vu;G.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Ch,render:e}};G.isValidElement=Za;G.lazy=function(e){return{$$typeof:_h,_payload:{_status:-1,_result:e},_init:Dh}};G.memo=function(e,t){return{$$typeof:Ph,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=oi.transition;oi.transition={};try{e()}finally{oi.transition=t}};G.unstable_act=Wu;G.useCallback=function(e,t){return Re.current.useCallback(e,t)};G.useContext=function(e){return Re.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};G.useEffect=function(e,t){return Re.current.useEffect(e,t)};G.useId=function(){return Re.current.useId()};G.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Re.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};G.useRef=function(e){return Re.current.useRef(e)};G.useState=function(e){return Re.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Re.current.useTransition()};G.version="18.3.1";Fu.exports=G;var N=Fu.exports;const Ku=vh(N),Ah=yh({__proto__:null,default:Ku},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=N,Fh=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Uh=Object.prototype.hasOwnProperty,zh=Lh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bh={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,n){var r,i={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Uh.call(t,r)&&!Bh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Fh,type:e,key:l,ref:a,props:i,_owner:zh.current}}Ki.Fragment=Mh;Ki.jsx=Gu;Ki.jsxs=Gu;Lu.exports=Ki;var s=Lu.exports,$l={},Hu={exports:{}},Ke={},Xu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,O){var F=S.length;S.push(O);e:for(;0<F;){var q=F-1>>>1,ne=S[q];if(0<i(ne,O))S[q]=O,S[F]=ne,F=q;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var O=S[0],F=S.pop();if(F!==O){S[0]=F;e:for(var q=0,ne=S.length,Kn=ne>>>1;q<Kn;){var st=2*(q+1)-1,Fs=S[st],wt=st+1,D=S[wt];if(0>i(Fs,F))wt<ne&&0>i(D,Fs)?(S[q]=D,S[wt]=F,q=wt):(S[q]=Fs,S[st]=F,q=st);else if(wt<ne&&0>i(D,F))S[q]=D,S[wt]=F,q=wt;else break e}}return O}function i(S,O){var F=S.sortIndex-O.sortIndex;return F!==0?F:S.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],y=1,p=null,u=3,j=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(S){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=S)r(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(d)}}function b(S){if(x=!1,m(S),!w)if(n(c)!==null)w=!0,B(T);else{var O=n(d);O!==null&&L(b,O.startTime-S)}}function T(S,O){w=!1,x&&(x=!1,h(v),v=-1),j=!0;var F=u;try{for(m(O),p=n(c);p!==null&&(!(p.expirationTime>O)||S&&!I());){var q=p.callback;if(typeof q=="function"){p.callback=null,u=p.priorityLevel;var ne=q(p.expirationTime<=O);O=e.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(c)&&r(c),m(O)}else r(c);p=n(c)}if(p!==null)var Kn=!0;else{var st=n(d);st!==null&&L(b,st.startTime-O),Kn=!1}return Kn}finally{p=null,u=F,j=!1}}var k=!1,P=null,v=-1,C=5,E=-1;function I(){return!(e.unstable_now()-E<C)}function U(){if(P!==null){var S=e.unstable_now();E=S;var O=!0;try{O=P(!0,S)}finally{O?Q():(k=!1,P=null)}}else k=!1}var Q;if(typeof f=="function")Q=function(){f(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,R=K.port2;K.port1.onmessage=U,Q=function(){R.postMessage(null)}}else Q=function(){_(U,0)};function B(S){P=S,k||(k=!0,Q())}function L(S,O){v=_(function(){S(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,B(T))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(u){case 1:case 2:case 3:var O=3;break;default:O=u}var F=u;u=O;try{return S()}finally{u=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,O){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=u;u=S;try{return O()}finally{u=F}},e.unstable_scheduleCallback=function(S,O,F){var q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,S){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,S={id:y++,callback:O,priorityLevel:S,startTime:F,expirationTime:ne,sortIndex:-1},F>q?(S.sortIndex=F,t(d,S),n(c)===null&&S===n(d)&&(x?(h(v),v=-1):x=!0,L(b,F-q))):(S.sortIndex=ne,t(c,S),w||j||(w=!0,B(T))),S},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(S){var O=u;return function(){var F=u;u=O;try{return S.apply(this,arguments)}finally{u=F}}}})(qu);Xu.exports=qu;var $h=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=N,We=$h;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yu=new Set,ar={};function Vn(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(ar[e]=t,e=0;e<t.length;e++)Yu.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Vh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nc={},sc={};function Wh(e){return Ql.call(sc,e)?!0:Ql.call(nc,e)?!1:Vh.test(e)?sc[e]=!0:(nc[e]=!0,!1)}function Kh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gh(e,t,n,r){if(t===null||typeof t>"u"||Kh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,i,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var eo=/[\-:]([a-z])/g;function to(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eo,to);je[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eo,to);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eo,to);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function no(e,t,n,r){var i=je.hasOwnProperty(t)?je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gh(t,n,i,r)&&(n=null),r||i===null?Wh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),ro=Symbol.for("react.forward_ref"),Wl=Symbol.for("react.suspense"),Kl=Symbol.for("react.suspense_list"),io=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),ed=Symbol.for("react.offscreen"),rc=Symbol.iterator;function Ms(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,fl;function Gs(e){if(fl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fl=t&&t[1]||""}return`
`+fl+e}var pl=!1;function xl(e,t){if(!e||pl)return"";pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),l=r.stack.split(`
`),a=i.length-1,o=l.length-1;1<=a&&0<=o&&i[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==l[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gs(e):""}function Hh(e){switch(e.tag){case 5:return Gs(e.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return e=xl(e.type,!1),e;case 11:return e=xl(e.type.render,!1),e;case 1:return e=xl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Xn:return"Portal";case Vl:return"Profiler";case so:return"StrictMode";case Wl:return"Suspense";case Kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zu:return(e.displayName||"Context")+".Consumer";case Ju:return(e._context.displayName||"Context")+".Provider";case ro:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case io:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function Xh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qh(e){var t=td(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $r(e){e._valueTracker||(e._valueTracker=qh(e))}function nd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=td(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ic(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sd(e,t){t=t.checked,t!=null&&no(e,"checked",t,!1)}function Xl(e,t){sd(e,t);var n=fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&ql(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ql(e,t,n){(t!=="number"||ji(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hs=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ac(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Hs(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fn(n)}}function rd(e,t){var n=fn(t.value),r=fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yh=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){Yh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function ad(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function od(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ad(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jh=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(Jh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var na=null,os=null,cs=null;function cc(e){if(e=Dr(e)){if(typeof na!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Yi(t),na(e.stateNode,e.type,t))}}function cd(e){os?cs?cs.push(e):cs=[e]:os=e}function ud(){if(os){var e=os,t=cs;if(cs=os=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function dd(e,t){return e(t)}function md(){}var gl=!1;function hd(e,t,n){if(gl)return e(t,n);gl=!0;try{return dd(e,t,n)}finally{gl=!1,(os!==null||cs!==null)&&(md(),ud())}}function cr(e,t){var n=e.stateNode;if(n===null)return null;var r=Yi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var sa=!1;if(Lt)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{sa=!1}function Zh(e,t,n,r,i,l,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var Zs=!1,Ni=null,bi=!1,ra=null,ef={onError:function(e){Zs=!0,Ni=e}};function tf(e,t,n,r,i,l,a,o,c){Zs=!1,Ni=null,Zh.apply(ef,arguments)}function nf(e,t,n,r,i,l,a,o,c){if(tf.apply(this,arguments),Zs){if(Zs){var d=Ni;Zs=!1,Ni=null}else throw Error(A(198));bi||(bi=!0,ra=d)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uc(e){if(Wn(e)!==e)throw Error(A(188))}function sf(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return uc(i),e;if(l===r)return uc(i),t;l=l.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function pd(e){return e=sf(e),e!==null?xd(e):null}function xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xd(e);if(t!==null)return t;e=e.sibling}return null}var gd=We.unstable_scheduleCallback,dc=We.unstable_cancelCallback,rf=We.unstable_shouldYield,lf=We.unstable_requestPaint,ue=We.unstable_now,af=We.unstable_getCurrentPriorityLevel,ao=We.unstable_ImmediatePriority,yd=We.unstable_UserBlockingPriority,wi=We.unstable_NormalPriority,of=We.unstable_LowPriority,vd=We.unstable_IdlePriority,Gi=null,jt=null;function cf(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:mf,uf=Math.log,df=Math.LN2;function mf(e){return e>>>=0,e===0?32:31-(uf(e)/df|0)|0}var Vr=64,Wr=4194304;function Xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Si(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Xs(o):(l&=a,l!==0&&(r=Xs(l)))}else a=n&~i,a!==0?r=Xs(a):l!==0&&(r=Xs(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),i=1<<n,r|=e[n],t&=~i;return r}function hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ff(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-ut(l),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=hf(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function ia(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jd(){var e=Vr;return Vr<<=1,!(Vr&4194240)&&(Vr=64),e}function yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function pf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ut(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function oo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function Nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bd,co,wd,Sd,kd,la=!1,Kr=[],rn=null,ln=null,an=null,ur=new Map,dr=new Map,Wt=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function zs(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Dr(t),t!==null&&co(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gf(e,t,n,r,i){switch(t){case"focusin":return rn=zs(rn,e,t,n,r,i),!0;case"dragenter":return ln=zs(ln,e,t,n,r,i),!0;case"mouseover":return an=zs(an,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return ur.set(l,zs(ur.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,dr.set(l,zs(dr.get(l)||null,e,t,n,r,i)),!0}return!1}function Cd(e){var t=bn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=fd(n),t!==null){e.blockedOn=t,kd(e.priority,function(){wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return t=Dr(n),t!==null&&co(t),e.blockedOn=n,!1;t.shift()}return!0}function hc(e,t,n){ci(e)&&n.delete(t)}function yf(){la=!1,rn!==null&&ci(rn)&&(rn=null),ln!==null&&ci(ln)&&(ln=null),an!==null&&ci(an)&&(an=null),ur.forEach(hc),dr.forEach(hc)}function Bs(e,t){e.blockedOn===t&&(e.blockedOn=null,la||(la=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,yf)))}function mr(e){function t(i){return Bs(i,e)}if(0<Kr.length){Bs(Kr[0],e);for(var n=1;n<Kr.length;n++){var r=Kr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&Bs(rn,e),ln!==null&&Bs(ln,e),an!==null&&Bs(an,e),ur.forEach(t),dr.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)Cd(n),n.blockedOn===null&&Wt.shift()}var us=zt.ReactCurrentBatchConfig,ki=!0;function vf(e,t,n,r){var i=J,l=us.transition;us.transition=null;try{J=1,uo(e,t,n,r)}finally{J=i,us.transition=l}}function jf(e,t,n,r){var i=J,l=us.transition;us.transition=null;try{J=4,uo(e,t,n,r)}finally{J=i,us.transition=l}}function uo(e,t,n,r){if(ki){var i=aa(e,t,n,r);if(i===null)Pl(e,t,r,Ci,n),mc(e,r);else if(gf(i,e,t,n,r))r.stopPropagation();else if(mc(e,r),t&4&&-1<xf.indexOf(e)){for(;i!==null;){var l=Dr(i);if(l!==null&&bd(l),l=aa(e,t,n,r),l===null&&Pl(e,t,r,Ci,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Pl(e,t,r,null,n)}}var Ci=null;function aa(e,t,n,r){if(Ci=null,e=lo(r),e=bn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ci=e,null}function Ed(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case ao:return 1;case yd:return 4;case wi:case of:return 16;case vd:return 536870912;default:return 16}default:return 16}}var nn=null,mo=null,ui=null;function Pd(){if(ui)return ui;var e,t=mo,n=t.length,r,i="value"in nn?nn.value:nn.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[l-r];r++);return ui=i.slice(e,1<r?1-r:void 0)}function di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function fc(){return!1}function Ge(e){function t(n,r,i,l,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Gr:fc,this.isPropagationStopped=fc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),t}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Ge(Is),Or=le({},Is,{view:0,detail:0}),Nf=Ge(Or),vl,jl,$s,Hi=le({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(vl=e.screenX-$s.screenX,jl=e.screenY-$s.screenY):jl=vl=0,$s=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),pc=Ge(Hi),bf=le({},Hi,{dataTransfer:0}),wf=Ge(bf),Sf=le({},Or,{relatedTarget:0}),Nl=Ge(Sf),kf=le({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=Ge(kf),Ef=le({},Is,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pf=Ge(Ef),_f=le({},Is,{data:0}),xc=Ge(_f),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Of[e])?!!t[e]:!1}function fo(){return Df}var If=le({},Or,{key:function(e){if(e.key){var t=Tf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Af=Ge(If),Lf=le({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=Ge(Lf),Ff=le({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),Mf=Ge(Ff),Uf=le({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=Ge(Uf),Bf=le({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=Ge(Bf),Qf=[9,13,27,32],po=Lt&&"CompositionEvent"in window,er=null;Lt&&"documentMode"in document&&(er=document.documentMode);var Vf=Lt&&"TextEvent"in window&&!er,_d=Lt&&(!po||er&&8<er&&11>=er),yc=" ",vc=!1;function Td(e,t){switch(e){case"keyup":return Qf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Wf(e,t){switch(e){case"compositionend":return Rd(t);case"keypress":return t.which!==32?null:(vc=!0,yc);case"textInput":return e=t.data,e===yc&&vc?null:e;default:return null}}function Kf(e,t){if(Yn)return e==="compositionend"||!po&&Td(e,t)?(e=Pd(),ui=mo=nn=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gf[e.type]:t==="textarea"}function Od(e,t,n,r){cd(r),t=Ei(t,"onChange"),0<t.length&&(n=new ho("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,hr=null;function Hf(e){Qd(e,0)}function Xi(e){var t=es(e);if(nd(t))return e}function Xf(e,t){if(e==="change")return t}var Dd=!1;if(Lt){var bl;if(Lt){var wl="oninput"in document;if(!wl){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),wl=typeof Nc.oninput=="function"}bl=wl}else bl=!1;Dd=bl&&(!document.documentMode||9<document.documentMode)}function bc(){tr&&(tr.detachEvent("onpropertychange",Id),hr=tr=null)}function Id(e){if(e.propertyName==="value"&&Xi(hr)){var t=[];Od(t,hr,e,lo(e)),hd(Hf,t)}}function qf(e,t,n){e==="focusin"?(bc(),tr=t,hr=n,tr.attachEvent("onpropertychange",Id)):e==="focusout"&&bc()}function Yf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(hr)}function Jf(e,t){if(e==="click")return Xi(t)}function Zf(e,t){if(e==="input"||e==="change")return Xi(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:ep;function fr(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ql.call(t,i)||!mt(e[i],t[i]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var n=wc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function Ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ld(){for(var e=window,t=ji();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ji(e.document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tp(e){var t=Ld(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ad(n.ownerDocument.documentElement,n)){if(r!==null&&xo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Sc(n,l);var a=Sc(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=Lt&&"documentMode"in document&&11>=document.documentMode,Jn=null,oa=null,nr=null,ca=!1;function kc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ca||Jn==null||Jn!==ji(r)||(r=Jn,"selectionStart"in r&&xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nr&&fr(nr,r)||(nr=r,r=Ei(oa,"onSelect"),0<r.length&&(t=new ho("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jn)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zn={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionend:Hr("Transition","TransitionEnd")},Sl={},Fd={};Lt&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function qi(e){if(Sl[e])return Sl[e];if(!Zn[e])return e;var t=Zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fd)return Sl[e]=t[n];return e}var Md=qi("animationend"),Ud=qi("animationiteration"),zd=qi("animationstart"),Bd=qi("transitionend"),$d=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){$d.set(e,t),Vn(t,[e])}for(var kl=0;kl<Cc.length;kl++){var Cl=Cc[kl],sp=Cl.toLowerCase(),rp=Cl[0].toUpperCase()+Cl.slice(1);xn(sp,"on"+rp)}xn(Md,"onAnimationEnd");xn(Ud,"onAnimationIteration");xn(zd,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Bd,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Ec(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nf(r,t,void 0,e),e.currentTarget=null}function Qd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&i.isPropagationStopped())break e;Ec(i,o,d),l=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&i.isPropagationStopped())break e;Ec(i,o,d),l=c}}}if(bi)throw e=ra,bi=!1,ra=null,e}function ee(e,t){var n=t[fa];n===void 0&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Vd(t,e,2,!1),n.add(r))}function El(e,t,n){var r=0;t&&(r|=4),Vd(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function pr(e){if(!e[Xr]){e[Xr]=!0,Yu.forEach(function(n){n!=="selectionchange"&&(ip.has(n)||El(n,!1,e),El(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,El("selectionchange",!1,t))}}function Vd(e,t,n,r){switch(Ed(t)){case 1:var i=vf;break;case 4:i=jf;break;default:i=uo}n=i.bind(null,t,n,e),i=void 0,!sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pl(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=bn(o),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}o=o.parentNode}}r=r.return}hd(function(){var d=l,y=lo(n),p=[];e:{var u=$d.get(e);if(u!==void 0){var j=ho,w=e;switch(e){case"keypress":if(di(n)===0)break e;case"keydown":case"keyup":j=Af;break;case"focusin":w="focus",j=Nl;break;case"focusout":w="blur",j=Nl;break;case"beforeblur":case"afterblur":j=Nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Mf;break;case Md:case Ud:case zd:j=Cf;break;case Bd:j=zf;break;case"scroll":j=Nf;break;case"wheel":j=$f;break;case"copy":case"cut":case"paste":j=Pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=gc}var x=(t&4)!==0,_=!x&&e==="scroll",h=x?u!==null?u+"Capture":null:u;x=[];for(var f=d,m;f!==null;){m=f;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,h!==null&&(b=cr(f,h),b!=null&&x.push(xr(f,b,m)))),_)break;f=f.return}0<x.length&&(u=new j(u,w,null,n,y),p.push({event:u,listeners:x}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",u&&n!==ta&&(w=n.relatedTarget||n.fromElement)&&(bn(w)||w[Ft]))break e;if((j||u)&&(u=y.window===y?y:(u=y.ownerDocument)?u.defaultView||u.parentWindow:window,j?(w=n.relatedTarget||n.toElement,j=d,w=w?bn(w):null,w!==null&&(_=Wn(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(j=null,w=d),j!==w)){if(x=pc,b="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=gc,b="onPointerLeave",h="onPointerEnter",f="pointer"),_=j==null?u:es(j),m=w==null?u:es(w),u=new x(b,f+"leave",j,n,y),u.target=_,u.relatedTarget=m,b=null,bn(y)===d&&(x=new x(h,f+"enter",w,n,y),x.target=m,x.relatedTarget=_,b=x),_=b,j&&w)t:{for(x=j,h=w,f=0,m=x;m;m=Hn(m))f++;for(m=0,b=h;b;b=Hn(b))m++;for(;0<f-m;)x=Hn(x),f--;for(;0<m-f;)h=Hn(h),m--;for(;f--;){if(x===h||h!==null&&x===h.alternate)break t;x=Hn(x),h=Hn(h)}x=null}else x=null;j!==null&&Pc(p,u,j,x,!1),w!==null&&_!==null&&Pc(p,_,w,x,!0)}}e:{if(u=d?es(d):window,j=u.nodeName&&u.nodeName.toLowerCase(),j==="select"||j==="input"&&u.type==="file")var T=Xf;else if(jc(u))if(Dd)T=Zf;else{T=Yf;var k=qf}else(j=u.nodeName)&&j.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(T=Jf);if(T&&(T=T(e,d))){Od(p,T,n,y);break e}k&&k(e,u,d),e==="focusout"&&(k=u._wrapperState)&&k.controlled&&u.type==="number"&&ql(u,"number",u.value)}switch(k=d?es(d):window,e){case"focusin":(jc(k)||k.contentEditable==="true")&&(Jn=k,oa=d,nr=null);break;case"focusout":nr=oa=Jn=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,kc(p,n,y);break;case"selectionchange":if(np)break;case"keydown":case"keyup":kc(p,n,y)}var P;if(po)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Yn?Td(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(_d&&n.locale!=="ko"&&(Yn||v!=="onCompositionStart"?v==="onCompositionEnd"&&Yn&&(P=Pd()):(nn=y,mo="value"in nn?nn.value:nn.textContent,Yn=!0)),k=Ei(d,v),0<k.length&&(v=new xc(v,e,null,n,y),p.push({event:v,listeners:k}),P?v.data=P:(P=Rd(n),P!==null&&(v.data=P)))),(P=Vf?Wf(e,n):Kf(e,n))&&(d=Ei(d,"onBeforeInput"),0<d.length&&(y=new xc("onBeforeInput","beforeinput",null,n,y),p.push({event:y,listeners:d}),y.data=P))}Qd(p,t)})}function xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ei(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=cr(e,n),l!=null&&r.unshift(xr(e,l,i)),l=cr(e,t),l!=null&&r.push(xr(e,l,i))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pc(e,t,n,r,i){for(var l=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,i?(c=cr(n,l),c!=null&&a.unshift(xr(n,c,o))):i||(c=cr(n,l),c!=null&&a.push(xr(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var lp=/\r\n?/g,ap=/\u0000|\uFFFD/g;function _c(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(ap,"")}function qr(e,t,n){if(t=_c(t),_c(e)!==t&&n)throw Error(A(425))}function Pi(){}var ua=null,da=null;function ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,op=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(up)}:ha;function up(e){setTimeout(function(){throw e})}function _l(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),mr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mr(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var As=Math.random().toString(36).slice(2),vt="__reactFiber$"+As,gr="__reactProps$"+As,Ft="__reactContainer$"+As,fa="__reactEvents$"+As,dp="__reactListeners$"+As,mp="__reactHandles$"+As;function bn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rc(e);e!==null;){if(n=e[vt])return n;e=Rc(e)}return t}e=n,n=e.parentNode}return null}function Dr(e){return e=e[vt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Yi(e){return e[gr]||null}var pa=[],ts=-1;function gn(e){return{current:e}}function te(e){0>ts||(e.current=pa[ts],pa[ts]=null,ts--)}function Z(e,t){ts++,pa[ts]=e.current,e.current=t}var pn={},ke=gn(pn),Fe=gn(!1),Fn=pn;function Cs(e,t){var n=e.type.contextTypes;if(!n)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Me(e){return e=e.childContextTypes,e!=null}function _i(){te(Fe),te(ke)}function Oc(e,t,n){if(ke.current!==pn)throw Error(A(168));Z(ke,t),Z(Fe,n)}function Wd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(A(108,Xh(e)||"Unknown",i));return le({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Fn=ke.current,Z(ke,e),Z(Fe,Fe.current),!0}function Dc(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Wd(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,te(Fe),te(ke),Z(ke,e)):te(Fe),Z(Fe,n)}var Et=null,Ji=!1,Tl=!1;function Kd(e){Et===null?Et=[e]:Et.push(e)}function hp(e){Ji=!0,Kd(e)}function yn(){if(!Tl&&Et!==null){Tl=!0;var e=0,t=J;try{var n=Et;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,Ji=!1}catch(i){throw Et!==null&&(Et=Et.slice(e+1)),gd(ao,yn),i}finally{J=t,Tl=!1}}return null}var ns=[],ss=0,Ri=null,Oi=0,qe=[],Ye=0,Mn=null,Ot=1,Dt="";function jn(e,t){ns[ss++]=Oi,ns[ss++]=Ri,Ri=e,Oi=t}function Gd(e,t,n){qe[Ye++]=Ot,qe[Ye++]=Dt,qe[Ye++]=Mn,Mn=e;var r=Ot;e=Dt;var i=32-ut(r)-1;r&=~(1<<i),n+=1;var l=32-ut(t)+i;if(30<l){var a=i-i%5;l=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ot=1<<32-ut(t)+i|n<<i|r,Dt=l+e}else Ot=1<<l|n<<i|r,Dt=e}function go(e){e.return!==null&&(jn(e,1),Gd(e,1,0))}function yo(e){for(;e===Ri;)Ri=ns[--ss],ns[ss]=null,Oi=ns[--ss],ns[ss]=null;for(;e===Mn;)Mn=qe[--Ye],qe[Ye]=null,Dt=qe[--Ye],qe[Ye]=null,Ot=qe[--Ye],qe[Ye]=null}var Qe=null,$e=null,se=!1,ct=null;function Hd(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ic(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,$e=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:Ot,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,$e=null,!0):!1;default:return!1}}function xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(se){var t=$e;if(t){var n=t;if(!Ic(e,t)){if(xa(e))throw Error(A(418));t=on(n.nextSibling);var r=Qe;t&&Ic(e,t)?Hd(r,n):(e.flags=e.flags&-4097|2,se=!1,Qe=e)}}else{if(xa(e))throw Error(A(418));e.flags=e.flags&-4097|2,se=!1,Qe=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Yr(e){if(e!==Qe)return!1;if(!se)return Ac(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ma(e.type,e.memoizedProps)),t&&(t=$e)){if(xa(e))throw Xd(),Error(A(418));for(;t;)Hd(e,t),t=on(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Qe?on(e.stateNode.nextSibling):null;return!0}function Xd(){for(var e=$e;e;)e=on(e.nextSibling)}function Es(){$e=Qe=null,se=!1}function vo(e){ct===null?ct=[e]:ct.push(e)}var fp=zt.ReactCurrentBatchConfig;function Qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=i.refs;a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function qd(e){function t(h,f){if(e){var m=h.deletions;m===null?(h.deletions=[f],h.flags|=16):m.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=mn(h,f),h.index=0,h.sibling=null,h}function l(h,f,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<f?(h.flags|=2,f):m):(h.flags|=2,f)):(h.flags|=1048576,f)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,m,b){return f===null||f.tag!==6?(f=Fl(m,h.mode,b),f.return=h,f):(f=i(f,m),f.return=h,f)}function c(h,f,m,b){var T=m.type;return T===qn?y(h,f,m.props.children,b,m.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qt&&Lc(T)===f.type)?(b=i(f,m.props),b.ref=Qs(h,f,m),b.return=h,b):(b=yi(m.type,m.key,m.props,null,h.mode,b),b.ref=Qs(h,f,m),b.return=h,b)}function d(h,f,m,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ml(m,h.mode,b),f.return=h,f):(f=i(f,m.children||[]),f.return=h,f)}function y(h,f,m,b,T){return f===null||f.tag!==7?(f=Ln(m,h.mode,b,T),f.return=h,f):(f=i(f,m),f.return=h,f)}function p(h,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Fl(""+f,h.mode,m),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Br:return m=yi(f.type,f.key,f.props,null,h.mode,m),m.ref=Qs(h,null,f),m.return=h,m;case Xn:return f=Ml(f,h.mode,m),f.return=h,f;case Qt:var b=f._init;return p(h,b(f._payload),m)}if(Hs(f)||Ms(f))return f=Ln(f,h.mode,m,null),f.return=h,f;Jr(h,f)}return null}function u(h,f,m,b){var T=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:o(h,f,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Br:return m.key===T?c(h,f,m,b):null;case Xn:return m.key===T?d(h,f,m,b):null;case Qt:return T=m._init,u(h,f,T(m._payload),b)}if(Hs(m)||Ms(m))return T!==null?null:y(h,f,m,b,null);Jr(h,m)}return null}function j(h,f,m,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(m)||null,o(f,h,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Br:return h=h.get(b.key===null?m:b.key)||null,c(f,h,b,T);case Xn:return h=h.get(b.key===null?m:b.key)||null,d(f,h,b,T);case Qt:var k=b._init;return j(h,f,m,k(b._payload),T)}if(Hs(b)||Ms(b))return h=h.get(m)||null,y(f,h,b,T,null);Jr(f,b)}return null}function w(h,f,m,b){for(var T=null,k=null,P=f,v=f=0,C=null;P!==null&&v<m.length;v++){P.index>v?(C=P,P=null):C=P.sibling;var E=u(h,P,m[v],b);if(E===null){P===null&&(P=C);break}e&&P&&E.alternate===null&&t(h,P),f=l(E,f,v),k===null?T=E:k.sibling=E,k=E,P=C}if(v===m.length)return n(h,P),se&&jn(h,v),T;if(P===null){for(;v<m.length;v++)P=p(h,m[v],b),P!==null&&(f=l(P,f,v),k===null?T=P:k.sibling=P,k=P);return se&&jn(h,v),T}for(P=r(h,P);v<m.length;v++)C=j(P,h,v,m[v],b),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?v:C.key),f=l(C,f,v),k===null?T=C:k.sibling=C,k=C);return e&&P.forEach(function(I){return t(h,I)}),se&&jn(h,v),T}function x(h,f,m,b){var T=Ms(m);if(typeof T!="function")throw Error(A(150));if(m=T.call(m),m==null)throw Error(A(151));for(var k=T=null,P=f,v=f=0,C=null,E=m.next();P!==null&&!E.done;v++,E=m.next()){P.index>v?(C=P,P=null):C=P.sibling;var I=u(h,P,E.value,b);if(I===null){P===null&&(P=C);break}e&&P&&I.alternate===null&&t(h,P),f=l(I,f,v),k===null?T=I:k.sibling=I,k=I,P=C}if(E.done)return n(h,P),se&&jn(h,v),T;if(P===null){for(;!E.done;v++,E=m.next())E=p(h,E.value,b),E!==null&&(f=l(E,f,v),k===null?T=E:k.sibling=E,k=E);return se&&jn(h,v),T}for(P=r(h,P);!E.done;v++,E=m.next())E=j(P,h,v,E.value,b),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?v:E.key),f=l(E,f,v),k===null?T=E:k.sibling=E,k=E);return e&&P.forEach(function(U){return t(h,U)}),se&&jn(h,v),T}function _(h,f,m,b){if(typeof m=="object"&&m!==null&&m.type===qn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Br:e:{for(var T=m.key,k=f;k!==null;){if(k.key===T){if(T=m.type,T===qn){if(k.tag===7){n(h,k.sibling),f=i(k,m.props.children),f.return=h,h=f;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qt&&Lc(T)===k.type){n(h,k.sibling),f=i(k,m.props),f.ref=Qs(h,k,m),f.return=h,h=f;break e}n(h,k);break}else t(h,k);k=k.sibling}m.type===qn?(f=Ln(m.props.children,h.mode,b,m.key),f.return=h,h=f):(b=yi(m.type,m.key,m.props,null,h.mode,b),b.ref=Qs(h,f,m),b.return=h,h=b)}return a(h);case Xn:e:{for(k=m.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(h,f.sibling),f=i(f,m.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Ml(m,h.mode,b),f.return=h,h=f}return a(h);case Qt:return k=m._init,_(h,f,k(m._payload),b)}if(Hs(m))return w(h,f,m,b);if(Ms(m))return x(h,f,m,b);Jr(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(h,f.sibling),f=i(f,m),f.return=h,h=f):(n(h,f),f=Fl(m,h.mode,b),f.return=h,h=f),a(h)):n(h,f)}return _}var Ps=qd(!0),Yd=qd(!1),Di=gn(null),Ii=null,rs=null,jo=null;function No(){jo=rs=Ii=null}function bo(e){var t=Di.current;te(Di),e._currentValue=t}function ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ds(e,t){Ii=e,jo=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Ii===null)throw Error(A(308));rs=e,Ii.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var wn=null;function wo(e){wn===null?wn=[e]:wn.push(e)}function Jd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mt(e,n)}return i=r.interleaved,i===null?(t.next=t,wo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mt(e,n)}function mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oo(e,n)}}function Fc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ai(e,t,n,r){var i=e.updateQueue;Vt=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?l=d:a.next=d,a=c;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==a&&(o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=c))}if(l!==null){var p=i.baseState;a=0,y=d=c=null,o=l;do{var u=o.lane,j=o.eventTime;if((r&u)===u){y!==null&&(y=y.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,x=o;switch(u=t,j=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){p=w.call(j,p,u);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,u=typeof w=="function"?w.call(j,p,u):w,u==null)break e;p=le({},p,u);break e;case 2:Vt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[o]:u.push(o))}else j={eventTime:j,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(d=y=j,c=p):y=y.next=j,a|=u;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;u=o,o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(y===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);zn|=a,e.lanes=a,e.memoizedState=p}}function Mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Ir={},Nt=gn(Ir),yr=gn(Ir),vr=gn(Ir);function Sn(e){if(e===Ir)throw Error(A(174));return e}function ko(e,t){switch(Z(vr,t),Z(yr,e),Z(Nt,Ir),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}te(Nt),Z(Nt,t)}function _s(){te(Nt),te(yr),te(vr)}function em(e){Sn(vr.current);var t=Sn(Nt.current),n=Jl(t,e.type);t!==n&&(Z(yr,e),Z(Nt,n))}function Co(e){yr.current===e&&(te(Nt),te(yr))}var re=gn(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rl=[];function Eo(){for(var e=0;e<Rl.length;e++)Rl[e]._workInProgressVersionPrimary=null;Rl.length=0}var hi=zt.ReactCurrentDispatcher,Ol=zt.ReactCurrentBatchConfig,Un=0,ie=null,me=null,xe=null,Fi=!1,sr=!1,jr=0,pp=0;function Ne(){throw Error(A(321))}function Po(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,l){if(Un=l,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?vp:jp,e=n(r,i),sr){l=0;do{if(sr=!1,jr=0,25<=l)throw Error(A(301));l+=1,xe=me=null,t.updateQueue=null,hi.current=Np,e=n(r,i)}while(sr)}if(hi.current=Mi,t=me!==null&&me.next!==null,Un=0,xe=me=ie=null,Fi=!1,t)throw Error(A(300));return e}function To(){var e=jr!==0;return jr=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ie.memoizedState=xe=e:xe=xe.next=e,xe}function tt(){if(me===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=xe===null?ie.memoizedState:xe.next;if(t!==null)xe=t,me=e;else{if(e===null)throw Error(A(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?ie.memoizedState=xe=e:xe=xe.next=e}return xe}function Nr(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=tt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=me,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var o=a=null,c=null,d=l;do{var y=d.lane;if((Un&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,a=r):c=c.next=p,ie.lanes|=y,zn|=y}d=d.next}while(d!==null&&d!==l);c===null?a=r:c.next=o,mt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,ie.lanes|=l,zn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Il(e){var t=tt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);mt(l,t.memoizedState)||(Le=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function tm(){}function nm(e,t){var n=ie,r=tt(),i=t(),l=!mt(r.memoizedState,i);if(l&&(r.memoizedState=i,Le=!0),r=r.queue,Ro(im.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,br(9,rm.bind(null,n,r,i,t),void 0,null),ge===null)throw Error(A(349));Un&30||sm(n,t,i)}return i}function sm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rm(e,t,n,r){t.value=n,t.getSnapshot=r,lm(t)&&am(e)}function im(e,t,n){return n(function(){lm(t)&&am(e)})}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function am(e){var t=Mt(e,1);t!==null&&dt(t,e,1,-1)}function Uc(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=yp.bind(null,ie,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function om(){return tt().memoizedState}function fi(e,t,n,r){var i=pt();ie.flags|=e,i.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function Zi(e,t,n,r){var i=tt();r=r===void 0?null:r;var l=void 0;if(me!==null){var a=me.memoizedState;if(l=a.destroy,r!==null&&Po(r,a.deps)){i.memoizedState=br(t,n,l,r);return}}ie.flags|=e,i.memoizedState=br(1|t,n,l,r)}function zc(e,t){return fi(8390656,8,e,t)}function Ro(e,t){return Zi(2048,8,e,t)}function cm(e,t){return Zi(4,2,e,t)}function um(e,t){return Zi(4,4,e,t)}function dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,n){return n=n!=null?n.concat([e]):null,Zi(4,4,dm.bind(null,t,e),n)}function Oo(){}function hm(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fm(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pm(e,t,n){return Un&21?(mt(n,t)||(n=jd(),ie.lanes|=n,zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function xp(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ol.transition;Ol.transition={};try{e(!1),t()}finally{J=n,Ol.transition=r}}function xm(){return tt().memoizedState}function gp(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gm(e))ym(t,n);else if(n=Jd(e,t,n,r),n!==null){var i=Te();dt(n,e,r,i),vm(n,t,r)}}function yp(e,t,n){var r=dn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gm(e))ym(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,n);if(i.hasEagerState=!0,i.eagerState=o,mt(o,a)){var c=t.interleaved;c===null?(i.next=i,wo(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Jd(e,t,i,r),n!==null&&(i=Te(),dt(n,e,r,i),vm(n,t,r))}}function gm(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function ym(e,t){sr=Fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oo(e,n)}}var Mi={readContext:et,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},vp={readContext:et,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:zc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fi(4194308,4,dm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gp.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Uc,useDebugValue:Oo,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Uc(!1),t=e[0];return e=xp.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,i=pt();if(se){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ge===null)throw Error(A(349));Un&30||sm(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,zc(im.bind(null,r,l,e),[e]),r.flags|=2048,br(9,rm.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=pt(),t=ge.identifierPrefix;if(se){var n=Dt,r=Ot;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:et,useCallback:hm,useContext:et,useEffect:Ro,useImperativeHandle:mm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:fm,useReducer:Dl,useRef:om,useState:function(){return Dl(Nr)},useDebugValue:Oo,useDeferredValue:function(e){var t=tt();return pm(t,me.memoizedState,e)},useTransition:function(){var e=Dl(Nr)[0],t=tt().memoizedState;return[e,t]},useMutableSource:tm,useSyncExternalStore:nm,useId:xm,unstable_isNewReconciler:!1},Np={readContext:et,useCallback:hm,useContext:et,useEffect:Ro,useImperativeHandle:mm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:fm,useReducer:Il,useRef:om,useState:function(){return Il(Nr)},useDebugValue:Oo,useDeferredValue:function(e){var t=tt();return me===null?t.memoizedState=e:pm(t,me.memoizedState,e)},useTransition:function(){var e=Il(Nr)[0],t=tt().memoizedState;return[e,t]},useMutableSource:tm,useSyncExternalStore:nm,useId:xm,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function va(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var el={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),i=dn(e),l=It(r,i);l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,i),t!==null&&(dt(t,e,i,r),mi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),i=dn(e),l=It(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=cn(e,l,i),t!==null&&(dt(t,e,i,r),mi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=dn(e),i=It(n,r);i.tag=2,t!=null&&(i.callback=t),t=cn(e,i,r),t!==null&&(dt(t,e,r,n),mi(t,e,r))}};function Bc(e,t,n,r,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!fr(n,r)||!fr(i,l):!0}function jm(e,t,n){var r=!1,i=pn,l=t.contextType;return typeof l=="object"&&l!==null?l=et(l):(i=Me(t)?Fn:ke.current,r=t.contextTypes,l=(r=r!=null)?Cs(e,i):pn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=el,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function $c(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&el.enqueueReplaceState(t,t.state,null)}function ja(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},So(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=et(l):(l=Me(t)?Fn:ke.current,i.context=Cs(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(va(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&el.enqueueReplaceState(i,i.state,null),Ai(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var n="",r=t;do n+=Hh(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function Al(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Nm(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zi||(zi=!0,Ra=r),Na(e,t)},n}function bm(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Na(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Na(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Qc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Lp.bind(null,e,t,n),t.then(e,e))}function Vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var wp=zt.ReactCurrentOwner,Le=!1;function Pe(e,t,n,r){t.child=e===null?Yd(t,null,n,r):Ps(t,e.child,n,r)}function Kc(e,t,n,r,i){n=n.render;var l=t.ref;return ds(t,i),r=_o(e,t,n,r,l,i),n=To(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ut(e,t,i)):(se&&n&&go(t),t.flags|=1,Pe(e,t,r,i),t.child)}function Gc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!zo(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,wm(e,t,l,r,i)):(e=yi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:fr,n(a,r)&&e.ref===t.ref)return Ut(e,t,i)}return t.flags|=1,e=mn(l,r),e.ref=t.ref,e.return=t,t.child=e}function wm(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(fr(l,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Ut(e,t,i)}return ba(e,t,n,r,i)}function Sm(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(ls,Be),Be|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(ls,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Z(ls,Be),Be|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Z(ls,Be),Be|=r;return Pe(e,t,i,n),t.child}function km(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ba(e,t,n,r,i){var l=Me(n)?Fn:ke.current;return l=Cs(t,l),ds(t,i),n=_o(e,t,n,r,l,i),r=To(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ut(e,t,i)):(se&&r&&go(t),t.flags|=1,Pe(e,t,n,i),t.child)}function Hc(e,t,n,r,i){if(Me(n)){var l=!0;Ti(t)}else l=!1;if(ds(t,i),t.stateNode===null)pi(e,t),jm(t,n,r),ja(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=et(d):(d=Me(n)?Fn:ke.current,d=Cs(t,d));var y=n.getDerivedStateFromProps,p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&$c(t,a,r,d),Vt=!1;var u=t.memoizedState;a.state=u,Ai(t,r,a,i),c=t.memoizedState,o!==r||u!==c||Fe.current||Vt?(typeof y=="function"&&(va(t,n,y,r),c=t.memoizedState),(o=Vt||Bc(t,n,o,r,u,c,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Zd(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:it(t.type,o),a.props=d,p=t.pendingProps,u=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=et(c):(c=Me(n)?Fn:ke.current,c=Cs(t,c));var j=n.getDerivedStateFromProps;(y=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||u!==c)&&$c(t,a,r,c),Vt=!1,u=t.memoizedState,a.state=u,Ai(t,r,a,i);var w=t.memoizedState;o!==p||u!==w||Fe.current||Vt?(typeof j=="function"&&(va(t,n,j,r),w=t.memoizedState),(d=Vt||Bc(t,n,d,r,u,w,c)||!1)?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return wa(e,t,n,r,l,i)}function wa(e,t,n,r,i,l){km(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Dc(t,n,!1),Ut(e,t,l);r=t.stateNode,wp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ps(t,e.child,null,l),t.child=Ps(t,null,o,l)):Pe(e,t,o,l),t.memoizedState=r.state,i&&Dc(t,n,!0),t.child}function Cm(e){var t=e.stateNode;t.pendingContext?Oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oc(e,t.context,!1),ko(e,t.containerInfo)}function Xc(e,t,n,r,i){return Es(),vo(i),t.flags|=256,Pe(e,t,n,r),t.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function Em(e,t,n){var r=t.pendingProps,i=re.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Z(re,i&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=sl(a,r,0,null),e=Ln(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ka(n),t.memoizedState=Sa,e):Do(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Sp(e,t,a,r,o,i,n);if(l){l=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=mn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=mn(o,l):(l=Ln(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?ka(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Sa,r}return l=e.child,e=l.sibling,r=mn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Do(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zr(e,t,n,r){return r!==null&&vo(r),Ps(t,e.child,null,n),e=Do(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,n,r,i,l,a){if(n)return t.flags&256?(t.flags&=-257,r=Al(Error(A(422))),Zr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=sl({mode:"visible",children:r.children},i,0,null),l=Ln(l,i,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Ps(t,e.child,null,a),t.child.memoizedState=ka(a),t.memoizedState=Sa,l);if(!(t.mode&1))return Zr(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(A(419)),r=Al(l,r,void 0),Zr(e,t,a,r)}if(o=(a&e.childLanes)!==0,Le||o){if(r=ge,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,Mt(e,i),dt(r,e,i,-1))}return Uo(),r=Al(Error(A(421))),Zr(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Fp.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,$e=on(i.nextSibling),Qe=t,se=!0,ct=null,e!==null&&(qe[Ye++]=Ot,qe[Ye++]=Dt,qe[Ye++]=Mn,Ot=e.id,Dt=e.overflow,Mn=t),t=Do(t,r.children),t.flags|=4096,t)}function qc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ya(e.return,t,n)}function Ll(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Pm(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Pe(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qc(e,n,t);else if(e.tag===19)qc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Li(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ll(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Li(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ll(t,!0,n,null,l);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kp(e,t,n){switch(t.tag){case 3:Cm(t),Es();break;case 5:em(t);break;case 1:Me(t.type)&&Ti(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Z(Di,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?Em(e,t,n):(Z(re,re.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);Z(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,Sm(e,t,n)}return Ut(e,t,n)}var _m,Ca,Tm,Rm;_m=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ca=function(){};Tm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sn(Nt.current);var l=null;switch(n){case"input":i=Hl(e,i),r=Hl(e,r),l=[];break;case"select":i=le({},i,{value:void 0}),r=le({},r,{value:void 0}),l=[];break;case"textarea":i=Yl(e,i),r=Yl(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pi)}Zl(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ar.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ar.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ee("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Rm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vs(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cp(e,t,n){var r=t.pendingProps;switch(yo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Me(t.type)&&_i(),be(t),null;case 3:return r=t.stateNode,_s(),te(Fe),te(ke),Eo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Ia(ct),ct=null))),Ca(e,t),be(t),null;case 5:Co(t);var i=Sn(vr.current);if(n=t.type,e!==null&&t.stateNode!=null)Tm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return be(t),null}if(e=Sn(Nt.current),Yr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[vt]=t,r[gr]=l,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(i=0;i<qs.length;i++)ee(qs[i],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ic(r,l),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ee("invalid",r);break;case"textarea":ac(r,l),ee("invalid",r)}Zl(n,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&qr(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&qr(r.textContent,o,e),i=["children",""+o]):ar.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ee("scroll",r)}switch(n){case"input":$r(r),lc(r,l,!0);break;case"textarea":$r(r),oc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Pi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=id(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[vt]=t,e[gr]=r,_m(e,t,!1,!1),t.stateNode=e;e:{switch(a=ea(n,r),n){case"dialog":ee("cancel",e),ee("close",e),i=r;break;case"iframe":case"object":case"embed":ee("load",e),i=r;break;case"video":case"audio":for(i=0;i<qs.length;i++)ee(qs[i],e);i=r;break;case"source":ee("error",e),i=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),i=r;break;case"details":ee("toggle",e),i=r;break;case"input":ic(e,r),i=Hl(e,r),ee("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":ac(e,r),i=Yl(e,r),ee("invalid",e);break;default:i=r}Zl(n,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?od(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ld(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&or(e,c):typeof c=="number"&&or(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ar.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ee("scroll",e):c!=null&&no(e,l,c,a))}switch(n){case"input":$r(e),lc(e,r,!1);break;case"textarea":$r(e),oc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?as(e,!!r.multiple,l,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)Rm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Sn(vr.current),Sn(Nt.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(l=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return be(t),null;case 13:if(te(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&$e!==null&&t.mode&1&&!(t.flags&128))Xd(),Es(),t.flags|=98560,l=!1;else if(l=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[vt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),l=!1}else ct!==null&&(Ia(ct),ct=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?fe===0&&(fe=3):Uo())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return _s(),Ca(e,t),e===null&&pr(t.stateNode.containerInfo),be(t),null;case 10:return bo(t.type._context),be(t),null;case 17:return Me(t.type)&&_i(),be(t),null;case 19:if(te(re),l=t.memoizedState,l===null)return be(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)Vs(l,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Li(e),a!==null){for(t.flags|=128,Vs(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(re,re.current&1|2),t.child}e=e.sibling}l.tail!==null&&ue()>Rs&&(t.flags|=128,r=!0,Vs(l,!1),t.lanes=4194304)}else{if(!r)if(e=Li(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!se)return be(t),null}else 2*ue()-l.renderingStartTime>Rs&&n!==1073741824&&(t.flags|=128,r=!0,Vs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ue(),t.sibling=null,n=re.current,Z(re,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return Mo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Ep(e,t){switch(yo(t),t.tag){case 1:return Me(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),te(Fe),te(ke),Eo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Co(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return _s(),null;case 10:return bo(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var ei=!1,Se=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,z=null;function is(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Ea(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Yc=!1;function _p(e,t){if(ua=ki,e=Ld(),xo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,y=0,p=e,u=null;t:for(;;){for(var j;p!==n||i!==0&&p.nodeType!==3||(o=a+i),p!==l||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(j=p.firstChild)!==null;)u=p,p=j;for(;;){if(p===e)break t;if(u===n&&++d===i&&(o=a),u===l&&++y===r&&(c=a),(j=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},ki=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,_=w.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:it(t.type,x),_);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=Yc,Yc=!1,w}function rr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Ea(t,n,l)}i=i.next}while(i!==r)}}function tl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[gr],delete t[fa],delete t[dp],delete t[mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dm(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pi));else if(r!==4&&(e=e.child,e!==null))for(_a(e,t,n),e=e.sibling;e!==null;)_a(e,t,n),e=e.sibling}function Ta(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ta(e,t,n),e=e.sibling;e!==null;)Ta(e,t,n),e=e.sibling}var ye=null,ot=!1;function Bt(e,t,n){for(n=n.child;n!==null;)Im(e,t,n),n=n.sibling}function Im(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Gi,n)}catch{}switch(n.tag){case 5:Se||is(n,t);case 6:var r=ye,i=ot;ye=null,Bt(e,t,n),ye=r,ot=i,ye!==null&&(ot?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(ot?(e=ye,n=n.stateNode,e.nodeType===8?_l(e.parentNode,n):e.nodeType===1&&_l(e,n),mr(e)):_l(ye,n.stateNode));break;case 4:r=ye,i=ot,ye=n.stateNode.containerInfo,ot=!0,Bt(e,t,n),ye=r,ot=i;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Ea(n,t,a),i=i.next}while(i!==r)}Bt(e,t,n);break;case 1:if(!Se&&(is(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ce(n,t,o)}Bt(e,t,n);break;case 21:Bt(e,t,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Bt(e,t,n),Se=r):Bt(e,t,n);break;default:Bt(e,t,n)}}function Zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pp),t.forEach(function(r){var i=Mp.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ye=o.stateNode,ot=!1;break e;case 3:ye=o.stateNode.containerInfo,ot=!0;break e;case 4:ye=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(ye===null)throw Error(A(160));Im(l,a,i),ye=null,ot=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ce(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Am(t,e),t=t.sibling}function Am(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rt(t,e),ht(e),r&4){try{rr(3,e,e.return),tl(3,e)}catch(x){ce(e,e.return,x)}try{rr(5,e,e.return)}catch(x){ce(e,e.return,x)}}break;case 1:rt(t,e),ht(e),r&512&&n!==null&&is(n,n.return);break;case 5:if(rt(t,e),ht(e),r&512&&n!==null&&is(n,n.return),e.flags&32){var i=e.stateNode;try{or(i,"")}catch(x){ce(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&sd(i,l),ea(o,a);var d=ea(o,l);for(a=0;a<c.length;a+=2){var y=c[a],p=c[a+1];y==="style"?od(i,p):y==="dangerouslySetInnerHTML"?ld(i,p):y==="children"?or(i,p):no(i,y,p,d)}switch(o){case"input":Xl(i,l);break;case"textarea":rd(i,l);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?as(i,!!l.multiple,j,!1):u!==!!l.multiple&&(l.defaultValue!=null?as(i,!!l.multiple,l.defaultValue,!0):as(i,!!l.multiple,l.multiple?[]:"",!1))}i[gr]=l}catch(x){ce(e,e.return,x)}}break;case 6:if(rt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(x){ce(e,e.return,x)}}break;case 3:if(rt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mr(t.containerInfo)}catch(x){ce(e,e.return,x)}break;case 4:rt(t,e),ht(e);break;case 13:rt(t,e),ht(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Lo=ue())),r&4&&Zc(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Se=(d=Se)||y,rt(t,e),Se=d):rt(t,e),ht(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(z=e,y=e.child;y!==null;){for(p=z=y;z!==null;){switch(u=z,j=u.child,u.tag){case 0:case 11:case 14:case 15:rr(4,u,u.return);break;case 1:is(u,u.return);var w=u.stateNode;if(typeof w.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ce(r,n,x)}}break;case 5:is(u,u.return);break;case 22:if(u.memoizedState!==null){tu(p);continue}}j!==null?(j.return=u,z=j):tu(p)}y=y.sibling}e:for(y=null,p=e;;){if(p.tag===5){if(y===null){y=p;try{i=p.stateNode,d?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ad("display",a))}catch(x){ce(e,e.return,x)}}}else if(p.tag===6){if(y===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){ce(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rt(t,e),ht(e),r&4&&Zc(e);break;case 21:break;default:rt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dm(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(or(i,""),r.flags&=-33);var l=Jc(e);Ta(e,l,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Jc(e);_a(e,o,a);break;default:throw Error(A(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tp(e,t,n){z=e,Lm(e)}function Lm(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,l=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ei;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Se;o=ei;var d=Se;if(ei=a,(Se=c)&&!d)for(z=i;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?nu(i):c!==null?(c.return=a,z=c):nu(i);for(;l!==null;)z=l,Lm(l),l=l.sibling;z=i,ei=o,Se=d}eu(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,z=l):eu(e)}}function eu(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||tl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Se)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Mc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var p=y.dehydrated;p!==null&&mr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Se||t.flags&512&&Pa(t)}catch(u){ce(t,t.return,u)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function tu(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function nu(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(c){ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ce(t,i,c)}}var l=t.return;try{Pa(t)}catch(c){ce(t,l,c)}break;case 5:var a=t.return;try{Pa(t)}catch(c){ce(t,a,c)}}}catch(c){ce(t,t.return,c)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var Rp=Math.ceil,Ui=zt.ReactCurrentDispatcher,Io=zt.ReactCurrentOwner,Ze=zt.ReactCurrentBatchConfig,X=0,ge=null,de=null,ve=0,Be=0,ls=gn(0),fe=0,wr=null,zn=0,nl=0,Ao=0,ir=null,Ae=null,Lo=0,Rs=1/0,Ct=null,zi=!1,Ra=null,un=null,ti=!1,sn=null,Bi=0,lr=0,Oa=null,xi=-1,gi=0;function Te(){return X&6?ue():xi!==-1?xi:xi=ue()}function dn(e){return e.mode&1?X&2&&ve!==0?ve&-ve:fp.transition!==null?(gi===0&&(gi=jd()),gi):(e=J,e!==0||(e=window.event,e=e===void 0?16:Ed(e.type)),e):1}function dt(e,t,n,r){if(50<lr)throw lr=0,Oa=null,Error(A(185));Rr(e,n,r),(!(X&2)||e!==ge)&&(e===ge&&(!(X&2)&&(nl|=n),fe===4&&Kt(e,ve)),Ue(e,r),n===1&&X===0&&!(t.mode&1)&&(Rs=ue()+500,Ji&&yn()))}function Ue(e,t){var n=e.callbackNode;ff(e,t);var r=Si(e,e===ge?ve:0);if(r===0)n!==null&&dc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dc(n),t===1)e.tag===0?hp(su.bind(null,e)):Kd(su.bind(null,e)),cp(function(){!(X&6)&&yn()}),n=null;else{switch(Nd(r)){case 1:n=ao;break;case 4:n=yd;break;case 16:n=wi;break;case 536870912:n=vd;break;default:n=wi}n=Vm(n,Fm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Fm(e,t){if(xi=-1,gi=0,X&6)throw Error(A(327));var n=e.callbackNode;if(ms()&&e.callbackNode!==n)return null;var r=Si(e,e===ge?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$i(e,r);else{t=r;var i=X;X|=2;var l=Um();(ge!==e||ve!==t)&&(Ct=null,Rs=ue()+500,An(e,t));do try{Ip();break}catch(o){Mm(e,o)}while(!0);No(),Ui.current=l,X=i,de!==null?t=0:(ge=null,ve=0,t=fe)}if(t!==0){if(t===2&&(i=ia(e),i!==0&&(r=i,t=Da(e,i))),t===1)throw n=wr,An(e,0),Kt(e,r),Ue(e,ue()),n;if(t===6)Kt(e,r);else{if(i=e.current.alternate,!(r&30)&&!Op(i)&&(t=$i(e,r),t===2&&(l=ia(e),l!==0&&(r=l,t=Da(e,l))),t===1))throw n=wr,An(e,0),Kt(e,r),Ue(e,ue()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Nn(e,Ae,Ct);break;case 3:if(Kt(e,r),(r&130023424)===r&&(t=Lo+500-ue(),10<t)){if(Si(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ha(Nn.bind(null,e,Ae,Ct),t);break}Nn(e,Ae,Ct);break;case 4:if(Kt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ut(r);l=1<<a,a=t[a],a>i&&(i=a),r&=~l}if(r=i,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rp(r/1960))-r,10<r){e.timeoutHandle=ha(Nn.bind(null,e,Ae,Ct),r);break}Nn(e,Ae,Ct);break;case 5:Nn(e,Ae,Ct);break;default:throw Error(A(329))}}}return Ue(e,ue()),e.callbackNode===n?Fm.bind(null,e):null}function Da(e,t){var n=ir;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=$i(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&Ia(t)),e}function Ia(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function Op(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!mt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~Ao,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(X&6)throw Error(A(327));ms();var t=Si(e,0);if(!(t&1))return Ue(e,ue()),null;var n=$i(e,t);if(e.tag!==0&&n===2){var r=ia(e);r!==0&&(t=r,n=Da(e,r))}if(n===1)throw n=wr,An(e,0),Kt(e,t),Ue(e,ue()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Ae,Ct),Ue(e,ue()),null}function Fo(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Rs=ue()+500,Ji&&yn())}}function Bn(e){sn!==null&&sn.tag===0&&!(X&6)&&ms();var t=X;X|=1;var n=Ze.transition,r=J;try{if(Ze.transition=null,J=1,e)return e()}finally{J=r,Ze.transition=n,X=t,!(X&6)&&yn()}}function Mo(){Be=ls.current,te(ls)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,op(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(yo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_i();break;case 3:_s(),te(Fe),te(ke),Eo();break;case 5:Co(r);break;case 4:_s();break;case 13:te(re);break;case 19:te(re);break;case 10:bo(r.type._context);break;case 22:case 23:Mo()}n=n.return}if(ge=e,de=e=mn(e.current,null),ve=Be=t,fe=0,wr=null,Ao=nl=zn=0,Ae=ir=null,wn!==null){for(t=0;t<wn.length;t++)if(n=wn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=i,r.next=a}n.pending=r}wn=null}return e}function Mm(e,t){do{var n=de;try{if(No(),hi.current=Mi,Fi){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fi=!1}if(Un=0,xe=me=ie=null,sr=!1,jr=0,Io.current=null,n===null||n.return===null){fe=1,wr=t,de=null;break}e:{var l=e,a=n.return,o=n,c=t;if(t=ve,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=o,p=y.tag;if(!(y.mode&1)&&(p===0||p===11||p===15)){var u=y.alternate;u?(y.updateQueue=u.updateQueue,y.memoizedState=u.memoizedState,y.lanes=u.lanes):(y.updateQueue=null,y.memoizedState=null)}var j=Vc(a);if(j!==null){j.flags&=-257,Wc(j,a,o,l,t),j.mode&1&&Qc(l,d,t),t=j,c=d;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Qc(l,d,t),Uo();break e}c=Error(A(426))}}else if(se&&o.mode&1){var _=Vc(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Wc(_,a,o,l,t),vo(Ts(c,o));break e}}l=c=Ts(c,o),fe!==4&&(fe=2),ir===null?ir=[l]:ir.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Nm(l,c,t);Fc(l,h);break e;case 1:o=c;var f=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(un===null||!un.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=bm(l,o,t);Fc(l,b);break e}}l=l.return}while(l!==null)}Bm(n)}catch(T){t=T,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Um(){var e=Ui.current;return Ui.current=Mi,e===null?Mi:e}function Uo(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(zn&268435455)&&!(nl&268435455)||Kt(ge,ve)}function $i(e,t){var n=X;X|=2;var r=Um();(ge!==e||ve!==t)&&(Ct=null,An(e,t));do try{Dp();break}catch(i){Mm(e,i)}while(!0);if(No(),X=n,Ui.current=r,de!==null)throw Error(A(261));return ge=null,ve=0,fe}function Dp(){for(;de!==null;)zm(de)}function Ip(){for(;de!==null&&!rf();)zm(de)}function zm(e){var t=Qm(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Bm(e):de=t,Io.current=null}function Bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ep(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,de=null;return}}else if(n=Cp(n,t,Be),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);fe===0&&(fe=5)}function Nn(e,t,n){var r=J,i=Ze.transition;try{Ze.transition=null,J=1,Ap(e,t,n,r)}finally{Ze.transition=i,J=r}return null}function Ap(e,t,n,r){do ms();while(sn!==null);if(X&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(pf(e,l),e===ge&&(de=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ti||(ti=!0,Vm(wi,function(){return ms(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ze.transition,Ze.transition=null;var a=J;J=1;var o=X;X|=4,Io.current=null,_p(e,n),Am(n,e),tp(da),ki=!!ua,da=ua=null,e.current=n,Tp(n),lf(),X=o,J=a,Ze.transition=l}else e.current=n;if(ti&&(ti=!1,sn=e,Bi=i),l=e.pendingLanes,l===0&&(un=null),cf(n.stateNode),Ue(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zi)throw zi=!1,e=Ra,Ra=null,e;return Bi&1&&e.tag!==0&&ms(),l=e.pendingLanes,l&1?e===Oa?lr++:(lr=0,Oa=e):lr=0,yn(),null}function ms(){if(sn!==null){var e=Nd(Bi),t=Ze.transition,n=J;try{if(Ze.transition=null,J=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Bi=0,X&6)throw Error(A(331));var i=X;for(X|=4,z=e.current;z!==null;){var l=z,a=l.child;if(z.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(z=d;z!==null;){var y=z;switch(y.tag){case 0:case 11:case 15:rr(8,y,l)}var p=y.child;if(p!==null)p.return=y,z=p;else for(;z!==null;){y=z;var u=y.sibling,j=y.return;if(Om(y),y===d){z=null;break}if(u!==null){u.return=j,z=u;break}z=j}}}var w=l.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}z=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,z=a;else e:for(;z!==null;){if(l=z,l.flags&2048)switch(l.tag){case 0:case 11:case 15:rr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,z=h;break e}z=l.return}}var f=e.current;for(z=f;z!==null;){a=z;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,z=m;else e:for(a=f;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tl(9,o)}}catch(T){ce(o,o.return,T)}if(o===a){z=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,z=b;break e}z=o.return}}if(X=i,yn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Gi,e)}catch{}r=!0}return r}finally{J=n,Ze.transition=t}}return!1}function ru(e,t,n){t=Ts(n,t),t=Nm(e,t,1),e=cn(e,t,1),t=Te(),e!==null&&(Rr(e,1,t),Ue(e,t))}function ce(e,t,n){if(e.tag===3)ru(e,e,n);else for(;t!==null;){if(t.tag===3){ru(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Ts(n,e),e=bm(t,e,1),t=cn(t,e,1),e=Te(),t!==null&&(Rr(t,1,e),Ue(t,e));break}}t=t.return}}function Lp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ve&n)===n&&(fe===4||fe===3&&(ve&130023424)===ve&&500>ue()-Lo?An(e,0):Ao|=n),Ue(e,t)}function $m(e,t){t===0&&(e.mode&1?(t=Wr,Wr<<=1,!(Wr&130023424)&&(Wr=4194304)):t=1);var n=Te();e=Mt(e,t),e!==null&&(Rr(e,t,n),Ue(e,n))}function Fp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$m(e,n)}function Mp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),$m(e,n)}var Qm;Qm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,kp(e,t,n);Le=!!(e.flags&131072)}else Le=!1,se&&t.flags&1048576&&Gd(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pi(e,t),e=t.pendingProps;var i=Cs(t,ke.current);ds(t,n),i=_o(null,t,r,e,i,n);var l=To();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(r)?(l=!0,Ti(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,So(t),i.updater=el,t.stateNode=i,i._reactInternals=t,ja(t,r,e,n),t=wa(null,t,r,!0,l,n)):(t.tag=0,se&&l&&go(t),Pe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=zp(r),e=it(r,e),i){case 0:t=ba(null,t,r,e,n);break e;case 1:t=Hc(null,t,r,e,n);break e;case 11:t=Kc(null,t,r,e,n);break e;case 14:t=Gc(null,t,r,it(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),ba(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),Hc(e,t,r,i,n);case 3:e:{if(Cm(t),e===null)throw Error(A(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Zd(e,t),Ai(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=Ts(Error(A(423)),t),t=Xc(e,t,r,n,i);break e}else if(r!==i){i=Ts(Error(A(424)),t),t=Xc(e,t,r,n,i);break e}else for($e=on(t.stateNode.containerInfo.firstChild),Qe=t,se=!0,ct=null,n=Yd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){t=Ut(e,t,n);break e}Pe(e,t,r,n)}t=t.child}return t;case 5:return em(t),e===null&&ga(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,ma(r,i)?a=null:l!==null&&ma(r,l)&&(t.flags|=32),km(e,t),Pe(e,t,a,n),t.child;case 6:return e===null&&ga(t),null;case 13:return Em(e,t,n);case 4:return ko(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ps(t,null,r,n):Pe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),Kc(e,t,r,i,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value,Z(Di,r._currentValue),r._currentValue=a,l!==null)if(mt(l.value,a)){if(l.children===i.children&&!Fe.current){t=Ut(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=It(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ya(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(A(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ya(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Pe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ds(t,n),i=et(i),r=r(i),t.flags|=1,Pe(e,t,r,n),t.child;case 14:return r=t.type,i=it(r,t.pendingProps),i=it(r.type,i),Gc(e,t,r,i,n);case 15:return wm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:it(r,i),pi(e,t),t.tag=1,Me(r)?(e=!0,Ti(t)):e=!1,ds(t,n),jm(t,r,i),ja(t,r,i,n),wa(null,t,r,!0,e,n);case 19:return Pm(e,t,n);case 22:return Sm(e,t,n)}throw Error(A(156,t.tag))};function Vm(e,t){return gd(e,t)}function Up(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new Up(e,t,n,r)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zp(e){if(typeof e=="function")return zo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ro)return 11;if(e===io)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yi(e,t,n,r,i,l){var a=2;if(r=e,typeof e=="function")zo(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qn:return Ln(n.children,i,l,t);case so:a=8,i|=8;break;case Vl:return e=Je(12,n,t,i|2),e.elementType=Vl,e.lanes=l,e;case Wl:return e=Je(13,n,t,i),e.elementType=Wl,e.lanes=l,e;case Kl:return e=Je(19,n,t,i),e.elementType=Kl,e.lanes=l,e;case ed:return sl(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ju:a=10;break e;case Zu:a=9;break e;case ro:a=11;break e;case io:a=14;break e;case Qt:a=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Je(a,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Ln(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=Je(22,e,r,t),e.elementType=ed,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function Ml(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bo(e,t,n,r,i,l,a,o,c){return e=new Bp(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Je(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(l),e}function $p(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wm(e){if(!e)return pn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Me(n))return Wd(e,n,t)}return t}function Km(e,t,n,r,i,l,a,o,c){return e=Bo(n,r,!0,e,i,l,a,o,c),e.context=Wm(null),n=e.current,r=Te(),i=dn(n),l=It(r,i),l.callback=t??null,cn(n,l,i),e.current.lanes=i,Rr(e,i,r),Ue(e,r),e}function rl(e,t,n,r){var i=t.current,l=Te(),a=dn(i);return n=Wm(n),t.context===null?t.context=n:t.pendingContext=n,t=It(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(i,t,a),e!==null&&(dt(e,i,a,l),mi(e,i,a)),a}function Qi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $o(e,t){iu(e,t),(e=e.alternate)&&iu(e,t)}function Qp(){return null}var Gm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qo(e){this._internalRoot=e}il.prototype.render=Qo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));rl(e,t,null,null)};il.prototype.unmount=Qo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){rl(null,e,null,null)}),t[Ft]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&Cd(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lu(){}function Vp(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var d=Qi(a);l.call(d)}}var a=Km(t,r,e,0,null,!1,!1,"",lu);return e._reactRootContainer=a,e[Ft]=a.current,pr(e.nodeType===8?e.parentNode:e),Bn(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var d=Qi(c);o.call(d)}}var c=Bo(e,0,!1,null,null,!1,!1,"",lu);return e._reactRootContainer=c,e[Ft]=c.current,pr(e.nodeType===8?e.parentNode:e),Bn(function(){rl(t,c,n,r)}),c}function al(e,t,n,r,i){var l=n._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var o=i;i=function(){var c=Qi(a);o.call(c)}}rl(t,a,e,i)}else a=Vp(n,t,e,i,r);return Qi(a)}bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xs(t.pendingLanes);n!==0&&(oo(t,n|1),Ue(t,ue()),!(X&6)&&(Rs=ue()+500,yn()))}break;case 13:Bn(function(){var r=Mt(e,1);if(r!==null){var i=Te();dt(r,e,1,i)}}),$o(e,1)}};co=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Te();dt(t,e,134217728,n)}$o(e,134217728)}};wd=function(e){if(e.tag===13){var t=dn(e),n=Mt(e,t);if(n!==null){var r=Te();dt(n,e,t,r)}$o(e,t)}};Sd=function(){return J};kd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};na=function(e,t,n){switch(t){case"input":if(Xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yi(r);if(!i)throw Error(A(90));nd(r),Xl(r,i)}}}break;case"textarea":rd(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};dd=Fo;md=Bn;var Wp={usingClientEntryPoint:!1,Events:[Dr,es,Yi,cd,ud,Fo]},Ws={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||Qp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ni.isDisabled&&ni.supportsFiber)try{Gi=ni.inject(Kp),jt=ni}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wp;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(A(200));return $p(e,t,null,n)};Ke.createRoot=function(e,t){if(!Vo(e))throw Error(A(299));var n=!1,r="",i=Gm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bo(e,1,!1,null,null,n,!1,r,i),e[Ft]=t.current,pr(e.nodeType===8?e.parentNode:e),new Qo(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Bn(e)};Ke.hydrate=function(e,t,n){if(!ll(t))throw Error(A(200));return al(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",a=Gm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Km(t,null,e,1,n??null,i,!1,l,a),e[Ft]=t.current,pr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new il(t)};Ke.render=function(e,t,n){if(!ll(t))throw Error(A(200));return al(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!ll(e))throw Error(A(40));return e._reactRootContainer?(Bn(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};Ke.unstable_batchedUpdates=Fo;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ll(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return al(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function Hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hm)}catch(e){console.error(e)}}Hm(),Hu.exports=Ke;var Gp=Hu.exports,au=Gp;$l.createRoot=au.createRoot,$l.hydrateRoot=au.hydrateRoot;var Ls=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hp={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Gt,Xa,ku,Xp=(ku=class{constructor(){$(this,Gt,Hp);$(this,Xa,!1)}setTimeoutProvider(e){M(this,Gt,e)}setTimeout(e,t){return g(this,Gt).setTimeout(e,t)}clearTimeout(e){g(this,Gt).clearTimeout(e)}setInterval(e,t){return g(this,Gt).setInterval(e,t)}clearInterval(e){g(this,Gt).clearInterval(e)}},Gt=new WeakMap,Xa=new WeakMap,ku),kn=new Xp;function qp(e){setTimeout(e,0)}var $n=typeof window>"u"||"Deno"in globalThis;function _e(){}function Yp(e,t){return typeof e=="function"?e(t):e}function Aa(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hn(e,t){return typeof e=="function"?e(t):e}function Xe(e,t){return typeof e=="function"?e(t):e}function ou(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:l,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Wo(a,t.options))return!1}else if(!Sr(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||l&&!l(t))}function cu(e,t){const{exact:n,status:r,predicate:i,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Qn(t.options.mutationKey)!==Qn(l))return!1}else if(!Sr(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Wo(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qn)(e)}function Qn(e){return JSON.stringify(e,(t,n)=>La(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Sr(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Sr(e[n],t[n])):!1}var Jp=Object.prototype.hasOwnProperty;function qm(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=uu(e)&&uu(t);if(!r&&!(La(e)&&La(t)))return t;const l=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,c=r?new Array(o):{};let d=0;for(let y=0;y<o;y++){const p=r?y:a[y],u=e[p],j=t[p];if(u===j){c[p]=u,(r?y<l:Jp.call(e,p))&&d++;continue}if(u===null||j===null||typeof u!="object"||typeof j!="object"){c[p]=j;continue}const w=qm(u,j,n+1);c[p]=w,w===u&&d++}return l===o&&d===l?e:c}function Vi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function uu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function La(e){if(!du(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!du(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function du(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zp(e){return new Promise(t=>{kn.setTimeout(t,e)})}function Fa(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qm(e,t):t}function ex(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function tx(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ko=Symbol();function Ym(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ko?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Go(e,t){return typeof e=="function"?e(...t):!!e}function nx(e,t,n){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),e}var Cn,Ht,hs,Cu,sx=(Cu=class extends Ls{constructor(){super();$(this,Cn);$(this,Ht);$(this,hs);M(this,hs,t=>{if(!$n&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){g(this,Ht)||this.setEventListener(g(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,Ht))==null||t.call(this),M(this,Ht,void 0))}setEventListener(t){var n;M(this,hs,t),(n=g(this,Ht))==null||n.call(this),M(this,Ht,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){g(this,Cn)!==t&&(M(this,Cn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof g(this,Cn)=="boolean"?g(this,Cn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cn=new WeakMap,Ht=new WeakMap,hs=new WeakMap,Cu),Ho=new sx;function Ma(){let e,t;const n=new Promise((i,l)=>{e=i,t=l});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var rx=qp;function ix(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=rx;const l=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{l(()=>{o(...c)})},schedule:l,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var he=ix(),fs,Xt,ps,Eu,lx=(Eu=class extends Ls{constructor(){super();$(this,fs,!0);$(this,Xt);$(this,ps);M(this,ps,t=>{if(!$n&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){g(this,Xt)||this.setEventListener(g(this,ps))}onUnsubscribe(){var t;this.hasListeners()||((t=g(this,Xt))==null||t.call(this),M(this,Xt,void 0))}setEventListener(t){var n;M(this,ps,t),(n=g(this,Xt))==null||n.call(this),M(this,Xt,t(this.setOnline.bind(this)))}setOnline(t){g(this,fs)!==t&&(M(this,fs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return g(this,fs)}},fs=new WeakMap,Xt=new WeakMap,ps=new WeakMap,Eu),Wi=new lx;function ax(e){return Math.min(1e3*2**e,3e4)}function Jm(e){return(e??"online")==="online"?Wi.isOnline():!0}var Ua=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zm(e){let t=!1,n=0,r;const i=Ma(),l=()=>i.status!=="pending",a=x=>{var _;if(!l()){const h=new Ua(x);u(h),(_=e.onCancel)==null||_.call(e,h)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>Ho.isFocused()&&(e.networkMode==="always"||Wi.isOnline())&&e.canRun(),y=()=>Jm(e.networkMode)&&e.canRun(),p=x=>{l()||(r==null||r(),i.resolve(x))},u=x=>{l()||(r==null||r(),i.reject(x))},j=()=>new Promise(x=>{var _;r=h=>{(l()||d())&&x(h)},(_=e.onPause)==null||_.call(e)}).then(()=>{var x;r=void 0,l()||(x=e.onContinue)==null||x.call(e)}),w=()=>{if(l())return;let x;const _=n===0?e.initialPromise:void 0;try{x=_??e.fn()}catch(h){x=Promise.reject(h)}Promise.resolve(x).then(p).catch(h=>{var k;if(l())return;const f=e.retry??($n?0:3),m=e.retryDelay??ax,b=typeof m=="function"?m(n,h):m,T=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,h);if(t||!T){u(h);return}n++,(k=e.onFail)==null||k.call(e,n,h),Zp(b).then(()=>d()?void 0:j()).then(()=>{t?u(h):w()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:y,start:()=>(y()?w():j().then(w),i)}}var En,Pu,eh=(Pu=class{constructor(){$(this,En)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Aa(this.gcTime)&&M(this,En,kn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($n?1/0:5*60*1e3))}clearGcTimeout(){g(this,En)&&(kn.clearTimeout(g(this,En)),M(this,En,void 0))}},En=new WeakMap,Pu),Pn,xs,He,_n,pe,kr,Tn,lt,kt,_u,ox=(_u=class extends eh{constructor(t){super();$(this,lt);$(this,Pn);$(this,xs);$(this,He);$(this,_n);$(this,pe);$(this,kr);$(this,Tn);M(this,Tn,!1),M(this,kr,t.defaultOptions),this.setOptions(t.options),this.observers=[],M(this,_n,t.client),M(this,He,g(this,_n).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,M(this,Pn,hu(this.options)),this.state=t.state??g(this,Pn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=g(this,pe))==null?void 0:t.promise}setOptions(t){if(this.options={...g(this,kr),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=hu(this.options);n.data!==void 0&&(this.setState(mu(n.data,n.dataUpdatedAt)),M(this,Pn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,He).remove(this)}setData(t,n){const r=Fa(this.state.data,t,this.options);return W(this,lt,kt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){W(this,lt,kt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=g(this,pe))==null?void 0:r.promise;return(i=g(this,pe))==null||i.cancel(t),n?n.then(_e).catch(_e):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,Pn))}isActive(){return this.observers.some(t=>Xe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ko||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,pe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=g(this,pe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),g(this,He).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(g(this,pe)&&(g(this,Tn)?g(this,pe).cancel({revert:!0}):g(this,pe).cancelRetry()),this.scheduleGc()),g(this,He).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,lt,kt).call(this,{type:"invalidate"})}async fetch(t,n){var c,d,y,p,u,j,w,x,_,h,f,m;if(this.state.fetchStatus!=="idle"&&((c=g(this,pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(g(this,pe))return g(this,pe).continueRetry(),g(this,pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(T=>T.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(M(this,Tn,!0),r.signal)})},l=()=>{const b=Ym(this.options,n),k=(()=>{const P={client:g(this,_n),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return M(this,Tn,!1),this.options.persister?this.options.persister(b,k,this):b(k)},o=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:g(this,_n),state:this.state,fetchFn:l};return i(b),b})();(d=this.options.behavior)==null||d.onFetch(o,this),M(this,xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=o.fetchOptions)==null?void 0:y.meta))&&W(this,lt,kt).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),M(this,pe,Zm({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Ua&&b.revert&&this.setState({...g(this,xs),fetchStatus:"idle"}),r.abort()},onFail:(b,T)=>{W(this,lt,kt).call(this,{type:"failed",failureCount:b,error:T})},onPause:()=>{W(this,lt,kt).call(this,{type:"pause"})},onContinue:()=>{W(this,lt,kt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await g(this,pe).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(j=(u=g(this,He).config).onSuccess)==null||j.call(u,b,this),(x=(w=g(this,He).config).onSettled)==null||x.call(w,b,this.state.error,this),b}catch(b){if(b instanceof Ua){if(b.silent)return g(this,pe).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw W(this,lt,kt).call(this,{type:"error",error:b}),(h=(_=g(this,He).config).onError)==null||h.call(_,b,this),(m=(f=g(this,He).config).onSettled)==null||m.call(f,this.state.data,b,this),b}finally{this.scheduleGc()}}},Pn=new WeakMap,xs=new WeakMap,He=new WeakMap,_n=new WeakMap,pe=new WeakMap,kr=new WeakMap,Tn=new WeakMap,lt=new WeakSet,kt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...th(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...mu(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return M(this,xs,t.manual?i:void 0),i;case"error":const l=t.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),he.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),g(this,He).notify({query:this,type:"updated",action:t})})},_u);function th(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mu(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hu(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var De,H,Cr,Ee,Rn,gs,Pt,qt,Er,ys,vs,On,Dn,Yt,js,Y,Ys,za,Ba,$a,Qa,Va,Wa,Ka,nh,Tu,cx=(Tu=class extends Ls{constructor(t,n){super();$(this,Y);$(this,De);$(this,H);$(this,Cr);$(this,Ee);$(this,Rn);$(this,gs);$(this,Pt);$(this,qt);$(this,Er);$(this,ys);$(this,vs);$(this,On);$(this,Dn);$(this,Yt);$(this,js,new Set);this.options=n,M(this,De,t),M(this,qt,null),M(this,Pt,Ma()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,H).addObserver(this),fu(g(this,H),this.options)?W(this,Y,Ys).call(this):this.updateResult(),W(this,Y,Qa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ga(g(this,H),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ga(g(this,H),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,Y,Va).call(this),W(this,Y,Wa).call(this),g(this,H).removeObserver(this)}setOptions(t){const n=this.options,r=g(this,H);if(this.options=g(this,De).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xe(this.options.enabled,g(this,H))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");W(this,Y,Ka).call(this),g(this,H).setOptions(this.options),n._defaulted&&!Vi(this.options,n)&&g(this,De).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,H),observer:this});const i=this.hasListeners();i&&pu(g(this,H),r,this.options,n)&&W(this,Y,Ys).call(this),this.updateResult(),i&&(g(this,H)!==r||Xe(this.options.enabled,g(this,H))!==Xe(n.enabled,g(this,H))||hn(this.options.staleTime,g(this,H))!==hn(n.staleTime,g(this,H)))&&W(this,Y,za).call(this);const l=W(this,Y,Ba).call(this);i&&(g(this,H)!==r||Xe(this.options.enabled,g(this,H))!==Xe(n.enabled,g(this,H))||l!==g(this,Yt))&&W(this,Y,$a).call(this,l)}getOptimisticResult(t){const n=g(this,De).getQueryCache().build(g(this,De),t),r=this.createResult(n,t);return dx(this,r)&&(M(this,Ee,r),M(this,gs,this.options),M(this,Rn,g(this,H).state)),r}getCurrentResult(){return g(this,Ee)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&g(this,Pt).status==="pending"&&g(this,Pt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){g(this,js).add(t)}getCurrentQuery(){return g(this,H)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=g(this,De).defaultQueryOptions(t),r=g(this,De).getQueryCache().build(g(this,De),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return W(this,Y,Ys).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,Ee)))}createResult(t,n){var C;const r=g(this,H),i=this.options,l=g(this,Ee),a=g(this,Rn),o=g(this,gs),d=t!==r?t.state:g(this,Cr),{state:y}=t;let p={...y},u=!1,j;if(n._optimisticResults){const E=this.hasListeners(),I=!E&&fu(t,n),U=E&&pu(t,r,n,i);(I||U)&&(p={...p,...th(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:_}=p;j=p.data;let h=!1;if(n.placeholderData!==void 0&&j===void 0&&_==="pending"){let E;l!=null&&l.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(E=l.data,h=!0):E=typeof n.placeholderData=="function"?n.placeholderData((C=g(this,vs))==null?void 0:C.state.data,g(this,vs)):n.placeholderData,E!==void 0&&(_="success",j=Fa(l==null?void 0:l.data,E,n),u=!0)}if(n.select&&j!==void 0&&!h)if(l&&j===(a==null?void 0:a.data)&&n.select===g(this,Er))j=g(this,ys);else try{M(this,Er,n.select),j=n.select(j),j=Fa(l==null?void 0:l.data,j,n),M(this,ys,j),M(this,qt,null)}catch(E){M(this,qt,E)}g(this,qt)&&(w=g(this,qt),j=g(this,ys),x=Date.now(),_="error");const f=p.fetchStatus==="fetching",m=_==="pending",b=_==="error",T=m&&f,k=j!==void 0,v={status:_,fetchStatus:p.fetchStatus,isPending:m,isSuccess:_==="success",isError:b,isInitialLoading:T,isLoading:T,data:j,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:f,isRefetching:f&&!m,isLoadingError:b&&!k,isPaused:p.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:b&&k,isStale:Xo(t,n),refetch:this.refetch,promise:g(this,Pt),isEnabled:Xe(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=v.data!==void 0,I=v.status==="error"&&!E,U=R=>{I?R.reject(v.error):E&&R.resolve(v.data)},Q=()=>{const R=M(this,Pt,v.promise=Ma());U(R)},K=g(this,Pt);switch(K.status){case"pending":t.queryHash===r.queryHash&&U(K);break;case"fulfilled":(I||v.data!==K.value)&&Q();break;case"rejected":(!I||v.error!==K.reason)&&Q();break}}return v}updateResult(){const t=g(this,Ee),n=this.createResult(g(this,H),this.options);if(M(this,Rn,g(this,H).state),M(this,gs,this.options),g(this,Rn).data!==void 0&&M(this,vs,g(this,H)),Vi(n,t))return;M(this,Ee,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!g(this,js).size)return!0;const a=new Set(l??g(this,js));return this.options.throwOnError&&a.add("error"),Object.keys(g(this,Ee)).some(o=>{const c=o;return g(this,Ee)[c]!==t[c]&&a.has(c)})};W(this,Y,nh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,Y,Qa).call(this)}},De=new WeakMap,H=new WeakMap,Cr=new WeakMap,Ee=new WeakMap,Rn=new WeakMap,gs=new WeakMap,Pt=new WeakMap,qt=new WeakMap,Er=new WeakMap,ys=new WeakMap,vs=new WeakMap,On=new WeakMap,Dn=new WeakMap,Yt=new WeakMap,js=new WeakMap,Y=new WeakSet,Ys=function(t){W(this,Y,Ka).call(this);let n=g(this,H).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(_e)),n},za=function(){W(this,Y,Va).call(this);const t=hn(this.options.staleTime,g(this,H));if($n||g(this,Ee).isStale||!Aa(t))return;const r=Xm(g(this,Ee).dataUpdatedAt,t)+1;M(this,On,kn.setTimeout(()=>{g(this,Ee).isStale||this.updateResult()},r))},Ba=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,H)):this.options.refetchInterval)??!1},$a=function(t){W(this,Y,Wa).call(this),M(this,Yt,t),!($n||Xe(this.options.enabled,g(this,H))===!1||!Aa(g(this,Yt))||g(this,Yt)===0)&&M(this,Dn,kn.setInterval(()=>{(this.options.refetchIntervalInBackground||Ho.isFocused())&&W(this,Y,Ys).call(this)},g(this,Yt)))},Qa=function(){W(this,Y,za).call(this),W(this,Y,$a).call(this,W(this,Y,Ba).call(this))},Va=function(){g(this,On)&&(kn.clearTimeout(g(this,On)),M(this,On,void 0))},Wa=function(){g(this,Dn)&&(kn.clearInterval(g(this,Dn)),M(this,Dn,void 0))},Ka=function(){const t=g(this,De).getQueryCache().build(g(this,De),this.options);if(t===g(this,H))return;const n=g(this,H);M(this,H,t),M(this,Cr,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},nh=function(t){he.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(g(this,Ee))}),g(this,De).getQueryCache().notify({query:g(this,H),type:"observerResultsUpdated"})})},Tu);function ux(e,t){return Xe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function fu(e,t){return ux(e,t)||e.state.data!==void 0&&Ga(e,t,t.refetchOnMount)}function Ga(e,t,n){if(Xe(t.enabled,e)!==!1&&hn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Xo(e,t)}return!1}function pu(e,t,n,r){return(e!==t||Xe(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Xo(e,n)}function Xo(e,t){return Xe(t.enabled,e)!==!1&&e.isStaleByTime(hn(t.staleTime,e))}function dx(e,t){return!Vi(e.getCurrentResult(),t)}function xu(e){return{onFetch:(t,n)=>{var y,p,u,j,w;const r=t.options,i=(u=(p=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:p.fetchMore)==null?void 0:u.direction,l=((j=t.state.data)==null?void 0:j.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const _=m=>{nx(m,()=>t.signal,()=>x=!0)},h=Ym(t.options,t.fetchOptions),f=async(m,b,T)=>{if(x)return Promise.reject();if(b==null&&m.pages.length)return Promise.resolve(m);const P=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:b,direction:T?"backward":"forward",meta:t.options.meta};return _(I),I})(),v=await h(P),{maxPages:C}=t.options,E=T?tx:ex;return{pages:E(m.pages,v,C),pageParams:E(m.pageParams,b,C)}};if(i&&l.length){const m=i==="backward",b=m?mx:gu,T={pages:l,pageParams:a},k=b(r,T);o=await f(T,k,m)}else{const m=e??l.length;do{const b=c===0?a[0]??r.initialPageParam:gu(r,o);if(c>0&&b==null)break;o=await f(o,b),c++}while(c<m)}return o};t.options.persister?t.fetchFn=()=>{var x,_;return(_=(x=t.options).persister)==null?void 0:_.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function gu(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function mx(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Pr,xt,we,In,gt,$t,Ru,hx=(Ru=class extends eh{constructor(t){super();$(this,gt);$(this,Pr);$(this,xt);$(this,we);$(this,In);M(this,Pr,t.client),this.mutationId=t.mutationId,M(this,we,t.mutationCache),M(this,xt,[]),this.state=t.state||sh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){g(this,xt).includes(t)||(g(this,xt).push(t),this.clearGcTimeout(),g(this,we).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){M(this,xt,g(this,xt).filter(n=>n!==t)),this.scheduleGc(),g(this,we).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){g(this,xt).length||(this.state.status==="pending"?this.scheduleGc():g(this,we).remove(this))}continue(){var t;return((t=g(this,In))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,d,y,p,u,j,w,x,_,h,f,m,b,T,k,P;const n=()=>{W(this,gt,$t).call(this,{type:"continue"})},r={client:g(this,Pr),meta:this.options.meta,mutationKey:this.options.mutationKey};M(this,In,Zm({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(v,C)=>{W(this,gt,$t).call(this,{type:"failed",failureCount:v,error:C})},onPause:()=>{W(this,gt,$t).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,we).canRun(this)}));const i=this.state.status==="pending",l=!g(this,In).canStart();try{if(i)n();else{W(this,gt,$t).call(this,{type:"pending",variables:t,isPaused:l}),g(this,we).config.onMutate&&await g(this,we).config.onMutate(t,this,r);const C=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t,r));C!==this.state.context&&W(this,gt,$t).call(this,{type:"pending",context:C,variables:t,isPaused:l})}const v=await g(this,In).start();return await((d=(c=g(this,we).config).onSuccess)==null?void 0:d.call(c,v,t,this.state.context,this,r)),await((p=(y=this.options).onSuccess)==null?void 0:p.call(y,v,t,this.state.context,r)),await((j=(u=g(this,we).config).onSettled)==null?void 0:j.call(u,v,null,this.state.variables,this.state.context,this,r)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,v,null,t,this.state.context,r)),W(this,gt,$t).call(this,{type:"success",data:v}),v}catch(v){try{await((h=(_=g(this,we).config).onError)==null?void 0:h.call(_,v,t,this.state.context,this,r))}catch(C){Promise.reject(C)}try{await((m=(f=this.options).onError)==null?void 0:m.call(f,v,t,this.state.context,r))}catch(C){Promise.reject(C)}try{await((T=(b=g(this,we).config).onSettled)==null?void 0:T.call(b,void 0,v,this.state.variables,this.state.context,this,r))}catch(C){Promise.reject(C)}try{await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,v,t,this.state.context,r))}catch(C){Promise.reject(C)}throw W(this,gt,$t).call(this,{type:"error",error:v}),v}finally{g(this,we).runNext(this)}}},Pr=new WeakMap,xt=new WeakMap,we=new WeakMap,In=new WeakMap,gt=new WeakSet,$t=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),he.batch(()=>{g(this,xt).forEach(r=>{r.onMutationUpdate(t)}),g(this,we).notify({mutation:this,type:"updated",action:t})})},Ru);function sh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _t,at,_r,Ou,fx=(Ou=class extends Ls{constructor(t={}){super();$(this,_t);$(this,at);$(this,_r);this.config=t,M(this,_t,new Set),M(this,at,new Map),M(this,_r,0)}build(t,n,r){const i=new hx({client:t,mutationCache:this,mutationId:++Ur(this,_r)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){g(this,_t).add(t);const n=si(t);if(typeof n=="string"){const r=g(this,at).get(n);r?r.push(t):g(this,at).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(g(this,_t).delete(t)){const n=si(t);if(typeof n=="string"){const r=g(this,at).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&g(this,at).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=si(t);if(typeof n=="string"){const r=g(this,at).get(n),i=r==null?void 0:r.find(l=>l.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=si(t);if(typeof n=="string"){const i=(r=g(this,at).get(n))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){he.batch(()=>{g(this,_t).forEach(t=>{this.notify({type:"removed",mutation:t})}),g(this,_t).clear(),g(this,at).clear()})}getAll(){return Array.from(g(this,_t))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cu(n,r))}findAll(t={}){return this.getAll().filter(n=>cu(t,n))}notify(t){he.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return he.batch(()=>Promise.all(t.map(n=>n.continue().catch(_e))))}},_t=new WeakMap,at=new WeakMap,_r=new WeakMap,Ou);function si(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Tt,Jt,Ie,Rt,At,vi,Ha,Du,px=(Du=class extends Ls{constructor(n,r){super();$(this,At);$(this,Tt);$(this,Jt);$(this,Ie);$(this,Rt);M(this,Tt,n),this.setOptions(r),this.bindMethods(),W(this,At,vi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=g(this,Tt).defaultMutationOptions(n),Vi(this.options,r)||g(this,Tt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:g(this,Ie),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Qn(r.mutationKey)!==Qn(this.options.mutationKey)?this.reset():((i=g(this,Ie))==null?void 0:i.state.status)==="pending"&&g(this,Ie).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=g(this,Ie))==null||n.removeObserver(this)}onMutationUpdate(n){W(this,At,vi).call(this),W(this,At,Ha).call(this,n)}getCurrentResult(){return g(this,Jt)}reset(){var n;(n=g(this,Ie))==null||n.removeObserver(this),M(this,Ie,void 0),W(this,At,vi).call(this),W(this,At,Ha).call(this)}mutate(n,r){var i;return M(this,Rt,r),(i=g(this,Ie))==null||i.removeObserver(this),M(this,Ie,g(this,Tt).getMutationCache().build(g(this,Tt),this.options)),g(this,Ie).addObserver(this),g(this,Ie).execute(n)}},Tt=new WeakMap,Jt=new WeakMap,Ie=new WeakMap,Rt=new WeakMap,At=new WeakSet,vi=function(){var r;const n=((r=g(this,Ie))==null?void 0:r.state)??sh();M(this,Jt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ha=function(n){he.batch(()=>{var r,i,l,a,o,c,d,y;if(g(this,Rt)&&this.hasListeners()){const p=g(this,Jt).variables,u=g(this,Jt).context,j={client:g(this,Tt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(i=(r=g(this,Rt)).onSuccess)==null||i.call(r,n.data,p,u,j)}catch(w){Promise.reject(w)}try{(a=(l=g(this,Rt)).onSettled)==null||a.call(l,n.data,null,p,u,j)}catch(w){Promise.reject(w)}}else if((n==null?void 0:n.type)==="error"){try{(c=(o=g(this,Rt)).onError)==null||c.call(o,n.error,p,u,j)}catch(w){Promise.reject(w)}try{(y=(d=g(this,Rt)).onSettled)==null||y.call(d,void 0,n.error,p,u,j)}catch(w){Promise.reject(w)}}}this.listeners.forEach(p=>{p(g(this,Jt))})})},Du),yt,Iu,xx=(Iu=class extends Ls{constructor(t={}){super();$(this,yt);this.config=t,M(this,yt,new Map)}build(t,n,r){const i=n.queryKey,l=n.queryHash??Wo(i,n);let a=this.get(l);return a||(a=new ox({client:t,queryKey:i,queryHash:l,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){g(this,yt).has(t.queryHash)||(g(this,yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=g(this,yt).get(t.queryHash);n&&(t.destroy(),n===t&&g(this,yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){he.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return g(this,yt).get(t)}getAll(){return[...g(this,yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ou(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ou(t,r)):n}notify(t){he.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){he.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){he.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yt=new WeakMap,Iu),oe,Zt,en,Ns,bs,tn,ws,Ss,Au,gx=(Au=class{constructor(e={}){$(this,oe);$(this,Zt);$(this,en);$(this,Ns);$(this,bs);$(this,tn);$(this,ws);$(this,Ss);M(this,oe,e.queryCache||new xx),M(this,Zt,e.mutationCache||new fx),M(this,en,e.defaultOptions||{}),M(this,Ns,new Map),M(this,bs,new Map),M(this,tn,0)}mount(){Ur(this,tn)._++,g(this,tn)===1&&(M(this,ws,Ho.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,oe).onFocus())})),M(this,Ss,Wi.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,oe).onOnline())})))}unmount(){var e,t;Ur(this,tn)._--,g(this,tn)===0&&((e=g(this,ws))==null||e.call(this),M(this,ws,void 0),(t=g(this,Ss))==null||t.call(this),M(this,Ss,void 0))}isFetching(e){return g(this,oe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return g(this,Zt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,oe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=g(this,oe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(hn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return g(this,oe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=g(this,oe).get(r.queryHash),l=i==null?void 0:i.state.data,a=Yp(t,l);if(a!==void 0)return g(this,oe).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return he.batch(()=>g(this,oe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=g(this,oe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=g(this,oe);he.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=g(this,oe);return he.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=he.batch(()=>g(this,oe).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(_e).catch(_e)}invalidateQueries(e,t={}){return he.batch(()=>(g(this,oe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=he.batch(()=>g(this,oe).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let l=i.fetch(void 0,n);return n.throwOnError||(l=l.catch(_e)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(_e)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=g(this,oe).build(this,t);return n.isStaleByTime(hn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_e).catch(_e)}fetchInfiniteQuery(e){return e.behavior=xu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_e).catch(_e)}ensureInfiniteQueryData(e){return e.behavior=xu(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wi.isOnline()?g(this,Zt).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,oe)}getMutationCache(){return g(this,Zt)}getDefaultOptions(){return g(this,en)}setDefaultOptions(e){M(this,en,e)}setQueryDefaults(e,t){g(this,Ns).set(Qn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...g(this,Ns).values()],n={};return t.forEach(r=>{Sr(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){g(this,bs).set(Qn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...g(this,bs).values()],n={};return t.forEach(r=>{Sr(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...g(this,en).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ko&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...g(this,en).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){g(this,oe).clear(),g(this,Zt).clear()}},oe=new WeakMap,Zt=new WeakMap,en=new WeakMap,Ns=new WeakMap,bs=new WeakMap,tn=new WeakMap,ws=new WeakMap,Ss=new WeakMap,Au),rh=N.createContext(void 0),ol=e=>{const t=N.useContext(rh);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yx=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(rh.Provider,{value:e,children:t})),ih=N.createContext(!1),vx=()=>N.useContext(ih);ih.Provider;function jx(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Nx=N.createContext(jx()),bx=()=>N.useContext(Nx),wx=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Go(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},Sx=e=>{N.useEffect(()=>{e.clearReset()},[e])},kx=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Go(n,[e.error,r])),Cx=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ex=(e,t)=>e.isLoading&&e.isFetching&&!t,Px=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yu=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _x(e,t,n){var u,j,w,x;const r=vx(),i=bx(),l=ol(),a=l.defaultQueryOptions(e);(j=(u=l.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||j.call(u,a);const o=l.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",Cx(a),wx(a,i,o),Sx(i);const c=!l.getQueryCache().get(a.queryHash),[d]=N.useState(()=>new t(l,a)),y=d.getOptimisticResult(a),p=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(_=>{const h=p?d.subscribe(he.batchCalls(_)):_e;return d.updateResult(),h},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(a)},[a,d]),Px(a,y))throw yu(a,d,i);if(kx({result:y,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw y.error;if((x=(w=l.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||x.call(w,a,y),a.experimental_prefetchInRender&&!$n&&Ex(y,r)){const _=c?yu(a,d,i):o==null?void 0:o.promise;_==null||_.catch(_e).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?y:d.trackResult(y)}function Tx(e,t){return _x(e,cx)}function Rx(e,t){const n=ol(),[r]=N.useState(()=>new px(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(he.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=N.useCallback((a,o)=>{r.mutate(a,o).catch(_e)},[r]);if(i.error&&Go(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}const lh=N.createContext(void 0);function Ox({children:e}){const[t,n]=N.useState(()=>localStorage.getItem("box-theme")||"dark");N.useEffect(()=>{localStorage.setItem("box-theme",t),document.documentElement.classList.remove("dark","light"),document.documentElement.classList.add(t)},[t]);const r=()=>{n(i=>i==="dark"?"light":"dark")};return s.jsx(lh.Provider,{value:{theme:t,toggleTheme:r},children:e})}function Ar(){const e=N.useContext(lh);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}async function Dx(){if(typeof window<"u"&&(new URLSearchParams(window.location.search).get("devAuth")==="1"||window.localStorage.getItem("devAuth")==="1"))return{id:"dev-user",email:"dev@example.com",firstName:"Dev",lastName:"User",profileImageUrl:null,role:"artist",businessName:null,displayName:"Dev User",boxCode:"DEV",authType:"oauth"};const n=await fetch("/api/auth/user",{credentials:"include"});if(n.status===401)return null;if(!n.ok)throw new Error(`${n.status}: ${n.statusText}`);return n.json()}async function Ix(){try{await fetch("/api/logout",{method:"POST",credentials:"include"}),window.location.href="/"}catch(e){console.error("Logout error:",e),window.location.href="/"}}function bt(){const e=ol(),{data:t,isLoading:n}=Tx({queryKey:["/api/auth/user"],queryFn:Dx,retry:!1,staleTime:1e3*60*5}),r=Rx({mutationFn:Ix,onSuccess:()=>{e.setQueryData(["/api/auth/user"],null)}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:r.mutate,isLoggingOut:r.isPending}}function Ax(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,l,a=[],o="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),l=i.indexOf(".",1),a.push(i.substring(1,~r?r:~l?l:i.length)),o+=~r&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~r?"?":"")+"\\"+i.substring(l))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var ah={exports:{}},oh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=N;function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fx=typeof Object.is=="function"?Object.is:Lx,Mx=Os.useState,Ux=Os.useEffect,zx=Os.useLayoutEffect,Bx=Os.useDebugValue;function $x(e,t){var n=t(),r=Mx({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return zx(function(){i.value=n,i.getSnapshot=t,Ul(i)&&l({inst:i})},[e,n,t]),Ux(function(){return Ul(i)&&l({inst:i}),e(function(){Ul(i)&&l({inst:i})})},[e]),Bx(n),n}function Ul(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fx(e,n)}catch{return!0}}function Qx(e,t){return t()}var Vx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qx:$x;oh.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:Vx;ah.exports=oh;var Wx=ah.exports;const Kx=Ah.useInsertionEffect,Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hx=Gx?N.useLayoutEffect:N.useEffect,Xx=Kx||Hx,ch=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return Xx(()=>{t[0]=e}),t[1]},qx="popstate",qo="pushState",Yo="replaceState",Yx="hashchange",vu=[qx,qo,Yo,Yx],Jx=e=>{for(const t of vu)addEventListener(t,e);return()=>{for(const t of vu)removeEventListener(t,e)}},uh=(e,t)=>Wx.useSyncExternalStore(Jx,e,t),ju=()=>location.search,Zx=({ssrSearch:e}={})=>uh(ju,e!=null?()=>e:ju),Nu=()=>location.pathname,eg=({ssrPath:e}={})=>uh(Nu,e!=null?()=>e:Nu),tg=(e,{replace:t=!1,state:n=null}={})=>history[t?Yo:qo](n,"",e),ng=(e={})=>[eg(e),tg],bu=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bu]>"u"){for(const e of[qo,Yo]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,bu,{value:!0})}const sg=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",dh=(e="")=>e==="/"?"":e,rg=(e,t)=>e[0]==="~"?e.slice(1):dh(t)+e,ig=(e="",t)=>sg(wu(dh(e)),wu(t)),wu=e=>{try{return decodeURI(e)}catch{return e}},mh={hook:ng,searchHook:Zx,parser:Ax,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},hh=N.createContext(mh),Lr=()=>N.useContext(hh),fh={},ph=N.createContext(fh),cl=()=>N.useContext(ph),ul=e=>{const[t,n]=e.hook(e);return[ig(e.base,t),ch((r,i)=>e.aroundNav(n,rg(r,e.base),i))]},dl=()=>ul(Lr()),xh=(e,t,n,r)=>{const{pattern:i,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=i.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const d=l!==!1?Object.fromEntries(l.map((p,u)=>[p,c[u]])):a.groups;let y={...c};return d&&Object.assign(y,d),y})(),...r?[o]:[]]:[!1,null]},lg=({children:e,...t})=>{var y,p,u;const n=Lr(),r=t.hook?mh:n;let i=r;const[l,a=t.ssrSearch??""]=((y=t.ssrPath)==null?void 0:y.split("?"))??[];l&&(t.ssrSearch=a,t.ssrPath=l),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs),t.searchHook=t.searchHook??((u=t.hook)==null?void 0:u.searchHook);let o=N.useRef({}),c=o.current,d=c;for(let j in r){const w=j==="base"?r[j]+(t[j]??""):t[j]??r[j];c===d&&w!==d[j]&&(o.current=d={...d}),d[j]=w,(w!==r[j]||w!==i[j])&&(i=d)}return N.createElement(hh.Provider,{value:i,children:e})},Su=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,ag=e=>{let t=N.useRef(fh);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},ft=({path:e,nest:t,match:n,...r})=>{const i=Lr(),[l]=ul(i),[a,o,c]=n??xh(i.parser,e,l,t),d=ag({...cl(),...o});if(!a)return null;const y=c?N.createElement(lg,{base:c},Su(r,d)):Su(r,d);return N.createElement(ph.Provider,{value:d,children:y})},Ve=N.forwardRef((e,t)=>{const n=Lr(),[r,i]=ul(n),{to:l="",href:a=l,onClick:o,asChild:c,children:d,className:y,replace:p,state:u,transition:j,...w}=e,x=ch(h=>{h.ctrlKey||h.metaKey||h.altKey||h.shiftKey||h.button!==0||(o==null||o(h),h.defaultPrevented||(h.preventDefault(),i(a,e)))}),_=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&N.isValidElement(d)?N.cloneElement(d,{onClick:x,href:_}):N.createElement("a",{...w,onClick:x,href:_,className:y!=null&&y.call?y(r===a):y,children:d,ref:t})}),gh=e=>Array.isArray(e)?e.flatMap(t=>gh(t&&t.type===N.Fragment?t.props.children:t)):[e],og=({children:e,location:t})=>{const n=Lr(),[r]=ul(n);for(const i of gh(e)){let l=0;if(N.isValidElement(i)&&(l=xh(n.parser,i.props.path,t||r,i.props.nest))[0])return N.cloneElement(i,{match:l})}return null};function cg({onComplete:e}){const[t,n]=N.useState([]),[r,i]=N.useState(!1),[l,a]=N.useState(""),[o,c]=N.useState(""),[d,y]=N.useState(!1),[p,u]=N.useState(!1),[j,w]=N.useState(!0),x=N.useRef(null),_=N.useRef(null);N.useEffect(()=>{r&&x.current&&!p&&x.current.focus()},[r,p]),N.useEffect(()=>{const f=setInterval(()=>{w(m=>!m)},500);return()=>clearInterval(f)},[]),N.useEffect(()=>{_.current&&_.current.scrollIntoView({behavior:"smooth"})},[t,r,o]),N.useEffect(()=>{const f=[{text:".rvr | REVERIE BIOS (C) 2026",delay:500},{text:"System Integrity Check ... 100%",delay:800},{text:"Processor: RVR-Elite 128-Core",delay:1200},{text:"Memory: 128TB Neural Link ... OK",delay:1500},{text:"Security Protocol: VAULT-7 Enforced",delay:1700},{text:"Biometric Scanners ... Active",delay:1900},{text:"Establishing Secure Tunnel ...",delay:2100},{text:"Encryption Key: RSA-4096 VALID",delay:2300},{text:"Mounting Virtual Drive ... REVERIE-MAIN",delay:2800},{text:"Accessing Archive ... RESTRICTED",delay:3300},{text:"Booting REVERIE OS...",delay:4e3},{text:"Initializing High-Fidelity Environment...",delay:5e3},{text:"Awaiting User Authentication...",delay:6e3}];let m=[];n([]);let b=0;f.forEach(k=>{b=k.delay;const P=setTimeout(()=>{n(v=>[...v,k.text])},k.delay);m.push(P)});const T=setTimeout(()=>{i(!0)},b+500);return m.push(T),()=>{m.forEach(clearTimeout)}},[]);const h=f=>{f.preventDefault(),l==="@LTL2026"?(y(!0),c(""),setTimeout(()=>{u(!0),setTimeout(()=>{e()},3500)},1e3)):(c("UNAUTHORIZED ACCESS DETECTED"),a(""),setTimeout(()=>c(""),2e3))};return p?s.jsx("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("img",{src:"/background_gif/Box2.gif",alt:"REVERIE",className:"w-64 h-64 mb-8 object-contain"}),s.jsx("div",{className:"text-white font-mono tracking-[0.8em] text-xs opacity-70",children:"ENTERING THE BOX"})]})}):s.jsxs("div",{className:"fixed inset-0 z-50 bg-black text-[#d4d4d4] font-mono p-8 overflow-y-auto cursor-text text-lg leading-relaxed select-none",onClick:()=>{var f;return(f=x.current)==null?void 0:f.focus()},children:[s.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col min-h-full",children:[s.jsx("div",{className:"mb-0 text-center opacity-80 border-b border-gray-800/50 pb-6 relative overflow-hidden",children:s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsx("pre",{className:"text-[6px] sm:text-[8px] md:text-[10px] leading-[6px] sm:leading-[8px] md:leading-[10px] text-accent font-bold whitespace-pre overflow-x-hidden opacity-50 select-none pointer-events-none",children:`
                                                                       
 _|_|_|    _|_|_|_|  _|      _|  _|_|_|_|  _|_|_|    _|_|_|  _|_|_|_|  
 _|    _|  _|        _|      _|  _|        _|    _|    _|    _|        
 _|_|_|    _|_|_|    _|      _|  _|_|_|    _|_|_|      _|    _|_|_|    
 _|    _|  _|          _|  _|    _|        _|    _|    _|    _|        
 _|    _|  _|_|_|_|      _|      _|_|_|_|  _|    _|  _|_|_|  _|_|_|_|  
                                                                       
                                                                       
`}),s.jsx("img",{src:"/background_gif/Box2.gif",alt:"RVR",className:"h-16 w-auto"}),s.jsxs("div",{className:"flex flex-col justify-center text-left",children:[s.jsx("span",{className:"font-bold text-white tracking-[0.2em] text-xl",children:".rvr"}),s.jsx("span",{className:"text-[10px] tracking-widest opacity-60",children:"REVERIE SYSTEM v2.0"})]})]})}),s.jsxs("div",{className:"flex-1",children:[t.map((f,m)=>s.jsx("div",{className:"mb-1 text-shadow-glow font-light tracking-wide",children:f},m)),r&&!d&&s.jsx("form",{onSubmit:h,className:"mt-8",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-white uppercase tracking-widest text-xs font-bold mb-2 opacity-80",children:"Authenticate Access Level 5:"}),s.jsxs("div",{className:"flex items-center group relative max-w-md",children:[s.jsx("span",{className:"mr-3 text-accent text-xl",children:""}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("input",{ref:x,type:"password",value:l,onChange:f=>a(f.target.value),className:"bg-transparent border-b border-gray-700 focus:border-white transition-colors outline-none text-white w-full font-mono text-xl py-1 tracking-widest placeholder-gray-800",autoComplete:"off",autoFocus:!0,placeholder:"",style:{caretColor:"transparent",color:"transparent"}}),s.jsxs("span",{className:"absolute left-0 font-mono text-xl tracking-widest pointer-events-none",children:[s.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:l.replace(/./g,"")}),s.jsx("span",{style:{color:j?"rgba(255, 255, 255, 0.6)":"transparent",textShadow:j?"0 0 4px rgba(255, 255, 255, 0.3)":"none",transition:"all 0.2s ease-in-out"},children:""})]})]})]})]})}),o&&s.jsx("div",{className:"mt-4 text-red-500 font-bold bg-red-900/20 inline-block px-2 py-1 border border-red-500/50 blink",children:o}),d&&s.jsxs("div",{className:"mt-6 text-white font-bold",children:[s.jsx("div",{className:"text-green-400",children:"ACCESS GRANTED"}),s.jsx("div",{className:"mt-2",children:"Welcome to THE BOX."})]}),s.jsx("div",{ref:_})]}),s.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-2 flex justify-between text-xs text-gray-500 uppercase",children:[s.jsx("span",{children:"LTL BIOS v1.0.2"}),s.jsx("span",{children:"Mem: 64328K OK"})]})]}),s.jsx("style",{children:`
                @keyframes blink {
                  0%, 100% { opacity: 1; }
                  50% { opacity: 0; }
                }
                .blink {
                  animation: blink 1s step-end infinite;
                }
                /* Override global font for this component */
                * {
                  font-family: 'Courier New', Courier, monospace !important;
                }
            `})]})}function ug(){const e=ol(),{theme:t,toggleTheme:n}=Ar(),[r,i]=N.useState("login"),[l,a]=N.useState(""),[o,c]=N.useState(""),[d,y]=N.useState(""),[p,u]=N.useState(""),[j,w]=N.useState(""),[x,_]=N.useState("artist"),[h,f]=N.useState(""),[m,b]=N.useState(""),[T,k]=N.useState(""),[P,v]=N.useState(""),[C,E]=N.useState(!1),[I,U]=N.useState(!1);async function Q(R){R.preventDefault(),k(""),v(""),E(!0);try{const S=await fetch(r==="register"?"/api/auth/register":"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r==="register"?{email:l,password:o,displayName:d,firstName:p,lastName:j,role:x,businessName:x==="studio"?h:null,studioCode:x==="artist"&&m?m:null}:{email:l,password:o}),credentials:"include"}),O=await S.json();if(!S.ok){if(O.needsVerification){a(O.email||l),i("verify");return}k(O.message||"Something went wrong");return}if(O.needsVerification){i("verify"),v(O.message);return}await e.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.reload()}catch{k("Failed to connect. Please try again.")}finally{E(!1)}}async function K(){U(!0),k(""),v("");try{const R=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}),B=await R.json();R.ok?v("Verification email sent! Check your inbox."):k(B.message||"Failed to resend email")}catch{k("Failed to resend verification email")}finally{U(!1)}}return r==="verify"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6"}),s.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider block mb-3 sm:mb-4",children:"BOX"}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"Check Your Email"}),s.jsxs("p",{className:"text-sm sm:text-base text-theme-secondary mb-4 sm:mb-6",children:["We've sent a verification link to ",s.jsx("span",{className:"text-accent break-all",children:l})]}),s.jsx("p",{className:"text-theme-muted text-xs sm:text-sm mb-6 sm:mb-8",children:"Click the link in the email to verify your account. The link expires in 24 hours."}),P&&s.jsx("p",{className:"text-green-400 text-xs sm:text-sm mb-4",children:P}),T&&s.jsx("p",{className:"text-red-400 text-xs sm:text-sm mb-4",children:T}),s.jsx("button",{onClick:K,disabled:I,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-3 sm:py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50 mb-4 text-sm sm:text-base",children:I?"Sending...":"Resend Verification Email"}),s.jsx("button",{onClick:()=>i("login"),className:"text-theme-muted hover:text-theme-primary text-xs sm:text-sm",children:"Back to Sign In"})]})}):s.jsxs("div",{className:"min-h-screen flex bg-theme-primary",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-theme-primary p-12 flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-10 h-10"}),s.jsx("span",{className:"text-2xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:["Your Creative Work,"," ",s.jsx("span",{className:"text-accent",children:"Protected."})]}),s.jsx("p",{className:"text-theme-secondary text-lg max-w-md",children:"Track projects from concept to publication. Manage metadata, generate agreements, and protect your intellectual property."})]}),s.jsx("div",{className:"text-theme-muted text-sm",children:s.jsx("p",{children:" 2026 BOX by luctheleo.com | REVERIE | RVR Creative Development"})})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 sm:gap-3 mb-6 sm:mb-8",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8 sm:w-10 sm:h-10"}),s.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"absolute top-3 sm:top-4 right-3 sm:right-4 text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]}),s.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:r==="login"?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:r==="login"?"Sign in to manage your creative assets":"Join BOX today"})]}),s.jsxs("a",{href:"/api/auth/google",className:"flex items-center justify-center gap-3 w-full bg-white text-black font-bold py-3 px-8 rounded-lg transition-colors hover:bg-gray-100 text-center mb-3",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("div",{className:"flex items-center gap-4 my-6",children:[s.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"}),s.jsx("span",{className:"text-theme-muted text-sm",children:"or use email"}),s.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[r==="register"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-2",children:"I am a..."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>_("artist"),className:`p-3 rounded-lg border-2 transition-colors text-left ${x==="artist"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[s.jsx("p",{className:"font-bold text-sm",children:"Artist"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Individual creator"})]}),s.jsxs("button",{type:"button",onClick:()=>_("studio"),className:`p-3 rounded-lg border-2 transition-colors text-left ${x==="studio"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[s.jsx("p",{className:"font-bold text-sm",children:"Studio"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Manage artists"})]})]})]}),x==="studio"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Business Name *"}),s.jsx("input",{type:"text",value:h,onChange:R=>f(R.target.value),className:"input-field w-full p-3 rounded",placeholder:"Your studio or label name",required:!0})]}),x==="artist"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Studio Code (Optional)"}),s.jsx("input",{type:"text",value:m,onChange:R=>b(R.target.value.toUpperCase()),className:"input-field w-full p-3 rounded font-mono",placeholder:"BOX-XXXXXX",maxLength:12}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Have a studio code? Enter it to join their network."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:x==="artist"?"Artist / Stage Name *":"Your Name *"}),s.jsx("input",{type:"text",value:d,onChange:R=>y(R.target.value),className:"input-field w-full p-3 rounded",placeholder:x==="artist"?"Your stage name":"Your name",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"First Name"}),s.jsx("input",{type:"text",value:p,onChange:R=>u(R.target.value),className:"input-field w-full p-3 rounded",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Last Name"}),s.jsx("input",{type:"text",value:j,onChange:R=>w(R.target.value),className:"input-field w-full p-3 rounded",placeholder:"Doe"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Email"}),s.jsx("input",{type:"email",value:l,onChange:R=>a(R.target.value),className:"input-field w-full p-3 rounded",placeholder:"you@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Password"}),s.jsx("input",{type:"password",value:o,onChange:R=>c(R.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter password",required:!0,minLength:6})]}),T&&s.jsx("p",{className:"text-red-400 text-sm",children:T}),s.jsx("button",{type:"submit",disabled:C,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50",children:C?"Please wait...":r==="login"?"Sign In":"Create Account"})]}),s.jsx("p",{className:"text-center text-theme-muted text-sm mt-6",children:r==="login"?s.jsxs(s.Fragment,{children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>i("register"),className:"text-accent hover:underline",children:"Sign up"})]}):s.jsxs(s.Fragment,{children:["Already have an account?"," ",s.jsx("button",{onClick:()=>i("login"),className:"text-accent hover:underline",children:"Sign in"})]})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-theme",children:[s.jsx("h3",{className:"text-sm font-bold text-theme-secondary mb-4 text-center",children:"Features"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Project Tracking"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Concept to publication"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"IP Protection"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Step-by-step guidance"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Agreements"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Generate legal docs"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Creative Space"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Private inspiration"})]})]})]})]})})]})}const ri=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function dg({className:e="",alt:t="BOX logo"}){const[n,r]=N.useState(null);return N.useEffect(()=>{if(!ri.length)return;const i=sessionStorage.getItem("bg_logo_last"),l=i?parseInt(i,10):-1;let a=0;if(ri.length===1)a=0;else{const o=ri.map((c,d)=>d).filter(c=>c!==l);a=o[Math.floor(Math.random()*o.length)]}r(a),sessionStorage.setItem("bg_logo_last",String(a))},[]),n===null?s.jsx("img",{src:"/box-logo.png",alt:t,className:e}):s.jsx("img",{src:ri[n],alt:t,className:e})}function nt({showNav:e=!0}){const{user:t}=bt(),{theme:n,toggleTheme:r}=Ar(),[i,l]=N.useState(!1),[a,o]=dl(),[c,d]=N.useState(!1),[y,p]=N.useState(""),[u,j]=N.useState([]),[w,x]=N.useState(!1),_=N.useRef(null),h=[{type:"page",title:"Dashboard",subtitle:"Home",href:"/"},{type:"page",title:"Creative Space",subtitle:"Notes & inspiration",href:"/creative"},{type:"page",title:"Agreements",subtitle:"Generate contracts",href:"/generator"},{type:"page",title:"Saved Agreements",subtitle:"Your saved contracts",href:"/documents"},{type:"page",title:"Community",subtitle:"Shared content",href:"/community"}];N.useEffect(()=>{function k(P){_.current&&!_.current.contains(P.target)&&d(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),N.useEffect(()=>{if(!y.trim()){j([]);return}const k=y.toLowerCase(),P=h.filter(E=>{var I,U;return E.title.toLowerCase().includes(k)||((I=E.subtitle)==null?void 0:I.toLowerCase().includes(k))||((U=E.href)==null?void 0:U.toLowerCase().includes(k))});async function v(){x(!0);const E=[...P];try{const[I,U]=await Promise.all([fetch("/api/projects"),fetch("/api/creative/notes")]);I.ok&&((await I.json()).projects||[]).filter(R=>{var B;return R.title.toLowerCase().includes(k)||((B=R.type)==null?void 0:B.toLowerCase().includes(k))}).slice(0,5).forEach(R=>{E.push({type:"project",id:R.id,title:R.title,subtitle:`${R.type} - ${R.status}`,href:`/project/${R.id}`})}),U.ok&&((await U.json()).notes||[]).filter(R=>{var B,L;return((B=R.content)==null?void 0:B.toLowerCase().includes(k))||((L=R.category)==null?void 0:L.toLowerCase().includes(k))}).slice(0,5).forEach(R=>{var B,L;E.push({type:"note",id:R.id,title:((B=R.content)==null?void 0:B.substring(0,50))+(((L=R.content)==null?void 0:L.length)>50?"...":""),subtitle:R.category,href:"/creative"})})}catch(I){console.error("Search error:",I)}j(E.slice(0,10)),x(!1)}const C=setTimeout(v,300);return()=>clearTimeout(C)},[y]);function f(k){d(!1),p(""),o(k.href)}const b=(t==null?void 0:t.role)==="studio"?[{href:"/",label:"Dashboard"},{href:"/studio",label:"Studio"},{href:"/documents",label:"Documents"},{href:"/submissions",label:"Submissions"},{href:"/settings",label:"Settings"}]:[{href:"/",label:"Dashboard"},{href:"/creative",label:"Creative"},{href:"/documents",label:"Documents"},{href:"/submissions",label:"Submissions"},{href:"/epk",label:"EPK"},{href:"/settings",label:"Settings"}],T=k=>k==="/"?a==="/":a.startsWith(k);return s.jsxs("header",{className:"border-b border-theme p-3 sm:p-4 relative",children:[s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-2",children:[s.jsx(Ve,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer",children:[s.jsx(dg,{className:"w-6 h-6 sm:w-8 sm:h-8"}),s.jsx("span",{className:"text-lg sm:text-xl brand-font tracking-wider text-theme-primary",children:"BOX"})]})}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:_,className:"relative hidden sm:block flex-1 max-w-xs mx-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search projects, notes, docs...",value:y,onChange:k=>p(k.target.value),onFocus:()=>d(!0),className:"w-full input-field px-3 py-1.5 rounded text-sm pl-8"}),s.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c&&!y&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 p-3",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Try searching for:"}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsx("button",{onClick:()=>p("docs"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"docs" - Documentation & guides'}),s.jsx("button",{onClick:()=>p("agreements"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"agreements" - Generate contracts'}),s.jsx("button",{onClick:()=>p("community"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"community" - Shared content'})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3 pt-2 border-t border-theme",children:"Also searches your projects and notes"})]}),c&&y&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[w&&s.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"Searching..."}),!w&&u.length===0&&y&&s.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"No results found"}),!w&&u.map((k,P)=>s.jsxs("button",{onClick:()=>f(k),className:"w-full text-left px-3 py-2 hover:bg-theme-tertiary transition-colors flex items-center gap-3",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${k.type==="project"?"bg-accent text-accent-contrast":k.type==="note"?"bg-theme-tertiary text-theme-muted":"bg-theme-primary text-theme-secondary"}`,children:k.type==="project"?"PRJ":k.type==="note"?"NOTE":"PAGE"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-theme-primary truncate",children:k.title}),k.subtitle&&s.jsx("div",{className:"text-xs text-theme-muted truncate",children:k.subtitle})]})]},`${k.type}-${k.id||P}`))]})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-6",children:b.map(k=>s.jsx(Ve,{href:k.href,children:s.jsx("span",{className:`text-sm cursor-pointer transition-colors ${T(k.href)?"text-theme-primary font-bold":"text-theme-muted hover:text-theme-primary"}`,children:k.label})},k.href))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:r,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",title:"Toggle theme",children:["[",n,"]"]}),s.jsx("a",{href:"/api/logout",className:"hidden sm:inline text-theme-muted hover:text-theme-primary text-xs",children:"Logout"}),s.jsx("button",{onClick:()=>l(!i),className:"md:hidden p-1 text-theme-primary","aria-label":"Toggle menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),i&&e&&s.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-theme-secondary border-b border-theme z-50",children:s.jsxs("nav",{className:"flex flex-col p-4 space-y-3",children:[b.map(k=>s.jsx(Ve,{href:k.href,children:s.jsx("span",{onClick:()=>l(!1),className:`block text-sm cursor-pointer py-2 px-3 rounded ${T(k.href)?"bg-theme-tertiary text-theme-primary font-bold":"text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary"}`,children:k.label})},k.href)),s.jsxs("div",{className:"border-t border-theme pt-3 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[(t==null?void 0:t.profileImageUrl)&&s.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-sm text-theme-secondary",children:(t==null?void 0:t.firstName)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),s.jsx("a",{href:"/api/logout",className:"block text-sm text-red-400 hover:text-red-300 px-3 py-2",onClick:()=>l(!1),children:"Logout"})]})]})})]})}function mg(){var x,_;bt();const[e,t]=N.useState([]),[n,r]=N.useState(!0),[i,l]=N.useState(!1),[a,o]=N.useState(null),[c,d]=N.useState("all");N.useEffect(()=>{y()},[]);async function y(){try{const h=await fetch("/api/projects");if(h.ok){const f=await h.json();t(f.projects||[])}}catch(h){console.error("Failed to load projects:",h)}finally{r(!1)}}async function p(h){h.preventDefault();const f=h.currentTarget,m=new FormData(f),b={title:m.get("title"),type:m.get("type"),status:m.get("status"),description:m.get("description"),metadata:{isrc:m.get("isrc")||null,upc:m.get("upc")||null,copyright:m.get("copyright")||null,release_date:m.get("release_date")||null}},T=a?`/api/projects/${a.id}`:"/api/projects",k=a?"PUT":"POST";try{(await fetch(T,{method:k,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok&&(l(!1),o(null),y())}catch(P){console.error("Failed to save project:",P)}}async function u(h){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`/api/projects/${h}`,{method:"DELETE"})).ok&&y()}catch(f){console.error("Failed to delete project:",f)}}const j=c==="all"?e:e.filter(h=>h.status===c),w={total:e.length,concept:e.filter(h=>h.status==="concept").length,development:e.filter(h=>h.status==="development").length,published:e.filter(h=>h.status==="published").length};return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Projects"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Track your creative work from concept to publication"})]}),s.jsx("button",{onClick:()=>{o(null),l(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Project"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-accent",children:w.total}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Total"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-theme-secondary",children:w.concept}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Concept"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:w.development}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Development"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:w.published}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Published"})]})]}),s.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:["all","concept","development","review","published"].map(h=>s.jsx("button",{onClick:()=>d(h),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${c===h?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),n?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):j.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No projects yet. Create your first one!"}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:j.map(h=>s.jsx("div",{className:"card p-3 sm:p-4 rounded-xl hover:border-theme cursor-pointer",onClick:()=>{o(h),l(!0)},children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx("span",{className:`status-${h.status} px-2 py-1 rounded text-xs uppercase`,children:h.status}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm sm:text-base",children:h.title}),s.jsx("p",{className:"text-xs text-theme-muted",children:h.type}),s.jsxs("p",{className:"text-xs text-theme-accent font-mono",children:[" ",h.rootFolder,"/",(h.folderPath||"").split("/")[1]]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[s.jsx(Ve,{href:`/project/${h.id}`,onClick:f=>f.stopPropagation(),className:"text-theme-muted hover:text-accent text-xs sm:text-sm",children:"Details"}),s.jsx("button",{onClick:f=>{f.stopPropagation(),u(h.id)},className:"text-theme-muted hover:text-red-400 text-xs sm:text-sm",children:"Delete"})]})]})},h.id))})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:s.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-accent",children:a?"Edit Project":"New Project"}),s.jsx("button",{onClick:()=>l(!1),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Title *"}),s.jsx("input",{name:"title",defaultValue:a==null?void 0:a.title,required:!0,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Type"}),s.jsxs("select",{name:"type",defaultValue:(a==null?void 0:a.type)||"single",className:"input-field w-full p-2 rounded",children:[s.jsx("option",{value:"single",children:"Single"}),s.jsx("option",{value:"ep",children:"EP"}),s.jsx("option",{value:"album",children:"Album"}),s.jsx("option",{value:"beat",children:"Beat"}),s.jsx("option",{value:"sample",children:"Sample Pack"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Status"}),s.jsxs("select",{name:"status",defaultValue:(a==null?void 0:a.status)||"concept",className:"input-field w-full p-2 rounded",children:[s.jsx("option",{value:"concept",children:"Concept"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"published",children:"Published"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Description"}),s.jsx("textarea",{name:"description",defaultValue:(a==null?void 0:a.description)||"",rows:3,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"ISRC"}),s.jsx("input",{name:"isrc",defaultValue:((x=a==null?void 0:a.metadata)==null?void 0:x.isrc)||"",className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"UPC"}),s.jsx("input",{name:"upc",defaultValue:((_=a==null?void 0:a.metadata)==null?void 0:_.upc)||"",className:"input-field w-full p-2 rounded"})]})]}),s.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:a?"Save Changes":"Create Project"})]})]})})]})}function hg(e={}){const[t,n]=N.useState(!1),[r,i]=N.useState(null),[l,a]=N.useState(0),o=N.useCallback(async p=>{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.name,size:p.size,contentType:p.type||"application/octet-stream"})});if(!u.ok){const j=await u.json().catch(()=>({}));throw new Error(j.error||"Failed to get upload URL")}return u.json()},[]),c=N.useCallback(async(p,u)=>{if(!(await fetch(u,{method:"PUT",body:p,headers:{"Content-Type":p.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),d=N.useCallback(async p=>{var u,j;n(!0),i(null),a(0);try{a(10);const w=await o(p);return a(30),await c(p,w.uploadURL),a(100),(u=e.onSuccess)==null||u.call(e,w),w}catch(w){const x=w instanceof Error?w:new Error("Upload failed");return i(x),(j=e.onError)==null||j.call(e,x),null}finally{n(!1)}},[o,c,e]),y=N.useCallback(async p=>{const u=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:p.name,size:p.size,contentType:p.type||"application/octet-stream"})});if(!u.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await u.json()).uploadURL,headers:{"Content-Type":p.type||"application/octet-stream"}}},[]);return{uploadFile:d,getUploadParameters:y,isUploading:t,error:r,progress:l}}function fg(){bt();const[e,t]=N.useState([]),[n,r]=N.useState(!0),[i,l]=N.useState("all"),[a,o]=N.useState(!1),[c,d]=N.useState(null),[y,p]=N.useState(""),[u,j]=N.useState(null),[w,x]=N.useState(null),[_,h]=N.useState([]),f=N.useRef(null),{uploadFile:m}=hg({onSuccess:D=>{p(D.objectPath)},onError:D=>{console.error("Upload failed:",D)}}),b=()=>{k(),P()},T=["all","ideas","lyrics","inspiration","audio","visual","journal"];N.useEffect(()=>{k(),P()},[i]);async function k(){r(!0);try{const D=await fetch("/api/creative/notes");if(D.ok){const V=await D.json();t(V.notes||[])}}catch(D){console.error("Failed to load notes:",D)}finally{r(!1)}}async function P(){r(!0);try{const D=await fetch("/api/community/my-submissions");if(D.ok){const V=await D.json();h(V.submissions||[])}}catch(D){console.error("Failed to load submissions:",D)}finally{r(!1)}}async function v(D){try{const V=await fetch("/api/community/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:D})});if(V.ok)P(),alert("Note submitted for community sharing! It will be visible once approved.");else{const ae=await V.json();alert(ae.message||"Failed to submit")}}catch(V){console.error("Failed to share note:",V)}}function C(D){const V=_.find(ae=>ae.noteId===D);return(V==null?void 0:V.status)||null}async function E(D){var Gn;D.preventDefault();const V=D.currentTarget,ae=new FormData(V),Fr=ae.get("media_url"),vn={content:ae.get("content"),category:ae.get("category"),media_url:y||Fr||null,tags:((Gn=ae.get("tags"))==null?void 0:Gn.split(",").map(Mr=>Mr.trim()).filter(Boolean))||[]};vn.content,vn.category,vn.tags;const ze=c?`/api/creative/notes/${c.id}`:"/api/creative/notes",Ce=c?"PUT":"POST";try{(await fetch(ze,{method:Ce,headers:{"Content-Type":"application/json"},body:JSON.stringify(vn)})).ok&&(o(!1),d(null),p(""),k())}catch(Mr){console.error("Failed to save note:",Mr)}}async function I(D){if(confirm("Delete this note?"))try{(await fetch(`/api/creative/notes/${D}`,{method:"DELETE"})).ok&&k()}catch(V){console.error("Failed to delete note:",V)}}async function U(D){var V;try{const ae=((V=e.find(ze=>ze.id===D))==null?void 0:V.sortOrder)+1,Fr=e.map(ze=>ze.id===D?{...ze,sortOrder:ae,is_pinned:!ze.is_pinned}:ze);(await fetch(`/api/creative/notes/${D}/pin`,{method:"POST"})).ok||t(ze=>ze.map(Ce=>Ce.id===D?{...Ce,sortOrder:ae,is_pinned:!Ce.is_pinned}:Ce))}catch(ae){console.error("Failed to toggle pin:",ae),k()}}function Q(D,V){j(V),D.dataTransfer.effectAllowed="move"}function K(D,V){D.preventDefault(),x(V)}function R(){x(null)}async function B(D,V){if(D.preventDefault(),x(null),!u||u.id===V.id){j(null);return}const ae=[...e],Fr=ae.findIndex(Ce=>Ce.id===u.id),vn=ae.findIndex(Ce=>Ce.id===V.id);ae.splice(Fr,1),ae.splice(vn,0,u);const ze=ae.map((Ce,Gn)=>({...Ce,sort_order:Gn}));t(ze),j(null);try{(await fetch("/api/creative/notes/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteIds:ze.map(Gn=>Gn.id)})})).ok||k()}catch(Ce){console.error("Failed to reorder notes:",Ce),k()}}function L(){j(null),x(null)}const O=[...i==="all"?e:e.filter(D=>D.category===i)].sort((D,V)=>D.is_pinned&&!V.is_pinned?-1:!D.is_pinned&&V.is_pinned?1:(D.sort_order||0)-(V.sort_order||0)),[F,q]=N.useState(1),[ne,Kn]=N.useState(12),st=Math.max(1,Math.ceil(O.length/ne));N.useEffect(()=>{q(1)},[i,e,ne]);const Fs=O.slice((F-1)*ne,F*ne);function wt(D){return D?D.includes("pinterest.com")||D.includes("pin.it")||D.includes("twitter.com")||D.includes("x.com")||D.includes("youtube.com")||D.includes("youtu.be")||D.includes("spotify.com")||D.includes("soundcloud.com")||D.match(/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i)?s.jsx("a",{href:D,target:"_blank",rel:"noreferrer",className:"block p-4 rounded-xl bg-theme-tertiary/20 border border-white/5 hover:border-accent/30 transition-colors mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-theme-muted truncate mr-2",children:D}),s.jsx("span",{className:"text-accent",children:""})]})}):s.jsxs("a",{href:D,target:"_blank",rel:"noreferrer",className:"text-accent text-xs hover:underline block mb-3",children:[D.length>40?D.substring(0,40)+"...":D," "]}):null}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Private Space"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Capture ideas, inspiration, and creative notes"})]}),s.jsx("button",{onClick:()=>{d(null),p(""),o(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Note"})]}),s.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:T.map(D=>s.jsx("button",{onClick:()=>l(D),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${i===D?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:D.charAt(0).toUpperCase()+D.slice(1)},D))}),n?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):O.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No notes yet. Start capturing your ideas!"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Fs.map(D=>s.jsxs("div",{draggable:i==="all",onDragStart:V=>{i==="all"&&Q(V,D)},onDragOver:V=>{V.preventDefault(),i==="all"&&K(V,D.id)},onDragLeave:R,onDrop:V=>{i==="all"&&B(V,D)},onDragEnd:L,className:`card p-4 rounded-xl transition-all ${i==="all"?"cursor-move":""} ${D.is_pinned?"border-accent":""} ${(u==null?void 0:u.id)===D.id?"opacity-50 scale-95":""} ${w===D.id?"ring-2 ring-accent scale-105":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-theme-muted uppercase",children:D.category}),D.is_pinned&&s.jsx("span",{className:"text-xs text-accent",children:"[pinned]"})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[(()=>{const V=C(D.id);return V==="pending"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-400",children:"pending"}):V==="approved"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"shared"}):V==="rejected"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/20 text-red-400",children:"declined"}):s.jsx("button",{type:"button",onClick:()=>v(D.id),className:"text-xs px-2 py-0.5 rounded bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary",title:"Submit to community",children:"share"})})(),s.jsx("button",{type:"button",onClick:()=>U(D.id),className:`text-xs px-2 py-0.5 rounded ${D.is_pinned?"bg-accent text-theme-primary":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,style:D.is_pinned?{color:"var(--bg-primary)"}:{},children:D.is_pinned?"unpin":"pin"}),s.jsx("button",{type:"button",onClick:()=>{d(D),o(!0)},className:"text-theme-muted hover:text-theme-primary text-sm",children:""}),s.jsx("button",{type:"button",onClick:()=>I(D.id),className:"text-theme-muted hover:text-red-400 text-sm",children:""})]})]}),D.media_url&&wt(D.media_url),s.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3 text-theme-primary",children:D.content}),D.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:D.tags.map(V=>s.jsx("span",{className:"tag-pill",children:V},V))})]},D.id))}),s.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-theme-muted",children:[s.jsx("button",{onClick:()=>q(D=>Math.max(1,D-1)),disabled:F===1,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:" Prev"}),s.jsxs("span",{children:["Page ",F," of ",st]}),s.jsx("button",{onClick:()=>q(D=>Math.min(st,D+1)),disabled:F===st,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:"Next "})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{className:"text-theme-muted",children:"Per page:"}),s.jsxs("select",{value:ne,onChange:D=>Kn(Number(D.target.value)),className:"input-field text-sm",children:[s.jsx("option",{value:6,children:"6"}),s.jsx("option",{value:12,children:"12"}),s.jsx("option",{value:24,children:"24"})]})]})]})]})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:s.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-accent",children:c?"Edit Note":"New Note"}),s.jsx("button",{onClick:()=>o(!1),className:"text-theme-muted hover:text-theme-primary text-xl p-1",children:""})]}),s.jsxs("form",{onSubmit:E,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Category"}),s.jsx("select",{name:"category",defaultValue:(c==null?void 0:c.category)||"ideas",className:"input-field w-full p-2 rounded",children:T.filter(D=>D!=="all").map(D=>s.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Content *"}),s.jsx("textarea",{name:"content",defaultValue:c==null?void 0:c.content,required:!0,rows:5,className:"input-field w-full p-2 rounded",placeholder:"Write your thoughts..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Media"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{name:"media_url",defaultValue:(c==null?void 0:c.media_url)||"",className:"input-field w-full p-2 rounded",placeholder:"YouTube, SoundCloud, URL...",disabled:!!y}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-theme-muted",children:"or"}),s.jsx("input",{ref:f,type:"file",accept:"image/*,audio/*,video/*",onChange:D=>{var ae;const V=(ae=D.target.files)==null?void 0:ae[0];V&&m(V)},className:"hidden"}),s.jsx("button",{onClick:b,className:"px-3 py-1 text-xs bg-theme-tertiary rounded hover:bg-theme-secondary",children:"Refresh"}),y&&s.jsx("span",{className:"text-xs text-green-500",children:" Uploaded"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Tags"}),s.jsx("input",{name:"tags",defaultValue:(c==null?void 0:c.tags.join(", "))||"",className:"input-field w-full p-2 rounded",placeholder:"Separate with commas"})]}),s.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:c?"Save Changes":"Create Note"})]})]})})]})}const ii=[{id:"fixation",title:"1. Fix Your Work",fee:"FREE",description:"Record or document in tangible form",fields:[{key:"fixation_date",label:"Date Fixed",type:"date",placeholder:"When was it recorded?"},{key:"fixation_format",label:"Format",type:"text",placeholder:"Audio file, video, manuscript..."}]},{id:"copyright",title:"2. Register Copyright",fee:"$45-65",description:"File with US Copyright Office",fields:[{key:"copyright_reg_number",label:"Registration Number",type:"text",placeholder:"e.g., SR0000123456"},{key:"copyright_date",label:"Registration Date",type:"date",placeholder:""}]},{id:"pro",title:"3. Join a PRO",fee:"FREE-$50",description:"ASCAP, BMI for royalty collection",fields:[{key:"pro_name",label:"PRO Name",type:"select",options:["ASCAP","BMI","SESAC","GMR","Other"]},{key:"pro_member_id",label:"Member ID",type:"text",placeholder:"Your PRO member ID"}]},{id:"register_song",title:"4. Register Composition",fee:"FREE",description:"Get ISWC from your PRO",fields:[{key:"iswc",label:"ISWC",type:"text",placeholder:"e.g., T-123.456.789-0"}]},{id:"distributor",title:"5. Upload to Distributor",fee:"$0-30/yr",description:"Get ISRC and UPC codes",fields:[{key:"distributor",label:"Distributor",type:"text",placeholder:"DistroKid, TuneCore, CD Baby..."},{key:"isrc",label:"ISRC",type:"text",placeholder:"e.g., USRC12345678"},{key:"upc",label:"UPC",type:"text",placeholder:"e.g., 012345678901"}]},{id:"release",title:"6. Release & Monitor",fee:"N/A",description:"Track performance and royalties",fields:[{key:"release_date",label:"Release Date",type:"date",placeholder:""},{key:"release_notes",label:"Notes",type:"text",placeholder:"Streaming links, first week stats..."}]}];function pg(){const{id:e}=cl(),[t,n]=N.useState(null),[r,i]=N.useState(!0),[l,a]=N.useState(null),[o,c]=N.useState(!1),[d,y]=N.useState({});N.useEffect(()=>{p()},[e]);async function p(){var w,x;try{const _=await fetch(`/api/projects/${e}`);if(_.ok){const h=await _.json();n(h.project),y(((x=(w=h.project)==null?void 0:w.metadata)==null?void 0:x.workflow)||{})}}catch(_){console.error("Failed to load project:",_)}finally{i(!1)}}async function u(w){if(!t)return;const x={...d,[`${w}_complete`]:!d[`${w}_complete`]};y(x),c(!0);try{const _={...t.metadata,workflow:x},h=await fetch(`/api/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:_})});if(h.ok){const f=await h.json();n(f.project)}}catch(_){console.error("Failed to update workflow:",_)}finally{c(!1)}}function j(w,x,_){y(h=>({...h,[x]:_}))}return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):t?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("span",{className:`status-${t.status} px-3 py-1 rounded text-xs uppercase`,children:t.status}),s.jsx("span",{className:"text-theme-muted text-sm",children:t.type})]}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.title}),s.jsx("p",{className:"text-theme-secondary",children:t.description||"No description"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-accent",children:"IP Protection Workflow"}),s.jsx("p",{className:"text-theme-muted text-sm",children:"Click each step to track your progress and enter details."})]}),s.jsx(Ve,{href:"/docs",className:"text-xs text-accent hover:underline whitespace-nowrap",children:"View full guide "})]}),(()=>{const w=ii.filter(_=>d[`${_.id}_complete`]).length,x=Math.round(w/ii.length*100);return s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-theme-secondary",children:[w," of ",ii.length," steps complete"]}),s.jsxs("span",{className:"text-sm font-bold text-accent",children:[x,"%"]})]}),s.jsx("div",{className:"h-3 bg-theme-tertiary rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${x}%`}})})]})})(),s.jsx("div",{className:"space-y-3",children:ii.map(w=>{const x=d[`${w.id}_complete`],_=l===w.id;return s.jsxs("div",{className:`card rounded-lg border transition-all ${x?"step-complete":"step-pending"}`,children:[s.jsxs("button",{onClick:()=>a(_?null:w.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[s.jsx("div",{className:"step-icon w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:x?"":w.title.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold",children:w.title}),s.jsx("p",{className:"text-theme-muted text-sm truncate",children:w.description})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-xs ${x?"text-green-400":"text-theme-muted"}`,children:x?"Complete":w.fee}),s.jsx("svg",{className:`w-4 h-4 text-theme-muted transition-transform ${_?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),_&&s.jsxs("div",{className:"px-4 pb-4 border-t border-theme mt-0 pt-4",children:[s.jsx("div",{className:"space-y-3",children:w.fields.map(h=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:h.label}),h.type==="select"&&h.options?s.jsxs("select",{value:d[h.key]||"",onChange:f=>j(w.id,h.key,f.target.value),className:"w-full input-field px-3 py-2 rounded text-sm",disabled:o,children:[s.jsx("option",{value:"",children:"Select..."}),h.options.map(f=>s.jsx("option",{value:f,children:f},f))]}):s.jsx("input",{type:h.type,value:d[h.key]||"",onChange:f=>j(w.id,h.key,f.target.value),placeholder:h.placeholder,className:"w-full input-field px-3 py-2 rounded text-sm",disabled:o})]},h.key))}),s.jsx("button",{onClick:()=>u(w.id),disabled:o,className:`mt-4 w-full py-2 px-4 rounded text-sm font-medium transition-colors ${x?"bg-theme-tertiary text-theme-secondary hover:bg-red-900/30 hover:text-red-400":"bg-accent text-accent-contrast hover:opacity-90"}`,children:o?"Saving...":x?"Mark as Incomplete":"Mark as Complete"})]})]},w.id)})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Identifiers"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"ISRC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:d.isrc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"UPC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:d.upc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"ISWC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:d.iswc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Copyright #"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:d.copyright_reg_number||"Not set"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Tracking Tools"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("a",{href:"https://artists.spotify.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-green-400 hover:underline",children:[s.jsx("span",{children:"Spotify for Artists"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),s.jsxs("a",{href:"https://artists.apple.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-pink-400 hover:underline",children:[s.jsx("span",{children:"Apple Music"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),s.jsxs("a",{href:"https://soundexchange.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-blue-400 hover:underline",children:[s.jsx("span",{children:"SoundExchange"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Created"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(t.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Updated"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(t.updated_at).toLocaleDateString()})]}),d.release_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Released"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(d.release_date).toLocaleDateString()})]})]})]})]})]})]})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Project not found"}),s.jsx(Ve,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})})}const zl={"basic-ne":{title:"BASIC NON-EXCLUSIVE LICENSE",idPrefix:"LIC-B",fields:[],terms:"Grant of non-exclusive rights for limited digital streaming and one official music video. Producer retains 100% ownership of composition."},"standard-ne":{title:"STANDARD NON-EXCLUSIVE LICENSE",idPrefix:"LIC-S",fields:[],terms:"Grant of non-exclusive rights for increased streaming limits. Includes high-quality WAV files."},"premium-ne":{title:"PREMIUM NON-EXCLUSIVE LICENSE",idPrefix:"LIC-P",fields:[],terms:"Unlimited non-exclusive rights for streaming and distribution. Includes multi-track stems."},exclusive:{title:"EXCLUSIVE LICENSE AGREEMENT",idPrefix:"LIC-EX",fields:["exclusiveFee","masterShare"],terms:"Transfer of exclusive rights. Producer shall cease further licensing of track. Fee: $[exclusiveFee]. Master Royalty Share: [masterShare]%."},"buyout-addendum":{title:"EXCLUSIVE RIGHTS BUYOUT ADDENDUM",idPrefix:"LIC-BO",fields:["buyoutAmount","originalAgreementDate"],terms:"Complete transfer of all rights, title, and interest including publishing and master royalties for a buyout fee of $[buyoutAmount]."},"split-sheet":{title:"SONGWRITER SPLIT SHEET",idPrefix:"SS",fields:[],terms:"Official registration of songwriting and publishing percentages for track [Track Title]."},"producer-agreement":{title:"PRODUCER SERVICE AGREEMENT",idPrefix:"PSA",fields:["exclusiveFee"],terms:"Contract for professional production services as a work-for-hire. Producer fee: $[exclusiveFee]."},nda:{title:"NON-DISCLOSURE AGREEMENT",idPrefix:"NDA",fields:[],terms:"Agreement to maintain strict confidentiality regarding all unreleased files, stems, and project details."},"custom-license":{title:"CUSTOM MUSIC AGREEMENT",idPrefix:"CUST",fields:["exclusiveFee","masterShare"],terms:"Custom agreement for track [Track Title]."}};function xg(){const[e,t]=N.useState(1),[n,r]=N.useState(""),[i,l]=N.useState(""),[a,o]=N.useState({}),[c,d]=N.useState([]),[y,p]=N.useState(""),[u,j]=N.useState(!1),[w,x]=N.useState(!1),[_,h]=N.useState(null),[f,m]=N.useState(null),[,b]=dl();function T(L){l(L),t(2)}function k(L){const S=L.target,O=S.type==="number"?Number(S.value):S.value;o({...a,[S.name]:O})}function P(){const L={id:Date.now().toString(),name:"",role:"",split:""};d([...c,L])}function v(L){d(c.filter(S=>S.id!==L))}function C(L,S,O){d(c.map(F=>F.id===L?{...F,[S]:S==="split"?O.replace(/[^0-9]/g,""):O}:F))}async function E(L){L.preventDefault(),j(!0),t(3);const S=zl[i],O=c.filter(F=>F.name&&F.role&&F.split).map(F=>`- ${F.name} (${F.role}): ${F.split}%`).join(`
`);setTimeout(()=>{const F=`
        <div class="agreement-document">
          <h2>${S.title}</h2>
          <p><strong>ID:</strong> ${S.idPrefix}-${Date.now()}</p>
          <p><strong>Producer/Company:</strong> ${a.producerName||"TBD"}</p>
          <p><strong>Artist/Client:</strong> ${a.artistName}</p>
          <p><strong>Track:</strong> ${a.trackTitle}</p>
          <p><strong>Project:</strong> ${a.projectName||"N/A"}</p>
          <p><strong>Effective Date:</strong> ${a.effectiveDate||"TBD"}</p>
          <p><strong>Delivery Date:</strong> ${a.deliveryDate||"N/A"}</p>
          <p><strong>BPM:</strong> ${a.bpm||"N/A"}</p>
          <p><strong>Key:</strong> ${a.key||"N/A"}</p>
          <p><strong>Genre:</strong> ${a.genre||"N/A"}</p>
          <p><strong>Producer Address:</strong> ${a.producerAddress||"N/A"}</p>
          <p><strong>Artist Address:</strong> ${a.artistAddress||"N/A"}</p>
          <p><strong>Producer Email:</strong> ${a.producerEmail||"N/A"}</p>
          <p><strong>Artist Email:</strong> ${a.artistEmail||"N/A"}</p>
          <p><strong>Producer Phone:</strong> ${a.producerPhone||"N/A"}</p>
          <p><strong>Artist Phone:</strong> ${a.artistPhone||"N/A"}</p>
          
          ${c.length>0?`
          <h3>Parties/Splits:</h3>
          <pre>${O}</pre>
          `:""}
          
          <h3>Agreement Terms:</h3>
          <p>${S.terms}</p>
          
          ${a.customTerms?`
          <h3>Additional Terms:</h3>
          <p>${a.customTerms}</p>
          `:""}
          
          <h3>SIGNATORIES</h3>
          <div class="signatures">
            <div class="signature-block">
              <p>Producer/Company: _________________________ Date: _________</p>
            </div>
            <div class="signature-block">
              <p>Artist/Client: _________________________ Date: _________</p>
            </div>
            ${c.map(q=>`
              <div class="signature-block">
                <p>${q.name} (${q.role}): _________________________ Date: _________</p>
              </div>
            `).join("")}
          </div>
        </div>
      `;p(F),j(!1)},2e3)}function I(){t(1),l(""),o({}),d([]),p("")}function U(){if(!y)return;const L=window.open("","_blank","noopener,noreferrer");L&&(L.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>Agreement</title><style>body{font-family:serif;padding:20px;color:#111} .agreement-document{max-width:800px;margin:0 auto}</style></head><body>${y}</body></html>`),L.document.close(),L.focus(),L.print())}function Q(){if(!y)return;const L=new Blob([`<!doctype html><html><head><meta charset="utf-8"><title>Agreement</title></head><body>${y}</body></html>`],{type:"text/html"}),S=URL.createObjectURL(L),O=document.createElement("a");O.href=S,O.download=`${(R==null?void 0:R.idPrefix)||"AGREEMENT"}-${Date.now()}.html`,document.body.appendChild(O),O.click(),O.remove(),URL.revokeObjectURL(S)}async function K(){var S;if(!y)return;x(!0),m(null);const L={title:`${(R==null?void 0:R.title)||"Agreement"} - ${a.trackTitle||"Untitled"}`,templateId:i,html:y,metadata:{formData:a},collaborators:c};try{const O=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),F=await O.json();if(!O.ok)throw new Error((F==null?void 0:F.message)||"Save failed");const q=((S=F.document)==null?void 0:S.id)||null;h(q),q&&b(`/documents?open=${q}`)}catch(O){m(O.message||"Save failed")}finally{x(!1)}}const R=zl[i],B=R&&R.fields.length>0;return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:[1,2,3].map(L=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=L?"btn-primary":"bg-theme-tertiary text-theme-muted"}`,children:L}),s.jsx("span",{className:`text-sm ${e>=L?"text-theme-primary":"text-theme-muted"}`,children:L===1?"Select Template":L===2?"Fill Details":"Generate"}),L<3&&s.jsx("div",{className:"w-8 h-px bg-theme-tertiary"})]},L))}),e===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Select Agreement Template"}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",placeholder:"Search templates (e.g. 'Split Sheet', 'NDA')...",value:n,onChange:L=>r(L.target.value),className:"input-field w-full p-4 rounded-lg bg-theme-tertiary border border-theme text-theme-primary focus:border-accent outline-none transition-colors"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(zl).filter(([L,S])=>S.title.toLowerCase().includes(n.toLowerCase())||S.terms.toLowerCase().includes(n.toLowerCase())).map(([L,S])=>s.jsxs("div",{onClick:()=>T(L),className:"card p-6 rounded-xl cursor-pointer hover:border-accent transition-colors",children:[s.jsx("h3",{className:"font-bold mb-2",children:S.title}),s.jsx("p",{className:"text-sm text-theme-muted",children:S.terms})]},L))})]}),e===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fill Agreement Details"}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Track Title *"}),s.jsx("input",{name:"trackTitle",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Moonlight"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Template Type"}),s.jsx("div",{className:"input-field w-full p-3 rounded bg-theme-tertiary",children:(R==null?void 0:R.title)||"Not selected"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer/Company *"}),s.jsx("input",{name:"producerName",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Company Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist/Client *"}),s.jsx("input",{name:"artistName",required:!0,onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Artist Name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Project/Album Name"}),s.jsx("input",{name:"projectName",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Midnight Sessions EP"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Effective Date *"}),s.jsx("input",{name:"effectiveDate",type:"date",required:!0,onChange:k,className:"input-field w-full p-3 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Delivery Date"}),s.jsx("input",{name:"deliveryDate",type:"date",onChange:k,className:"input-field w-full p-3 rounded"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"BPM"}),s.jsx("input",{name:"bpm",type:"number",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"120"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Key"}),s.jsxs("select",{name:"key",onChange:k,className:"input-field w-full p-3 rounded",children:[s.jsx("option",{value:"",children:"Select Key"}),s.jsx("option",{value:"C",children:"C Major"}),s.jsx("option",{value:"C#",children:"C# Major"}),s.jsx("option",{value:"D",children:"D Major"}),s.jsx("option",{value:"D#",children:"D# Major"}),s.jsx("option",{value:"E",children:"E Major"}),s.jsx("option",{value:"F",children:"F Major"}),s.jsx("option",{value:"F#",children:"F# Major"}),s.jsx("option",{value:"G",children:"G Major"}),s.jsx("option",{value:"G#",children:"G# Major"}),s.jsx("option",{value:"A",children:"A Major"}),s.jsx("option",{value:"A#",children:"A# Major"}),s.jsx("option",{value:"B",children:"B Major"}),s.jsx("option",{value:"Cm",children:"C Minor"}),s.jsx("option",{value:"Dm",children:"D Minor"}),s.jsx("option",{value:"Em",children:"E Minor"}),s.jsx("option",{value:"Fm",children:"F Minor"}),s.jsx("option",{value:"Gm",children:"G Minor"}),s.jsx("option",{value:"Am",children:"A Minor"}),s.jsx("option",{value:"Bm",children:"B Minor"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Genre"}),s.jsx("input",{name:"genre",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"e.g. Hip Hop, R&B, Pop"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Address"}),s.jsx("input",{name:"producerAddress",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Address"}),s.jsx("input",{name:"artistAddress",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Email"}),s.jsx("input",{name:"producerEmail",type:"email",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"producer@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Email"}),s.jsx("input",{name:"artistEmail",type:"email",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"artist@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Phone"}),s.jsx("input",{name:"producerPhone",type:"tel",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Phone"}),s.jsx("input",{name:"artistPhone",type:"tel",onChange:k,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]})]}),B&&s.jsxs("div",{className:"card p-4 rounded-lg bg-theme-tertiary",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Additional Fields"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.fields.includes("exclusiveFee")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Fee ($)"}),s.jsx("input",{name:"exclusiveFee",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),R.fields.includes("masterShare")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Master Royalty (%)"}),s.jsx("input",{name:"masterShare",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),R.fields.includes("buyoutAmount")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Buyout Amount ($)"}),s.jsx("input",{name:"buyoutAmount",type:"number",onChange:k,className:"input-field w-full p-3 rounded"})]}),R.fields.includes("originalAgreementDate")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Original Agreement Date"}),s.jsx("input",{name:"originalAgreementDate",type:"date",onChange:k,className:"input-field w-full p-3 rounded"})]})]})]}),s.jsxs("div",{className:"card p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-theme-secondary uppercase",children:"Additional Collaborators"}),s.jsx("button",{type:"button",onClick:P,className:"text-sm bg-theme-accent text-white px-3 py-1 rounded hover:bg-accent/80",children:"+ Add Party"})]}),s.jsx("div",{className:"space-y-2",children:c.map(L=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"text",placeholder:"Full Legal Name",value:L.name,onChange:S=>C(L.id,"name",S.target.value),className:"flex-1 input-field p-2 rounded text-sm"}),s.jsx("input",{type:"text",placeholder:"Role (e.g. Writer)",value:L.role,onChange:S=>C(L.id,"role",S.target.value),className:"w-24 input-field p-2 rounded text-sm"}),s.jsx("input",{type:"number",placeholder:"Split %",value:L.split,onChange:S=>C(L.id,"split",S.target.value),className:"w-16 input-field p-2 rounded text-sm"}),s.jsx("button",{type:"button",onClick:()=>v(L.id),className:"text-red-500 hover:text-red-700",children:""})]},L.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Custom Clauses / Provisions"}),s.jsx("textarea",{name:"customTerms",rows:3,onChange:k,className:"input-field w-full p-3 rounded resize-none text-sm",placeholder:"Enter any specific terms or modifications..."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>t(1),className:"px-6 py-3 bg-theme-tertiary rounded",children:"Back"}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary font-bold py-3 rounded",children:"Generate Agreement"})]})]})]}),e===3&&s.jsx("div",{children:s.jsx("div",{className:"card p-8 rounded-xl",children:u?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"animate-pulse text-accent font-medium",children:"Finalizing legal language..."})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Agreement Generated!"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:U,className:"btn-primary px-4 py-2 rounded",children:"Download / Print"}),s.jsx("button",{onClick:Q,className:"px-4 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Save HTML"}),s.jsx("button",{onClick:K,disabled:w||!!_,className:`px-4 py-2 rounded ${w||_?"bg-theme-tertiary text-theme-muted":"bg-theme-accent text-white"}`,children:w?"Saving":_?"Saved":"Save to Box"})]})]}),s.jsx("div",{className:"bg-white text-gray-800 p-8 rounded-lg font-serif text-sm max-h-96 overflow-y-auto",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:y}})}),f&&s.jsxs("div",{className:"mt-4 text-red-500 text-sm",children:["Error saving document: ",f]}),_&&s.jsxs("div",{className:"mt-4 text-sm",children:[s.jsx("strong",{className:"text-theme-secondary",children:"Saved to Box"}),s.jsxs("span",{className:"ml-2 text-theme-muted",children:["(ID: ",_,")"]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:I,className:"text-accent hover:underline",children:"Create Another Agreement"})})]})})})]})]})}function gg(){const{isAuthenticated:e}=bt(),[t,n]=N.useState([]),[r,i]=N.useState(!1),[l,a]=N.useState(null),[o,c]=N.useState(null),[d,y]=N.useState(null),[p,u]=N.useState(null);dl();const[j,w]=N.useState(""),[x,_]=N.useState(1),[h]=N.useState(12),[f,m]=N.useState(0);N.useEffect(()=>{if(!e)return;const R=new URLSearchParams;j&&R.set("q",j),R.set("page",String(x)),R.set("limit",String(h)),i(!0),a(null),fetch(`/api/documents?${R.toString()}`).then(async B=>{if(!B.ok)throw new Error((await B.json()).message||"Failed to load");return B.json()}).then(B=>{n((B.documents||[]).map(L=>({id:L.id,title:L.title,templateId:L.templateId,createdAt:L.createdAt}))),m(B.total||0)}).catch(B=>a(B.message||"Failed to load documents")).finally(()=>i(!1))},[e,j,x,h]),N.useEffect(()=>{const B=new URL(window.location.href).searchParams.get("open");if(B){const L=new URL(window.location.href);L.searchParams.delete("open"),window.history.replaceState({},"",L.toString()),b(B)}},[e]);async function b(R){c(null),y(null),u(R);try{const B=await fetch(`/api/documents/${R}`);if(!B.ok)throw new Error((await B.json()).message||"Failed to load");const L=await B.json();y(L.title),c(L.html||"")}catch(B){c(`<p style="color:red">${B.message||"Failed to load document"}</p>`)}}function T(){if(!o||!d)return;const R=new Blob([`<!doctype html><html><head><meta charset="utf-8"><title>${d}</title></head><body>${o}</body></html>`],{type:"text/html"}),B=URL.createObjectURL(R),L=document.createElement("a");L.href=B,L.download=`${d.replace(/[^a-z0-9\- ]/gi,"")||"agreement"}.html`,document.body.appendChild(L),L.click(),L.remove(),URL.revokeObjectURL(B)}const[k,P]=N.useState(null),[v,C]=N.useState("");function E(R,B){P(R),C(B)}async function I(){if(k)try{const R=await fetch(`/api/documents/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:v})});if(!R.ok)throw new Error((await R.json()).message||"Rename failed");n(t.map(B=>B.id===k?{...B,title:v}:B)),P(null)}catch(R){a(R.message||"Rename failed")}}async function U(R){if(confirm("Delete this saved agreement? This cannot be undone."))try{const B=await fetch(`/api/documents/${R}`,{method:"DELETE"});if(!B.ok)throw new Error((await B.json()).message||"Delete failed");n(t.filter(L=>L.id!==R)),p===R&&(c(null),u(null),y(null))}catch(B){a(B.message||"Delete failed")}}const Q=Math.max(1,Math.ceil(f/h));function K(R){_(Math.max(1,Math.min(Q,R)))}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Saved Agreements"}),s.jsx("p",{className:"text-sm text-theme-muted",children:"All agreements you've saved to The Box"})]}),!e&&s.jsx("div",{className:"card p-6 rounded",children:s.jsx("p",{className:"text-theme-muted",children:"You must be signed in to view saved agreements."})}),e&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"col-span-1 lg:col-span-2",children:s.jsxs("div",{className:"card p-6 rounded",children:[r&&s.jsx("div",{className:"text-theme-muted",children:"Loading..."}),l&&s.jsx("div",{className:"text-red-500",children:l}),!r&&t.length===0&&s.jsxs("div",{className:"text-theme-muted",children:["No saved agreements yet. Generate one in the ",s.jsx("a",{className:"text-accent",href:"/generator",children:"Agreement Generator"}),"."]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{value:j,onChange:R=>{w(R.target.value),_(1)},placeholder:"Search saved agreements...",className:"input-field p-2 rounded flex-1"}),s.jsxs("div",{className:"text-sm text-theme-muted",children:[f," results"]})]})}),s.jsx("div",{className:"space-y-3 mt-4",children:t.map(R=>s.jsxs("div",{className:"p-4 rounded border border-theme-tertiary flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:R.title}),s.jsxs("div",{className:"text-xs text-theme-muted",children:[R.templateId||"Custom","  ",new Date(R.createdAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>b(R.id),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"View"}),s.jsx("a",{href:`/api/documents/${R.id}`,className:"px-3 py-2 rounded bg-theme-accent text-white",target:"_blank",rel:"noreferrer",children:"Open"}),s.jsx("button",{onClick:()=>E(R.id,R.title),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Rename"}),s.jsx("button",{onClick:()=>U(R.id),className:"px-3 py-2 rounded border border-red-500 text-red-500",children:"Delete"})]})]},R.id))}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-theme-muted",children:["Page ",x," of ",Q]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>K(1),disabled:x===1,className:"px-3 py-1 rounded border border-theme-tertiary",children:"First"}),s.jsx("button",{onClick:()=>K(x-1),disabled:x===1,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Prev"}),s.jsx("button",{onClick:()=>K(x+1),disabled:x===Q,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Next"}),s.jsx("button",{onClick:()=>K(Q),disabled:x===Q,className:"px-3 py-1 rounded border border-theme-tertiary",children:"Last"})]})]}),k&&s.jsxs("div",{className:"mt-4 p-4 rounded border border-theme-tertiary",children:[s.jsx("div",{className:"text-sm font-bold mb-2",children:"Rename Agreement"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:"input-field p-2 rounded flex-1",value:v,onChange:R=>C(R.target.value)}),s.jsx("button",{onClick:I,className:"px-3 py-2 rounded bg-theme-accent text-white",children:"Save"}),s.jsx("button",{onClick:()=>P(null),className:"px-3 py-2 rounded border border-theme-tertiary",children:"Cancel"})]})]})]})}),s.jsx("div",{className:"col-span-1",children:s.jsxs("div",{className:"card p-6 rounded h-full",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Preview"}),!o&&s.jsx("div",{className:"text-theme-muted text-sm",children:"Select an agreement to preview its content here."}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white text-gray-800 p-4 rounded text-sm max-h-[60vh] overflow-y-auto",dangerouslySetInnerHTML:{__html:o}}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:T,className:"px-3 py-2 rounded bg-theme-accent text-white",children:"Download HTML"}),s.jsx("button",{onClick:()=>window.print(),className:"px-3 py-2 rounded border border-theme-tertiary text-theme-secondary",children:"Print"}),s.jsx("button",{onClick:()=>{c(null),u(null),y(null)},className:"px-3 py-2 rounded text-theme-muted border border-theme-tertiary",children:"Close"})]})]})]})})]})]})]})}function yg(){var P,v;const[e,t]=N.useState(!1),[n,r]=N.useState(""),[i,l]=N.useState(""),[a,o]=N.useState(!0),[c,d]=N.useState([]),[y,p]=N.useState([]),[u,j]=N.useState(null),[w,x]=N.useState([]),[_,h]=N.useState("overview");N.useEffect(()=>{f()},[]);async function f(){try{(await fetch("/api/admin/check")).ok&&(t(!0),T())}catch(C){console.error("Auth check failed:",C)}finally{o(!1)}}async function m(C){C.preventDefault(),l("");try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})})).ok?(t(!0),T()):l("Invalid password")}catch{l("Login failed")}}async function b(){await fetch("/api/admin/logout",{method:"POST"}),t(!1),d([]),p([]),j(null)}async function T(){try{const[C,E,I,U]=await Promise.all([fetch("/api/admin/users"),fetch("/api/admin/projects"),fetch("/api/admin/stats"),fetch("/api/admin/submissions")]);if(C.ok&&d(await C.json()),E.ok&&p(await E.json()),I.ok&&j(await I.json()),U.ok){const Q=await U.json();x(Q.submissions||[])}}catch(C){console.error("Failed to load data:",C)}}async function k(C,E,I){try{(await fetch(`/api/admin/submissions/${C}/review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:E,adminNotes:I})})).ok&&T()}catch(U){console.error("Failed to review submission:",U)}}return a?s.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):e?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center text-white font-bold text-sm",children:"A"}),s.jsx("span",{className:"text-red-400 font-bold",children:"ADMIN DASHBOARD"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ve,{href:"/",className:"text-gray-500 hover:text-white text-sm",children:"View Site"}),s.jsx("button",{onClick:b,className:"text-gray-500 hover:text-red-400 text-sm",children:"Logout"})]})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:["overview","users","projects","submissions"].map(C=>s.jsx("button",{onClick:()=>h(C),className:`px-4 py-2 rounded text-sm ${_===C?"bg-red-500 text-white":"bg-gray-800 text-gray-400"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),_==="overview"&&u&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Platform Overview"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-400",children:u.totalUsers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Users"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-accent",children:u.totalProjects}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Projects"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-400",children:((P=u.projectsByStatus)==null?void 0:P.development)||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"In Development"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-400",children:((v=u.projectsByStatus)==null?void 0:v.published)||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Projects by Status"}),s.jsx("div",{className:"space-y-2",children:Object.entries(u.projectsByStatus||{}).map(([C,E])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400 capitalize",children:C}),s.jsx("span",{className:"text-white",children:E})]},C))})]})]}),_==="users"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["All Users (",c.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[c.map(C=>s.jsxs("div",{className:"card p-4 rounded-xl flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:[C.firstName," ",C.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:C.email})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),s.jsx("p",{className:"text-sm",children:new Date(C.createdAt).toLocaleDateString()})]})]},C.id)),c.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users yet"})]})]}),_==="projects"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["All Projects (",y.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[y.map(C=>s.jsx("div",{className:"card p-4 rounded-xl",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`status-${C.status} px-2 py-1 rounded text-xs uppercase`,children:C.status}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:C.title}),s.jsx("p",{className:"text-xs text-gray-500",children:C.type})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["User: ",C.userId.slice(0,8),"..."]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})]})]})},C.id)),y.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No projects yet"})]})]}),_==="submissions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Community Submissions"}),s.jsxs("div",{className:"space-y-4",children:[w.map(C=>{var E;return s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 uppercase",children:C.noteCategory}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${C.status==="pending"?"bg-yellow-500/20 text-yellow-400":C.status==="approved"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:C.status})]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(C.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm mb-4 whitespace-pre-wrap",children:C.noteContent}),((E=C.noteTags)==null?void 0:E.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:C.noteTags.map((I,U)=>s.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["#",I]},U))}),C.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>k(C.id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve"}),s.jsx("button",{onClick:()=>k(C.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject"})]})]},C.id)}),w.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No submissions yet"})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:s.jsxs("div",{className:"card p-8 rounded-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),s.jsx("span",{className:"text-xl font-bold",children:"Admin Access"})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Admin Password"}),s.jsx("input",{type:"password",value:n,onChange:C=>r(C.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter admin password",required:!0})]}),i&&s.jsx("p",{className:"text-red-400 text-sm",children:i}),s.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white font-bold py-3 rounded hover:bg-red-600",children:"Login as Admin"})]}),s.jsx(Ve,{href:"/",className:"block text-center text-gray-500 hover:text-white mt-4 text-sm",children:"Back to Home"})]})})}function vg(){const{user:e}=bt(),[t,n]=N.useState(""),[r,i]=N.useState(""),[l,a]=N.useState(""),[o,c]=N.useState(null),[d,y]=N.useState(!1),[p,u]=N.useState((e==null?void 0:e.firstName)||(e==null?void 0:e.displayName)||""),[j,w]=N.useState(null),[x,_]=N.useState(!1);async function h(m){m.preventDefault(),w(null),_(!0);try{const b=await fetch("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:p})}),T=await b.json();b.ok?(w({type:"success",text:"Profile updated successfully"}),window.location.reload()):w({type:"error",text:T.message||"Failed to update profile"})}catch{w({type:"error",text:"Failed to update profile"})}finally{_(!1)}}async function f(m){if(m.preventDefault(),c(null),r!==l){c({type:"error",text:"New passwords do not match"});return}if(r.length<6){c({type:"error",text:"Password must be at least 6 characters"});return}y(!0);try{const b=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:r})}),T=await b.json();b.ok?(c({type:"success",text:"Password changed successfully"}),n(""),i(""),a("")):c({type:"error",text:T.message||"Failed to change password"})}catch{c({type:"error",text:"Failed to change password"})}finally{y(!1)}}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-2xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-theme-primary",children:"Settings"}),s.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Your BOX Code"}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg mb-4",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Share this code for collaborations and connections"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("code",{className:"text-2xl font-mono font-bold text-accent tracking-wider",children:(e==null?void 0:e.boxCode)||"Generating..."}),s.jsx("button",{onClick:()=>{e!=null&&e.boxCode&&(navigator.clipboard.writeText(e.boxCode),alert("BOX code copied to clipboard!"))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3",children:(e==null?void 0:e.role)==="studio"?"Artists can use this code to join your network when they sign up.":"Share this code with studios or other artists to connect and collaborate."})]})]}),s.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Account Information"}),s.jsxs("div",{className:"space-y-2 text-theme-secondary mb-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Email:"})," ",(e==null?void 0:e.email)||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Role:"})," ",(e==null?void 0:e.role)==="studio"?"Studio / Business":"Artist"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Account Type:"})," ",(e==null?void 0:e.authType)==="email"?"Email/Password":"OAuth"]})]}),j&&s.jsx("div",{className:`p-3 rounded mb-4 ${j.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:j.text}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:p,onChange:m=>u(m.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter your display name"})]}),s.jsx("button",{type:"submit",disabled:x,className:"btn-primary py-2 px-4 rounded font-bold disabled:opacity-50",children:x?"Saving...":"Save Profile"})]})]}),(e==null?void 0:e.authType)==="email"&&s.jsxs("section",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Change Password"}),o&&s.jsx("div",{className:`p-3 rounded mb-4 ${o.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:o.text}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Current Password"}),s.jsx("input",{type:"password",value:t,onChange:m=>n(m.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"New Password"}),s.jsx("input",{type:"password",value:r,onChange:m=>i(m.target.value),className:"input-field w-full p-3 rounded",required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:l,onChange:m=>a(m.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),s.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full py-3 rounded font-bold disabled:opacity-50",children:d?"Changing...":"Change Password"})]})]}),(e==null?void 0:e.authType)!=="email"&&s.jsxs("section",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Password"}),s.jsx("p",{className:"text-theme-muted",children:"You signed in with OAuth (Google, GitHub, etc.). Password management is handled by your OAuth provider."})]})]})]})}function jg(){const{isAuthenticated:e}=bt(),[t,n]=N.useState([]),[r,i]=N.useState(!0),[l,a]=N.useState(null),[o,c]=N.useState([]),[d,y]=N.useState(""),[p,u]=N.useState(new Set);N.useEffect(()=>{j(),e&&w()},[e]);async function j(){try{const m=await fetch("/api/community");if(m.ok){const b=await m.json();n(b.content||[])}}catch(m){console.error("Failed to load community content:",m)}finally{i(!1)}}async function w(){try{const m=await fetch("/api/community/my-favorites");if(m.ok){const b=await m.json();u(new Set(b.favoriteIds||[]))}}catch(m){console.error("Failed to load favorites:",m)}}async function x(m){try{const b=await fetch(`/api/community/${m}/comments`);if(b.ok){const T=await b.json();c(T.comments||[])}}catch(b){console.error("Failed to load comments:",b)}}async function _(m){if(!e){alert("Please sign in to favorite content");return}try{const b=await fetch(`/api/community/${m}/favorite`,{method:"POST"});if(b.ok){const T=await b.json();u(k=>{const P=new Set(k);return T.favorited?P.add(m):P.delete(m),P}),j()}}catch(b){console.error("Failed to toggle favorite:",b)}}async function h(){if(!(!e||!l||!d.trim()))try{(await fetch(`/api/community/${l.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:d.trim()})})).ok&&(y(""),x(l.id),j())}catch(m){console.error("Failed to add comment:",m)}}function f(m){if(!m)return null;if(m.includes("youtube.com")||m.includes("youtu.be")){const b=m.includes("youtu.be")?(m||"").split("/").pop():new URLSearchParams(new URL(m).search).get("v");if(b)return s.jsx("div",{className:"aspect-video mb-3",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${b}`,className:"w-full h-full rounded",allowFullScreen:!0})})}if(m.includes("spotify.com")){const b=m.replace("spotify.com","spotify.com/embed");return s.jsx("div",{className:"mb-3",children:s.jsx("iframe",{src:b,width:"100%",height:"152",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",className:"rounded"})})}return m.match(/\.(jpg|jpeg|png|gif|webp)$/i)||m.includes("/object-storage/")?s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:m,alt:"Media",className:"w-full h-auto rounded max-h-64 object-cover"})}):null}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Community"}),s.jsx("p",{className:"text-theme-muted",children:"Creative work shared by BOX members"})]}),r?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No shared content yet. Be the first to share!"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>{var b,T;return s.jsxs("div",{className:"card p-4 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-xs text-theme-muted uppercase",children:m.noteCategory}),s.jsx("span",{className:"text-xs text-theme-muted",children:new Date(m.approvedAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3",children:m.noteContent}),((b=m.noteMediaUrls)==null?void 0:b[0])&&f(m.noteMediaUrls[0]),((T=m.noteTags)==null?void 0:T.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:m.noteTags.map((k,P)=>s.jsxs("span",{className:"text-xs bg-theme-tertiary px-2 py-0.5 rounded",children:["#",k]},P))}),s.jsx("div",{className:"flex justify-between items-center pt-3 border-t border-theme",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>_(m.id),className:`text-sm flex items-center gap-1 ${p.has(m.id)?"text-accent":"text-theme-muted hover:text-theme-primary"}`,children:[p.has(m.id)?"":""," ",m.favoritesCount]}),s.jsxs("button",{onClick:()=>{a(m),x(m.id)},className:"text-sm text-theme-muted hover:text-theme-primary flex items-center gap-1",children:[" ",m.commentsCount]})]})})]},m.id)})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-theme-secondary rounded-xl w-full max-w-lg max-h-[80vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-theme-primary",children:"Comments"}),s.jsx("button",{onClick:()=>a(null),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),s.jsx("div",{className:"mb-4 p-4 bg-theme-tertiary rounded",children:s.jsx("p",{className:"text-sm",children:l.noteContent})}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:o.length===0?s.jsx("p",{className:"text-theme-muted text-sm text-center py-4",children:"No comments yet"}):o.map(m=>s.jsxs("div",{className:"p-3 bg-theme-tertiary rounded",children:[s.jsx("p",{className:"text-sm",children:m.content}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:new Date(m.createdAt).toLocaleDateString()})]},m.id))}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:d,onChange:m=>y(m.target.value),placeholder:"Add a comment...",className:"input-field flex-1 p-2 rounded text-sm",onKeyDown:m=>m.key==="Enter"&&h()}),s.jsx("button",{onClick:h,className:"btn-primary px-4 py-2 rounded text-sm",disabled:!d.trim(),children:"Post"})]})]})})]})]})}const Ng=[{id:"overview",label:"Overview"},{id:"copyright",label:"Copyright"},{id:"identifiers",label:"Global IDs"},{id:"pro",label:"PROs"},{id:"workflow",label:"IP Workflow"}];function bg(){const[e,t]=N.useState("overview");return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Documentation"}),s.jsx("p",{className:"text-theme-secondary",children:"Reference guide for protecting and monetizing your creative work"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",children:Ng.map(n=>s.jsx("button",{onClick:()=>t(n.id),className:`px-4 py-2 rounded text-sm whitespace-nowrap transition-colors ${e===n.id?"btn-primary":"bg-theme-tertiary text-theme-secondary hover:text-theme-primary"}`,children:n.label},n.id))}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[e==="overview"&&s.jsx(wg,{}),e==="copyright"&&s.jsx(Sg,{}),e==="identifiers"&&s.jsx(kg,{}),e==="pro"&&s.jsx(Cg,{}),e==="workflow"&&s.jsx(Eg,{})]})]})]})}function wg(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Protecting Your Creative Work"}),s.jsx("p",{className:"text-theme-secondary leading-relaxed",children:"As an independent music artist, protecting your intellectual property is essential for building a sustainable career. This guide walks you through the key steps to register, protect, and monetize your creative work."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Why This Matters"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsx("li",{children:"- Prove ownership of your work"}),s.jsx("li",{children:"- Collect royalties from streams and plays"}),s.jsx("li",{children:"- Protect against unauthorized use"}),s.jsx("li",{children:"- Enable licensing opportunities"})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Key Components"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsx("li",{children:"- Copyright registration"}),s.jsx("li",{children:"- PRO membership (BMI/ASCAP)"}),s.jsx("li",{children:"- Global identifiers (ISRC, UPC, ISWC)"}),s.jsx("li",{children:"- Distribution platform"})]})]})]})]})}function Sg(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Copyright Registration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What is Copyright?"}),s.jsxs("p",{className:"text-theme-secondary leading-relaxed",children:["Copyright is automatic protection that exists the moment you create an original work in a fixed form (recording, written notation, etc.). However, ",s.jsx("strong",{children:"registering"})," your copyright with the U.S. Copyright Office provides additional legal benefits."]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Benefits of Registration"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Public Record:"})," Creates official documentation of ownership"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Standing:"})," Required to sue for infringement in federal court"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Statutory Damages:"})," Eligible for up to $150,000 per work if registered before infringement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Attorney's Fees:"})," Can recover legal costs in successful lawsuits"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Two Copyrights Per Song"}),s.jsx("p",{className:"text-theme-secondary mb-3",children:"Every song has two separate copyrights that can be registered:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-1",children:"PA (Performing Arts)"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:'Covers the underlying musical composition - the melody, lyrics, and arrangement. This is the "song" itself, separate from any recording.'}),s.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $45"})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-1",children:"SR (Sound Recording)"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:"Covers the specific recorded performance - the actual audio file. This protects the production, vocals, and instrumentation as recorded."}),s.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $65"})]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"How to Register"}),s.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:["1. Visit ",s.jsx("strong",{children:"copyright.gov"})]}),s.jsx("li",{children:"2. Create an account or log in"}),s.jsx("li",{children:'3. Select "Register a Work"'}),s.jsx("li",{children:"4. Choose PA or SR form"}),s.jsx("li",{children:"5. Complete the application and upload your work"}),s.jsx("li",{children:"6. Pay the filing fee ($45-$65)"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3",children:"Processing time: 3-10 months"})]})]})]})}function kg(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Global Identifiers"}),s.jsx("p",{className:"text-theme-secondary mb-4",children:"Global identifiers are unique codes that help track, report, and pay royalties for your music across platforms worldwide."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISRC (International Standard Recording Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A unique 12-character code assigned to each specific recording of a song."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"CC-XXX-YY-NNNNN"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"US-S1Z-21-00001"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Distributors (DistroKid, TuneCore, CD Baby) or you can register as an ISRC manager"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Usually free through distributors"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Tracking streams, radio plays, and generating royalty reports"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"UPC (Universal Product Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A barcode for your release (single, EP, or album) - not individual tracks."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"12-digit number"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"012345678901"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Distributors typically provide these free"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Usually included with distribution"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Retail tracking, chart reporting, and sales data"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISWC (International Standard Musical Work Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Identifies the underlying composition (not the recording) - the songwriting."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"T-NNNNNNNNN-C"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"T-070237182-1"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Your PRO (BMI, ASCAP, SESAC) when you register the work"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Free through PRO membership"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Tracking performance royalties globally"]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Quick Reference"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-theme-muted",children:[s.jsx("th",{className:"text-left py-1",children:"ID"}),s.jsx("th",{className:"text-left py-1",children:"Covers"}),s.jsx("th",{className:"text-left py-1",children:"Get From"})]})}),s.jsxs("tbody",{className:"text-theme-secondary",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"ISRC"}),s.jsx("td",{className:"py-1",children:"Recording"}),s.jsx("td",{className:"py-1",children:"Distributor"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"UPC"}),s.jsx("td",{className:"py-1",children:"Release"}),s.jsx("td",{className:"py-1",children:"Distributor"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"ISWC"}),s.jsx("td",{className:"py-1",children:"Composition"}),s.jsx("td",{className:"py-1",children:"PRO"})]})]})]})]})]})]})}function Cg(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Performance Rights Organizations (PROs)"}),s.jsx("p",{className:"text-theme-secondary mb-4",children:"PROs collect royalties when your music is publicly performed - radio, TV, venues, streaming, and more. You must join one to collect these royalties."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"BMI"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Broadcast Music, Inc. - One of the largest PROs in the US."}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," FREE for songwriters"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publisher fee:"})," $150 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payout:"})," Quarterly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," bmi.com"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ASCAP"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"American Society of Composers, Authors and Publishers."}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," $50 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publisher fee:"})," $50 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payout:"})," Quarterly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," ascap.com"]})]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"SESAC"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Invitation-only PRO that represents select artists."}),s.jsxs("ul",{className:"text-sm text-theme-secondary",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," Free (by invitation)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Note:"})," Smaller roster, more personalized service"]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Important Notes"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Choose one:"})," You can only be a member of ONE PRO at a time"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Register works:"})," After joining, you must register each song to collect royalties"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Co-writers:"})," Each co-writer needs their own PRO membership"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publishing:"})," Consider registering as your own publisher to collect both writer AND publisher share"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Royalty Types PROs Collect"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Radio Airplay","TV/Film Sync","Live Venues","Streaming","Retail/Restaurants","Digital Radio","Airlines","Hotels"].map(e=>s.jsx("div",{className:"bg-theme-tertiary p-2 rounded text-center text-sm text-theme-secondary",children:e},e))})]})]})}function Eg(){const e=[{step:1,title:"Fix Your Work",description:"Record or document your music in a tangible form (audio file, sheet music, written lyrics).",cost:"FREE",time:"Immediate",tips:["Keep dated backups","Email yourself a copy for timestamp","Store securely"]},{step:2,title:"Register Copyright",description:"File with the U.S. Copyright Office to create an official public record of ownership.",cost:"$45-$65",time:"3-10 months",tips:["Register PA for composition","Register SR for recording","Can register multiple works together"]},{step:3,title:"Join a PRO",description:"Sign up with BMI, ASCAP, or SESAC to collect performance royalties.",cost:"FREE-$50",time:"1-2 weeks",tips:["BMI is free for writers","ASCAP is $50 one-time","Only join ONE PRO"]},{step:4,title:"Register Your Composition",description:"Register your songs with your PRO to receive an ISWC and start collecting royalties.",cost:"FREE",time:"2-4 weeks",tips:["Include all co-writers","Add accurate metadata","Update if info changes"]},{step:5,title:"Upload to Distributor",description:"Use a distributor (DistroKid, TuneCore, CD Baby) to get on Spotify, Apple Music, etc.",cost:"$0-$30/year",time:"1-2 weeks",tips:["You'll get ISRC and UPC codes","Set a release date","Prepare artwork (3000x3000)"]},{step:6,title:"Release & Monitor",description:"Track your streams, royalties, and usage across platforms.",cost:"FREE",time:"Ongoing",tips:["Check PRO statements quarterly","Monitor distributor dashboard","Track with BOX"]}];return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"IP Protection Workflow"}),s.jsx("p",{className:"text-theme-secondary mb-6",children:"Follow these 6 steps to fully protect and monetize your music. Each step builds on the previous one."}),s.jsx("div",{className:"space-y-4",children:e.map(t=>s.jsx("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full btn-primary flex items-center justify-center font-bold",children:t.step}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:t.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.cost}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.time})]}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:t.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tips.map((n,r)=>s.jsx("span",{className:"text-xs bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:n},r))})]})]})},t.step))}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent mt-6",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Pro Tip: Track Everything in BOX"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:"Use your project pages to store all identifiers (ISRC, UPC, ISWC, copyright registration numbers) and track which steps you've completed for each release."})]})]})}function Pg(){const{user:e}=bt(),[t,n]=N.useState([]),[r,i]=N.useState(null),[l,a]=N.useState([]),[o,c]=N.useState(""),[d,y]=N.useState(!0),[p,u]=N.useState(!1),[j,w]=N.useState(""),[x,_]=N.useState(""),[h,f]=N.useState("roster");N.useEffect(()=>{m()},[]);async function m(){try{const v=await fetch("/api/studio/artists");if(v.ok){const C=await v.json();n(C.artists||[])}}catch(v){console.error("Failed to load artists:",v)}finally{y(!1)}}async function b(v){try{const C=await fetch(`/api/studio/artists/${v}/projects`);if(C.ok){const E=await C.json();a(E.projects||[])}}catch(C){console.error("Failed to load artist projects:",C)}}async function T(v){v.preventDefault(),w(""),_(""),u(!0);try{const C=await fetch("/api/studio/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),E=await C.json();C.ok?(_("Invitation sent successfully!"),c(""),m()):w(E.message||"Failed to send invitation")}catch{w("Failed to send invitation")}finally{u(!1)}}async function k(v,C){try{(await fetch(`/api/studio/projects/${v}/feature`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featured:!C})})).ok&&r&&b(r.artistId)}catch(E){console.error("Failed to toggle featured status:",E)}}async function P(v){if(confirm("Are you sure you want to remove this artist from your roster?"))try{(await fetch(`/api/studio/artists/${v}`,{method:"DELETE"})).ok&&(m(),i(null),a([]))}catch(C){console.error("Failed to remove artist:",C)}}return(e==null?void 0:e.role)!=="studio"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Studio access only"}),s.jsx(Ve,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.businessName||"Studio Dashboard"}),s.jsx("p",{className:"text-theme-secondary",children:"Manage your artist roster and curate your portfolio"}),s.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg inline-block",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-1",children:"Your Studio Code"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("code",{className:"text-xl font-mono font-bold text-accent tracking-wider",children:e.boxCode||"Loading..."}),s.jsx("button",{onClick:()=>{e.boxCode&&(navigator.clipboard.writeText(e.boxCode),_("Code copied!"),setTimeout(()=>_(""),2e3))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-2",children:"Share this code with artists to join your network during signup"})]})]}),s.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme pb-2",children:[s.jsx("button",{onClick:()=>f("roster"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="roster"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Artist Roster"}),s.jsx("button",{onClick:()=>f("portfolio"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="portfolio"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Portfolio"}),s.jsx("button",{onClick:()=>f("settings"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="settings"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Settings"})]}),h==="roster"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Invite Artist"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsx("input",{type:"email",value:o,onChange:v=>c(v.target.value),className:"input-field w-full p-3 rounded",placeholder:"artist@email.com",required:!0}),j&&s.jsx("p",{className:"text-red-400 text-sm",children:j}),x&&s.jsx("p",{className:"text-green-400 text-sm",children:x}),s.jsx("button",{type:"submit",disabled:p,className:"w-full btn-primary py-3 rounded-lg font-bold disabled:opacity-50",children:p?"Sending...":"Send Invitation"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("h2",{className:"text-lg font-bold text-accent mb-4",children:["Your Roster (",t.filter(v=>v.status==="accepted").length,")"]}),d?s.jsx("p",{className:"text-theme-muted",children:"Loading..."}):t.length===0?s.jsx("p",{className:"text-theme-muted text-sm",children:"No artists yet. Invite some to get started!"}):s.jsx("div",{className:"space-y-3",children:t.map(v=>s.jsx("div",{onClick:()=>{v.status==="accepted"&&v.artistId&&(i(v),b(v.artistId))},className:`p-3 rounded-lg cursor-pointer transition-colors ${(r==null?void 0:r.id)===v.id?"bg-theme-tertiary border border-accent":"bg-theme-secondary hover:bg-theme-tertiary"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm",children:v.artistName||v.inviteEmail}),s.jsx("p",{className:"text-theme-muted text-xs",children:v.status==="pending"?"Pending invite":`${v.projectCount} projects`})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${v.status==="accepted"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:v.status})]})},v.id))})]})]}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:r.artistName}),s.jsx("p",{className:"text-theme-muted text-sm",children:r.artistEmail})]}),s.jsx("button",{onClick:()=>P(r.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove from roster"})]}),s.jsx("h3",{className:"font-bold text-accent mb-4",children:"Projects"}),l.length===0?s.jsx("p",{className:"text-theme-muted text-sm",children:"No projects yet"}):s.jsx("div",{className:"space-y-3",children:l.map(v=>s.jsxs("div",{className:"p-4 bg-theme-secondary rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:v.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-theme-muted text-xs",children:v.type}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${v.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:v.status})]})]}),s.jsx("button",{onClick:()=>k(v.id,v.isFeatured),className:`px-3 py-1.5 rounded text-sm transition-colors ${v.isFeatured?"bg-accent text-accent-contrast font-bold":"bg-theme-tertiary text-theme-muted hover:text-theme-primary"}`,children:v.isFeatured?"Featured":"Feature"})]},v.id))})]}):s.jsx("div",{className:"card p-6 rounded-xl text-center",children:s.jsx("p",{className:"text-theme-muted",children:"Select an artist to view their projects"})})})]}),h==="portfolio"&&s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Work"}),s.jsx("p",{className:"text-theme-muted text-sm mb-6",children:"These projects will appear on your public portfolio page."}),s.jsx(Ve,{href:`/portfolio/${e.id}`,className:"text-accent hover:underline text-sm",children:"View public portfolio "})]}),h==="settings"&&s.jsxs("div",{className:"card p-6 rounded-xl max-w-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Studio Settings"}),s.jsx("p",{className:"text-theme-muted text-sm",children:"Update your studio profile in the Settings page."}),s.jsx(Ve,{href:"/settings",className:"inline-block mt-4 btn-primary px-4 py-2 rounded-lg text-sm",children:"Go to Settings"})]})]})]})}function _g(){const{id:e}=cl(),{theme:t,toggleTheme:n}=Ar(),[r,i]=N.useState(null),[l,a]=N.useState([]),[o,c]=N.useState([]),[d,y]=N.useState(!0);N.useEffect(()=>{p()},[e]);async function p(){try{const u=await fetch(`/api/portfolio/${e}`);if(u.ok){const j=await u.json();i(j.studio),a(j.featuredProjects||[]),c(j.roster||[])}}catch(u){console.error("Failed to load portfolio:",u)}finally{y(!1)}}return d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):r?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ve,{href:"/",children:s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"})}),s.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.businessName}),r.businessBio&&s.jsx("p",{className:"text-theme-secondary max-w-2xl mx-auto",children:r.businessBio})]}),o.length>0&&s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Artist Roster"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(u=>{var j;return s.jsxs("div",{className:"card p-4 rounded-xl text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-theme-tertiary mx-auto mb-3 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-accent",children:((j=u.displayName)==null?void 0:j.charAt(0))||"?"})}),s.jsx("p",{className:"font-bold",children:u.displayName}),s.jsxs("p",{className:"text-theme-muted text-xs",children:[u.projectCount," projects"]})]},u.id)})})]}),l.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Featured Work"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(u=>s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:u.type}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${u.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:u.status})]}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:u.title}),s.jsxs("p",{className:"text-theme-muted text-sm mb-3",children:["by ",u.artistName]}),u.description&&s.jsx("p",{className:"text-theme-secondary text-sm line-clamp-3",children:u.description})]},u.id))})]}),l.length===0&&o.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-theme-muted",children:"No content to display yet"})})]}),s.jsx("footer",{className:"border-t border-theme p-6 mt-12",children:s.jsx("div",{className:"max-w-6xl mx-auto text-center text-theme-muted text-sm",children:s.jsx("p",{children:"Powered by BOX | luctheleo.com"})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Portfolio not found"}),s.jsx(Ve,{href:"/",className:"text-accent hover:underline",children:"Back to Home"})]})})}const li={mlc:{name:"The MLC",fullName:"The Mechanical Licensing Collective",description:"Bulk Work Registration for digital mechanical royalties in the U.S.",format:"csv",fields:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID","Alternative Titles"]},ascap_bmi:{name:"ASCAP/BMI",fullName:"MusicMark Electronic Batch Registration",description:"Performance royalties registration via MusicMark EBR system.",format:"csv",fields:["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"]},music_reports:{name:"Music Reports",fullName:"Songdex Catalog Template",description:"Licensing registration for platforms like TikTok and Amazon Music.",format:"csv",fields:["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"]},soundexchange:{name:"SoundExchange",fullName:"ISRC Ingest Form",description:"Digital performance royalties for master recordings.",format:"csv",fields:["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"]},hfa:{name:"Harry Fox Agency",fullName:"eSong Bulk Registration Template",description:"Mechanical royalties for reproductions (streaming, downloads, CDs). Excel template for bulk uploads.",format:"csv",fields:["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"]}};function Tg(){const{user:e}=bt(),[t,n]=N.useState([]),[r,i]=N.useState([]),[l,a]=N.useState(null),[o,c]=N.useState(!0),[d,y]=N.useState("select-platform");N.useEffect(()=>{p()},[]);async function p(){try{const P=await fetch("/api/projects");if(P.ok){const v=await P.json();n(v.projects||[])}}catch(P){console.error("Failed to load projects:",P)}finally{c(!1)}}function u(P){i(v=>v.includes(P)?v.filter(C=>C!==P):[...v,P])}function j(){i(t.map(P=>P.id))}function w(){i([])}function x(){if(!l)return"";const P=t.filter(C=>r.includes(C.id));let v="";switch(l){case"mlc":v=_(P);break;case"ascap_bmi":v=h(P);break;case"music_reports":v=f(P);break;case"soundexchange":v=m(P);break;case"hfa":v=b(P);break}return v}function _(P){const v=["Work Title","ISWC","Writers","Publishers","Ownership Percentage","PRO Work ID","Alternative Titles"],C=P.map(E=>{var I,U,Q,K;return[E.title,((I=E.metadata)==null?void 0:I.iswc)||"",(((U=E.metadata)==null?void 0:U.writers)||[]).join("; "),(((Q=E.metadata)==null?void 0:Q.publishers)||[]).join("; "),"100",((K=E.metadata)==null?void 0:K.proWorkId)||"",""]});return[v.join(","),...C.map(E=>E.map(I=>`"${I}"`).join(","))].join(`
`)}function h(P){const v=["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"],C=P.map(E=>{var I,U,Q,K,R;return[E.title,(((I=E.metadata)==null?void 0:I.writers)||[]).join("; "),(((U=E.metadata)==null?void 0:U.publishers)||[]).join("; "),((Q=E.metadata)==null?void 0:Q.iswc)||"",((K=E.metadata)==null?void 0:K.duration)||"",((R=E.metadata)==null?void 0:R.genre)||"",""]});return[v.join(","),...C.map(E=>E.map(I=>`"${I}"`).join(","))].join(`
`)}function f(P){const v=["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"],C=P.map(E=>{var I,U,Q,K,R,B,L;return[E.title,((I=E.metadata)==null?void 0:I.isrc)||"",((U=E.metadata)==null?void 0:U.iswc)||"",(((Q=E.metadata)==null?void 0:Q.writers)||[]).join("; "),(((K=E.metadata)==null?void 0:K.publishers)||[]).join("; "),((R=E.metadata)==null?void 0:R.releaseDate)||"",((B=E.metadata)==null?void 0:B.duration)||"",((L=E.metadata)==null?void 0:L.upc)||""]});return[v.join(","),...C.map(E=>E.map(I=>`"${I}"`).join(","))].join(`
`)}function m(P){const v=["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"],C=P.map(E=>{var I,U,Q,K;return[E.title,((I=E.metadata)==null?void 0:I.isrc)||"",(e==null?void 0:e.displayName)||"","",((U=E.metadata)==null?void 0:U.releaseDate)||"",((Q=E.metadata)==null?void 0:Q.duration)||"","",((K=E.metadata)==null?void 0:K.upc)||""]});return[v.join(","),...C.map(E=>E.map(I=>`"${I}"`).join(","))].join(`
`)}function b(P){const v=["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"],C=[];return P.forEach(E=>{var U,Q;const I=((U=E.metadata)==null?void 0:U.writers)||[];if(I.length===0)C.push([E.title,"","","100",((Q=E.metadata)==null?void 0:Q.isrc)||"",(e==null?void 0:e.displayName)||"","",""]);else{const K=Math.floor(100/I.length);I.forEach((R,B)=>{var F;const L=(R||"").trim().split(" "),S=L[0]||"",O=L.slice(1).join(" ")||"";C.push([E.title,S,O,String(K),((F=E.metadata)==null?void 0:F.isrc)||"",(e==null?void 0:e.displayName)||"","",""])})}}),[v.join(","),...C.map(E=>E.map(I=>`"${I}"`).join(","))].join(`
`)}function T(){if(!l)return;const P=x(),v=li[l],C=new Blob([P],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(C),I=document.createElement("a");I.href=E,I.download=`${v.name.replace(/\//g,"_")}_submission_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(E)}function k(){if(!l)return{headers:[],rows:[]};const P=t.filter(v=>r.includes(v.id));switch(l){case"mlc":return{headers:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID"],rows:P.map(v=>{var C,E,I,U;return[v.title,((C=v.metadata)==null?void 0:C.iswc)||"-",(((E=v.metadata)==null?void 0:E.writers)||[]).join("; ")||"-",(((I=v.metadata)==null?void 0:I.publishers)||[]).join("; ")||"-","100%",((U=v.metadata)==null?void 0:U.proWorkId)||"-"]})};case"ascap_bmi":return{headers:["Work Title","Writers","Publishers","ISWC","Duration","Genre"],rows:P.map(v=>{var C,E,I,U,Q;return[v.title,(((C=v.metadata)==null?void 0:C.writers)||[]).join("; ")||"-",(((E=v.metadata)==null?void 0:E.publishers)||[]).join("; ")||"-",((I=v.metadata)==null?void 0:I.iswc)||"-",((U=v.metadata)==null?void 0:U.duration)||"-",((Q=v.metadata)==null?void 0:Q.genre)||"-"]})};case"music_reports":return{headers:["Song Title","ISRC","ISWC","Writers","Release Date","UPC"],rows:P.map(v=>{var C,E,I,U,Q;return[v.title,((C=v.metadata)==null?void 0:C.isrc)||"-",((E=v.metadata)==null?void 0:E.iswc)||"-",(((I=v.metadata)==null?void 0:I.writers)||[]).join("; ")||"-",((U=v.metadata)==null?void 0:U.releaseDate)||"-",((Q=v.metadata)==null?void 0:Q.upc)||"-"]})};case"soundexchange":return{headers:["Recording Title","ISRC","Artist","Release Date","Duration","UPC"],rows:P.map(v=>{var C,E,I,U;return[v.title,((C=v.metadata)==null?void 0:C.isrc)||"-",(e==null?void 0:e.displayName)||"-",((E=v.metadata)==null?void 0:E.releaseDate)||"-",((I=v.metadata)==null?void 0:I.duration)||"-",((U=v.metadata)==null?void 0:U.upc)||"-"]})};case"hfa":return{headers:["Song Title","Writer First","Writer Last","Share","ISRC","Artist"],rows:P.flatMap(v=>{var I,U;const C=((I=v.metadata)==null?void 0:I.writers)||[];if(C.length===0)return[[v.title,"-","-","100",((U=v.metadata)==null?void 0:U.isrc)||"-",(e==null?void 0:e.displayName)||"-"]];const E=Math.floor(100/C.length);return C.map(Q=>{var R;const K=(Q||"").trim().split(" ");return[v.title,K[0]||"-",K.slice(1).join(" ")||"-",String(E),((R=v.metadata)==null?void 0:R.isrc)||"-",(e==null?void 0:e.displayName)||"-"]})})};default:return{headers:[],rows:[]}}}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submission File Generator"}),s.jsx("p",{className:"text-theme-secondary",children:"Export your project data in industry-standard formats for royalty and rights platforms"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center md:justify-start",children:[s.jsx("button",{onClick:()=>y("select-platform"),className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${d==="select-platform"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"}`,children:"1. Platform"}),s.jsx("button",{onClick:()=>l&&y("select-projects"),disabled:!l,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${d==="select-projects"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"2. Projects"}),s.jsx("button",{onClick:()=>r.length>0&&y("preview"),disabled:r.length===0,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${d==="preview"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"3. Download"})]}),d==="select-platform"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Destination Platform"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(li).map(([P,v])=>s.jsxs("button",{onClick:()=>{a(P),y("select-projects")},className:`card p-6 rounded-xl text-left transition-all hover:border-accent ${l===P?"border-2 border-accent":"border border-theme"}`,children:[s.jsx("h3",{className:"text-lg font-bold text-accent mb-1",children:v.name}),s.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:v.fullName}),s.jsx("p",{className:"text-xs text-theme-muted mb-3",children:v.description}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.fields.slice(0,4).map((C,E)=>s.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:C},E)),v.fields.length>4&&s.jsxs("span",{className:"text-xs text-theme-muted",children:["+",v.fields.length-4," more"]})]})]},P))}),s.jsxs("div",{className:"card p-6 rounded-xl mt-8",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"About File Formats"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-accent mb-1",children:"CSV (Comma-Separated Values)"}),s.jsx("p",{className:"text-theme-muted",children:"User-friendly format for bulk uploads. Opens in Excel or Google Sheets. Recommended for independent artists and small publishers."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-accent mb-1",children:"CWR (Common Works Registration)"}),s.jsx("p",{className:"text-theme-muted",children:'Industry "gold standard" for large publishers. Machine-readable format requiring specialized software. Used for automated catalog registration.'})]})]})]})]}),d==="select-projects"&&l&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Select Projects to Export"}),s.jsxs("p",{className:"text-sm text-theme-muted",children:["Exporting for: ",s.jsx("span",{className:"text-accent",children:li[l].name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:j,className:"text-sm text-accent hover:underline",children:"Select All"}),s.jsx("span",{className:"text-theme-muted",children:"|"}),s.jsx("button",{onClick:w,className:"text-sm text-theme-muted hover:underline",children:"Deselect All"})]})]}),o?s.jsx("p",{className:"text-theme-muted",children:"Loading projects..."}):t.length===0?s.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"No projects found. Create some projects first to export."}),s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Go to Dashboard"})]}):s.jsx("div",{className:"space-y-2",children:t.map(P=>{var v,C,E;return s.jsxs("div",{onClick:()=>u(P.id),className:`card p-4 rounded-lg cursor-pointer transition-all flex items-center gap-4 ${r.includes(P.id)?"border-2 border-accent bg-theme-secondary":"border border-theme hover:border-theme-muted"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${r.includes(P.id)?"border-accent bg-accent":"border-theme-muted bg-transparent"}`,children:r.includes(P.id)&&s.jsx("span",{className:"text-black text-xs font-bold",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold",children:P.title}),s.jsxs("div",{className:"flex gap-3 text-xs text-theme-muted mt-1",children:[s.jsx("span",{children:P.type}),s.jsx("span",{children:""}),s.jsx("span",{children:P.status}),((v=P.metadata)==null?void 0:v.isrc)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["ISRC: ",P.metadata.isrc]})]})]})]}),s.jsxs("div",{className:"text-xs text-theme-muted",children:[(C=P.metadata)!=null&&C.iswc?" ISWC":"",(E=P.metadata)!=null&&E.isrc?"  ISRC":""]})]},P.id)})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{onClick:()=>y("select-platform"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),s.jsxs("button",{onClick:()=>y("preview"),disabled:r.length===0,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:["Preview (",r.length," selected) "]})]})]}),d==="preview"&&l&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Preview & Download"}),s.jsxs("p",{className:"text-sm text-theme-muted",children:[s.jsx("span",{className:"text-accent",children:li[l].name})," format ",r.length," project",r.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"card p-6 rounded-xl mb-6 overflow-x-auto",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Data Preview"}),(()=>{const{headers:P,rows:v}=k();return s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b border-theme",children:P.map((C,E)=>s.jsx("th",{className:"text-left py-2 px-3 text-accent font-bold",children:C},E))})}),s.jsx("tbody",{children:v.map((C,E)=>s.jsx("tr",{className:"border-b border-theme-tertiary hover:bg-theme-secondary",children:C.map((I,U)=>s.jsx("td",{className:"py-2 px-3 text-theme-secondary",children:I},U))},E))})]})})()]}),s.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Missing Data Notice"}),s.jsx("p",{className:"text-sm text-theme-muted mb-4",children:'Fields marked with "-" are empty. Complete your project metadata for accurate submissions.'}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Tip: Add ISRC, ISWC, writers, and publishers in each project's details page before exporting."})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>y("select-projects"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),s.jsx("button",{onClick:T,className:"btn-primary px-8 py-3 rounded-lg font-bold",children:"Download CSV File"})]})]})]})]})}const Bl={shortBio:"",mediumBio:"",longBio:"",genre:"",location:"",photoUrls:[],videoUrls:[],featuredTracks:[],achievements:[],pressQuotes:[],socialLinks:{},contactEmail:"",contactName:"",bookingEmail:"",technicalRider:"",stagePlot:"",isPublished:!1};function Rg(){const{user:e}=bt(),[t,n]=N.useState(Bl),[r,i]=N.useState(!0),[l,a]=N.useState(!1),[o,c]=N.useState(null),[d,y]=N.useState("bio"),[p,u]=N.useState(""),[j,w]=N.useState(""),[x,_]=N.useState({title:"",url:"",platform:"spotify"}),[h,f]=N.useState(""),[m,b]=N.useState({quote:"",source:""});N.useEffect(()=>{T()},[]);async function T(){try{const S=await fetch("/api/epk");if(S.ok){const O=await S.json();O.epk&&n({...Bl,...O.epk,photoUrls:O.epk.photoUrls||[],videoUrls:O.epk.videoUrls||[],featuredTracks:O.epk.featuredTracks||[],achievements:O.epk.achievements||[],pressQuotes:O.epk.pressQuotes||[],socialLinks:O.epk.socialLinks||{}})}}catch(S){console.error("Failed to load EPK:",S)}finally{i(!1)}}async function k(S=!1){a(!0),c(null);try{const O=await fetch("/api/epk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,isPublished:S?!0:t.isPublished})});if(O.ok){const F=await O.json();n({...Bl,...F.epk,photoUrls:F.epk.photoUrls||[],videoUrls:F.epk.videoUrls||[],featuredTracks:F.epk.featuredTracks||[],achievements:F.epk.achievements||[],pressQuotes:F.epk.pressQuotes||[],socialLinks:F.epk.socialLinks||{}}),c({type:"success",text:S?"EPK published!":"EPK saved!"})}else c({type:"error",text:"Failed to save EPK"})}catch{c({type:"error",text:"Failed to save EPK"})}finally{a(!1)}}function P(){p.trim()&&(n({...t,photoUrls:[...t.photoUrls,p.trim()]}),u(""))}function v(S){n({...t,photoUrls:t.photoUrls.filter((O,F)=>F!==S)})}function C(){j.trim()&&(n({...t,videoUrls:[...t.videoUrls,j.trim()]}),w(""))}function E(S){n({...t,videoUrls:t.videoUrls.filter((O,F)=>F!==S)})}function I(){x.title.trim()&&x.url.trim()&&(n({...t,featuredTracks:[...t.featuredTracks,{...x}]}),_({title:"",url:"",platform:"spotify"}))}function U(S){n({...t,featuredTracks:t.featuredTracks.filter((O,F)=>F!==S)})}function Q(){h.trim()&&(n({...t,achievements:[...t.achievements,h.trim()]}),f(""))}function K(S){n({...t,achievements:t.achievements.filter((O,F)=>F!==S)})}function R(){m.quote.trim()&&(n({...t,pressQuotes:[...t.pressQuotes,{...m}]}),b({quote:"",source:""}))}function B(S){n({...t,pressQuotes:t.pressQuotes.filter((O,F)=>F!==S)})}function L(S,O){n({...t,socialLinks:{...t.socialLinks,[S]:O}})}return r?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("p",{className:"text-theme-muted",children:"Loading your EPK..."})})]}):s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(nt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Electronic Press Kit"}),s.jsx("p",{className:"text-theme-secondary",children:"Your professional resume for the music industry"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[t.isPublished&&(e==null?void 0:e.boxCode)&&s.jsx("a",{href:`/epk/${e.boxCode}`,target:"_blank",className:"text-xs text-accent hover:underline",children:"View Public EPK"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.isPublished?"bg-green-500/20 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:t.isPublished?"Published":"Draft"})]})]}),o&&s.jsx("div",{className:`p-3 rounded mb-6 ${o.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:o.text}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-theme pb-2",children:["bio","media","achievements","contact","technical"].map(S=>s.jsx("button",{onClick:()=>y(S),className:`px-4 py-2 rounded-t-lg text-sm transition-colors ${d===S?"bg-theme-tertiary text-accent font-bold":"text-theme-muted hover:text-theme-primary"}`,children:S==="bio"?"Biography":S==="media"?"Media & Music":S==="achievements"?"Press & Awards":S==="contact"?"Contact":"Technical"},S))}),d==="bio"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Artist Biography"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Write in third person so journalists can copy/paste. Create three versions for different contexts."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Short Bio (50-100 words) - Elevator pitch"}),s.jsx("textarea",{value:t.shortBio,onChange:S=>n({...t,shortBio:S.target.value}),className:"input-field w-full p-3 rounded h-24",placeholder:"[Artist Name] is a [genre] artist from [location]..."}),s.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[(t.shortBio||"").split(/\s+/).filter(Boolean).length," words"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Medium Bio (150-250 words) - For press"}),s.jsx("textarea",{value:t.mediumBio,onChange:S=>n({...t,mediumBio:S.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Expand on your story, influences, and recent work..."}),s.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[(t.mediumBio||"").split(/\s+/).filter(Boolean).length," words"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Long Bio - For in-depth features"}),s.jsx("textarea",{value:t.longBio,onChange:S=>n({...t,longBio:S.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:"Your complete artist story..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Genre"}),s.jsx("input",{type:"text",value:t.genre,onChange:S=>n({...t,genre:S.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Hip-Hop, R&B, Electronic..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Location"}),s.jsx("input",{type:"text",value:t.location,onChange:S=>n({...t,location:S.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Los Angeles, CA"})]})]})]})]})}),d==="media"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Tracks"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 of your best tracks. Lead with your strongest song."}),s.jsx("div",{className:"space-y-3 mb-4",children:t.featuredTracks.map((S,O)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsxs("span",{className:"text-accent font-bold",children:[O+1,"."]}),s.jsx("span",{className:"flex-1",children:S.title}),s.jsx("span",{className:"text-xs text-theme-muted",children:S.platform}),s.jsx("button",{onClick:()=>U(O),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},O))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("input",{type:"text",value:x.title,onChange:S=>_({...x,title:S.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Track title"}),s.jsx("input",{type:"text",value:x.url,onChange:S=>_({...x,url:S.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Streaming URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:x.platform,onChange:S=>_({...x,platform:S.target.value}),className:"input-field p-2 rounded text-sm flex-1",children:[s.jsx("option",{value:"spotify",children:"Spotify"}),s.jsx("option",{value:"apple",children:"Apple Music"}),s.jsx("option",{value:"soundcloud",children:"SoundCloud"}),s.jsx("option",{value:"youtube",children:"YouTube"}),s.jsx("option",{value:"other",children:"Other"})]}),s.jsx("button",{onClick:I,className:"btn-primary px-3 py-2 rounded text-sm",children:"Add"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Photos"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 high-resolution photo URLs. Include landscape, portrait, and square formats."}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:t.photoUrls.map((S,O)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:S,alt:`Photo ${O+1}`,className:"w-full h-32 object-cover rounded"}),s.jsx("button",{onClick:()=>v(O),className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]},O))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:p,onChange:S=>u(S.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Photo URL (https://...)"}),s.jsx("button",{onClick:P,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Photo"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Videos"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 2-3 video links: live performances and official music videos."}),s.jsx("div",{className:"space-y-2 mb-4",children:t.videoUrls.map((S,O)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsx("span",{className:"flex-1 text-sm truncate",children:S}),s.jsx("button",{onClick:()=>E(O),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},O))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:j,onChange:S=>w(S.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Video URL (YouTube, Vimeo...)"}),s.jsx("button",{onClick:C,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Video"})]})]})]}),d==="achievements"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Achievements & Stats"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Awards, streaming milestones, notable performances, chart positions."}),s.jsx("div",{className:"space-y-2 mb-4",children:t.achievements.map((S,O)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsx("span",{className:"flex-1",children:S}),s.jsx("button",{onClick:()=>K(O),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},O))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:h,onChange:S=>f(S.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"1M+ streams on Spotify, Winner of XYZ Award..."}),s.jsx("button",{onClick:Q,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Press Quotes"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Notable quotes from press, reviews, or industry professionals."}),s.jsx("div",{className:"space-y-3 mb-4",children:t.pressQuotes.map((S,O)=>s.jsxs("div",{className:"bg-theme-secondary p-4 rounded",children:[s.jsxs("p",{className:"italic text-theme-primary",children:['"',S.quote,'"']}),S.source&&s.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:[" ",S.source]}),s.jsx("button",{onClick:()=>B(O),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]},O))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:m.quote,onChange:S=>b({...m,quote:S.target.value}),className:"input-field w-full p-2 rounded text-sm h-20",placeholder:"Quote text..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:m.source,onChange:S=>b({...m,source:S.target.value}),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Source (Rolling Stone, Billboard...)"}),s.jsx("button",{onClick:R,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Quote"})]})]})]})]}),d==="contact"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:t.contactName,onChange:S=>n({...t,contactName:S.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Manager, publicist, or artist name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Press/General Inquiries Email"}),s.jsx("input",{type:"email",value:t.contactEmail,onChange:S=>n({...t,contactEmail:S.target.value}),className:"input-field w-full p-3 rounded",placeholder:"press@artist.com"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Booking Email"}),s.jsx("input",{type:"email",value:t.bookingEmail,onChange:S=>n({...t,bookingEmail:S.target.value}),className:"input-field w-full p-3 rounded",placeholder:"booking@artist.com"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Social Links"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["instagram","twitter","tiktok","youtube","spotify","soundcloud","website"].map(S=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1 capitalize",children:S}),s.jsx("input",{type:"text",value:t.socialLinks[S]||"",onChange:O=>L(S,O.target.value),className:"input-field w-full p-3 rounded",placeholder:`https://${S}.com/...`})]},S))})]})]}),d==="technical"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Technical Rider"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Equipment needs, input list, and stage requirements for venues."}),s.jsx("textarea",{value:t.technicalRider,onChange:S=>n({...t,technicalRider:S.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:`Input List:
- Vocal Mic (SM58 or equivalent)
- DI Box for backing tracks
- 2 Monitor wedges

Equipment Provided:
- Laptop with backing tracks
- ...`})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Stage Plot"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Describe your stage setup or link to a stage plot image."}),s.jsx("textarea",{value:t.stagePlot,onChange:S=>n({...t,stagePlot:S.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Stage setup description or URL to stage plot diagram..."})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-theme",children:[s.jsx("div",{className:"text-sm text-theme-muted",children:(e==null?void 0:e.boxCode)&&s.jsxs("span",{children:["Your EPK URL: ",s.jsxs("code",{className:"text-accent",children:["/epk/",e.boxCode]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>k(!1),disabled:l,className:"bg-theme-secondary px-6 py-3 rounded-lg font-bold hover:opacity-80 disabled:opacity-50",children:l?"Saving...":"Save Draft"}),s.jsx("button",{onClick:()=>k(!0),disabled:l,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:l?"Publishing...":t.isPublished?"Update & Publish":"Publish EPK"})]})]})]})]})}function Og(){const{boxCode:e}=cl(),{theme:t,toggleTheme:n}=Ar(),[r,i]=N.useState(null),[l,a]=N.useState(!0),[o,c]=N.useState(""),[d,y]=N.useState("bio");N.useEffect(()=>{p()},[e]);async function p(){try{const x=await fetch(`/api/epk/${e}`);if(x.ok){const _=await x.json();i(_)}else c("Press kit not found or not published")}catch{c("Failed to load press kit")}finally{a(!1)}}if(l)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-theme-muted",children:"Loading press kit..."})]})});if(o||!r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Press Kit Not Found"}),s.jsx("p",{className:"text-theme-muted mb-6",children:o}),s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Return to BOX"})]})});const{epk:u,artist:j,projects:w}=r;return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[s.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),s.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono",children:["[",t,"]"]})]})}),s.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs("section",{className:"text-center mb-12",children:[j.profileImageUrl&&s.jsx("img",{src:j.profileImageUrl,alt:j.displayName,className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-accent"}),s.jsx("h1",{className:"text-4xl font-bold mb-2",children:j.displayName}),u.genre&&s.jsx("p",{className:"text-accent text-lg mb-1",children:u.genre}),u.location&&s.jsx("p",{className:"text-theme-muted",children:u.location}),Object.keys(u.socialLinks).length>0&&s.jsx("div",{className:"flex justify-center gap-4 mt-6",children:Object.entries(u.socialLinks).filter(([x,_])=>_).map(([x,_])=>s.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"text-theme-muted hover:text-accent transition-colors capitalize text-sm",children:x},x))})]}),s.jsx("nav",{className:"flex flex-wrap justify-center gap-2 mb-8 border-b border-theme pb-4",children:["bio","music","media","press","contact"].map(x=>s.jsx("button",{onClick:()=>y(x),className:`px-4 py-2 rounded-lg text-sm transition-colors ${d===x?"bg-accent text-accent-contrast font-bold":"text-theme-muted hover:text-theme-primary"}`,children:x==="bio"?"About":x==="music"?"Music":x==="media"?"Photos & Videos":x==="press"?"Press":"Contact"},x))}),d==="bio"&&s.jsxs("section",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"prose prose-invert max-w-none",children:u.mediumBio?s.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:u.mediumBio}):u.shortBio?s.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:u.shortBio}):s.jsx("p",{className:"text-theme-muted",children:"No biography available."})}),u.longBio&&s.jsxs("details",{className:"mt-8",children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"Read full bio"}),s.jsx("p",{className:"mt-4 text-theme-secondary whitespace-pre-wrap",children:u.longBio})]})]}),d==="music"&&s.jsxs("section",{children:[u.featuredTracks.length>0?s.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:u.featuredTracks.map((x,_)=>s.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"card p-6 rounded-xl flex items-center gap-4 hover:border-accent transition-colors",children:[s.jsx("span",{className:"text-2xl font-bold text-accent",children:_+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg",children:x.title}),s.jsx("p",{className:"text-xs text-theme-muted capitalize",children:x.platform})]}),s.jsx("span",{className:"text-accent",children:"Listen"})]},_))}):s.jsx("p",{className:"text-center text-theme-muted",children:"No featured tracks available."}),w.length>0&&s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Published Projects"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:w.map(x=>s.jsxs("div",{className:"card p-4 rounded-xl",children:[s.jsx("h3",{className:"font-bold",children:x.title}),s.jsx("p",{className:"text-xs text-theme-muted capitalize",children:x.type})]},x.id))})]})]}),d==="media"&&s.jsxs("section",{className:"space-y-12",children:[u.photoUrls.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Photos"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.photoUrls.map((x,_)=>s.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:x,alt:`Photo ${_+1}`,className:"w-full h-48 object-cover rounded-lg hover:opacity-80 transition-opacity"})},_))})]}),u.videoUrls.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Videos"}),s.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:u.videoUrls.map((x,_)=>s.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"card p-4 rounded-xl hover:border-accent transition-colors flex items-center gap-4",children:s.jsxs("span",{className:"text-2xl",children:["Watch Video ",_+1]})},_))})]}),u.photoUrls.length===0&&u.videoUrls.length===0&&s.jsx("p",{className:"text-center text-theme-muted",children:"No media available."})]}),d==="press"&&s.jsxs("section",{className:"max-w-3xl mx-auto space-y-8",children:[u.achievements.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Achievements"}),s.jsx("ul",{className:"space-y-2",children:u.achievements.map((x,_)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-accent",children:""}),s.jsx("span",{children:x})]},_))})]}),u.pressQuotes.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Press Quotes"}),s.jsx("div",{className:"space-y-6",children:u.pressQuotes.map((x,_)=>s.jsxs("blockquote",{className:"card p-6 rounded-xl border-l-4 border-accent",children:[s.jsxs("p",{className:"text-lg italic",children:['"',x.quote,'"']}),x.source&&s.jsxs("footer",{className:"mt-3 text-theme-muted text-sm",children:[" ",x.source]})]},_))})]}),u.achievements.length===0&&u.pressQuotes.length===0&&s.jsx("p",{className:"text-center text-theme-muted",children:"No press information available."})]}),d==="contact"&&s.jsxs("section",{className:"max-w-2xl mx-auto space-y-8",children:[s.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get In Touch"}),s.jsxs("div",{className:"space-y-4",children:[u.contactName&&s.jsx("p",{className:"text-lg",children:u.contactName}),u.contactEmail&&s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Press & General Inquiries"}),s.jsx("a",{href:`mailto:${u.contactEmail}`,className:"text-accent hover:underline text-lg",children:u.contactEmail})]}),u.bookingEmail&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Booking"}),s.jsx("a",{href:`mailto:${u.bookingEmail}`,className:"text-accent hover:underline text-lg",children:u.bookingEmail})]})]})]}),(u.technicalRider||u.stagePlot)&&s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Technical Information"}),u.technicalRider&&s.jsxs("details",{className:"mb-4",children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Technical Rider"}),s.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:u.technicalRider})]}),u.stagePlot&&s.jsxs("details",{children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Stage Plot"}),s.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:u.stagePlot})]})]})]})]}),s.jsxs("footer",{className:"border-t border-theme p-6 mt-12 text-center",children:[s.jsxs("p",{className:"text-theme-muted text-sm",children:["Electronic Press Kit powered by ",s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"BOX"})," by luctheleo.com"]}),s.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["BOX Code: ",j.boxCode]})]})]})}function Dg(){const{theme:e,toggleTheme:t}=Ar(),[n,r]=N.useState("routes"),[i,l]=N.useState({auth:!0,projects:!0,notes:!0,community:!0,admin:!0,studio:!0,epk:!0,uploads:!0,blog:!0});function a(u){l(j=>({...j,[u]:!j[u]}))}const o=[{id:"auth",label:"Authentication",description:"Google OAuth, email/password login, registration, verification",routes:[{method:"GET",path:"/api/auth/google",desc:"Redirect to Google OAuth",auth:!1},{method:"GET",path:"/api/auth/google/callback",desc:"Google OAuth callback handler",auth:!1},{method:"POST",path:"/api/auth/register",desc:"Register new user (email/password)",auth:!1},{method:"POST",path:"/api/auth/login",desc:"Login with email/password",auth:!1},{method:"GET",path:"/api/auth/verify",desc:"Verify email address via token",auth:!1},{method:"POST",path:"/api/auth/resend-verification",desc:"Resend verification email",auth:!1},{method:"GET",path:"/api/auth/user",desc:"Get current authenticated user",auth:!0},{method:"POST",path:"/api/auth/change-password",desc:"Change user password",auth:!0},{method:"POST",path:"/api/auth/update-profile",desc:"Update display name / profile",auth:!0},{method:"GET",path:"/api/logout",desc:"End session and logout",auth:!1}]},{id:"projects",label:"Projects",description:"CRUD operations for creative projects (tracks, albums, EPs)",routes:[{method:"GET",path:"/api/projects",desc:"List all user projects",auth:!0},{method:"POST",path:"/api/projects",desc:"Create a new project",auth:!0},{method:"GET",path:"/api/projects/:id",desc:"Get project details by ID",auth:!0},{method:"PUT",path:"/api/projects/:id",desc:"Update a project",auth:!0},{method:"DELETE",path:"/api/projects/:id",desc:"Delete a project",auth:!0}]},{id:"notes",label:"Creative Notes",description:"Private notes for inspiration, ideas, and media links",routes:[{method:"GET",path:"/api/creative/notes",desc:"List all user notes",auth:!0},{method:"POST",path:"/api/creative/notes",desc:"Create a new note",auth:!0},{method:"PUT",path:"/api/creative/notes/:id",desc:"Update a note",auth:!0},{method:"DELETE",path:"/api/creative/notes/:id",desc:"Delete a note",auth:!0},{method:"POST",path:"/api/creative/notes/:id/pin",desc:"Toggle pin status",auth:!0},{method:"POST",path:"/api/creative/notes/reorder",desc:"Reorder notes (drag & drop)",auth:!0}]},{id:"community",label:"Community",description:"Share notes publicly, favorites, and comments",routes:[{method:"POST",path:"/api/community/submit",desc:"Submit note for community sharing",auth:!0},{method:"GET",path:"/api/community/my-submissions",desc:"Get user's submission status",auth:!0},{method:"GET",path:"/api/community",desc:"Get all approved shared content",auth:!1},{method:"POST",path:"/api/community/:id/favorite",desc:"Toggle favorite on content",auth:!0},{method:"POST",path:"/api/community/:id/comment",desc:"Add comment to content",auth:!0},{method:"GET",path:"/api/community/:id/comments",desc:"Get comments for content",auth:!1},{method:"GET",path:"/api/community/my-favorites",desc:"Get user's favorited items",auth:!0}]},{id:"admin",label:"Admin",description:"Admin panel for managing users, submissions, and blog posts",routes:[{method:"POST",path:"/api/admin/login",desc:"Admin login (password)",auth:!1},{method:"POST",path:"/api/admin/logout",desc:"Admin logout",auth:!1},{method:"GET",path:"/api/admin/check",desc:"Check admin session",auth:!1},{method:"GET",path:"/api/admin/users",desc:"Get all users",auth:!0},{method:"GET",path:"/api/admin/projects",desc:"Get all projects",auth:!0},{method:"GET",path:"/api/admin/stats",desc:"Get system statistics",auth:!0},{method:"GET",path:"/api/admin/submissions",desc:"Get community submissions",auth:!0},{method:"POST",path:"/api/admin/submissions/:id/review",desc:"Approve/reject submission",auth:!0},{method:"POST",path:"/api/admin/blog",desc:"Create blog post",auth:!0},{method:"POST",path:"/api/admin/blog/:id/publish",desc:"Toggle blog publish status",auth:!0}]},{id:"blog",label:"Blog",description:"Public blog posts created from community content",routes:[{method:"GET",path:"/api/blog",desc:"Get published blog posts",auth:!1}]},{id:"studio",label:"Studio",description:"Studio management - artist roster, invitations, portfolio",routes:[{method:"GET",path:"/api/studio/artists",desc:"Get studio's artist roster",auth:!0},{method:"POST",path:"/api/studio/invite",desc:"Invite artist by email",auth:!0},{method:"GET",path:"/api/studio/artists/:artistId/projects",desc:"Get artist's projects",auth:!0},{method:"POST",path:"/api/studio/projects/:projectId/feature",desc:"Toggle project featured",auth:!0},{method:"DELETE",path:"/api/studio/artists/:relationId",desc:"Remove artist from roster",auth:!0},{method:"GET",path:"/api/portfolio/:studioId",desc:"Get public studio portfolio",auth:!1},{method:"POST",path:"/api/studio/invitations/:invitationId/accept",desc:"Accept studio invitation",auth:!0},{method:"GET",path:"/api/artist/invitations",desc:"Get pending invitations",auth:!0}]},{id:"epk",label:"Electronic Press Kit (EPK)",description:"Create and share professional press kits",routes:[{method:"GET",path:"/api/epk",desc:"Get current user's EPK",auth:!0},{method:"POST",path:"/api/epk",desc:"Create or update EPK",auth:!0},{method:"GET",path:"/api/epk/:boxCode",desc:"Get public EPK by BOX code",auth:!1}]},{id:"uploads",label:"File Uploads",description:"Object storage for media files",routes:[{method:"POST",path:"/api/uploads/request-url",desc:"Get presigned upload URL",auth:!0},{method:"GET",path:"/objects/:objectPath(*)",desc:"Serve uploaded files",auth:!1}]}],c={GET:"bg-green-600",POST:"bg-blue-600",PUT:"bg-yellow-600",DELETE:"bg-red-600"},d=[{name:"Users",color:"#3b82f6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"email",type:"String",key:"UQ"},{name:"passwordHash",type:"String",key:""},{name:"displayName",type:"String",key:""},{name:"firstName",type:"String",key:""},{name:"lastName",type:"String",key:""},{name:"profileImageUrl",type:"String",key:""},{name:"role",type:"String",key:""},{name:"businessName",type:"String",key:""},{name:"businessBio",type:"String",key:""},{name:"boxCode",type:"String",key:"UQ"},{name:"emailVerified",type:"Boolean",key:""},{name:"verificationToken",type:"String",key:""},{name:"verificationTokenExpires",type:"Date",key:""},{name:"googleId",type:"String",key:""},{name:"githubId",type:"String",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"Projects",color:"#10b981",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"title",type:"String",key:""},{name:"type",type:"String",key:""},{name:"status",type:"String",key:""},{name:"description",type:"String",key:""},{name:"metadata",type:"Mixed (JSON)",key:""},{name:"isFeatured",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"CreativeNotes",color:"#f59e0b",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"category",type:"String",key:""},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"mediaUrls",type:"String[]",key:""},{name:"tags",type:"String[]",key:""},{name:"isPinned",type:"Boolean",key:""},{name:"sortOrder",type:"Number",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"SharedContent",color:"#8b5cf6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"noteId",type:"ObjectId",key:"FK -> CreativeNotes"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"adminNotes",type:"String",key:""},{name:"blogPostId",type:"ObjectId",key:"FK -> BlogPosts"},{name:"approvedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityFavorites",color:"#ec4899",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityComments",color:"#ef4444",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"content",type:"String",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"BlogPosts",color:"#06b6d4",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"authorId",type:"ObjectId",key:"FK -> Users"},{name:"isPublished",type:"Boolean",key:""},{name:"publishedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"StudioArtists",color:"#f97316",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"studioId",type:"ObjectId",key:"FK -> Users"},{name:"artistId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"inviteEmail",type:"String",key:""},{name:"acceptedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"Sessions",color:"#64748b",fields:[{name:"_id",type:"String",key:"PK"},{name:"expires",type:"Date",key:""},{name:"session",type:"Mixed (JSON)",key:""}]},{name:"PressKits",color:"#84cc16",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users (unique)"},{name:"shortBio",type:"String",key:""},{name:"mediumBio",type:"String",key:""},{name:"longBio",type:"String",key:""},{name:"genre",type:"String",key:""},{name:"location",type:"String",key:""},{name:"photoUrls",type:"String[]",key:""},{name:"videoUrls",type:"String[]",key:""},{name:"featuredTracks",type:"Mixed[]",key:""},{name:"achievements",type:"Mixed[]",key:""},{name:"pressQuotes",type:"Mixed[]",key:""},{name:"socialLinks",type:"Mixed",key:""},{name:"contactEmail",type:"String",key:""},{name:"contactName",type:"String",key:""},{name:"bookingEmail",type:"String",key:""},{name:"technicalRider",type:"String",key:""},{name:"stagePlot",type:"String",key:""},{name:"isPublished",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]}],y=[{from:"Users",to:"Projects",label:"1 : N",desc:"User owns many Projects"},{from:"Users",to:"CreativeNotes",label:"1 : N",desc:"User owns many Notes"},{from:"Users",to:"PressKits",label:"1 : 1",desc:"User has one Press Kit"},{from:"Users",to:"StudioArtists",label:"1 : N",desc:"Studio has many Artist relationships"},{from:"CreativeNotes",to:"SharedContent",label:"1 : 1",desc:"Note can be shared once"},{from:"Users",to:"SharedContent",label:"1 : N",desc:"User submits content"},{from:"SharedContent",to:"CommunityFavorites",label:"1 : N",desc:"Content has many Favorites"},{from:"SharedContent",to:"CommunityComments",label:"1 : N",desc:"Content has many Comments"},{from:"SharedContent",to:"BlogPosts",label:"1 : 1",desc:"Content becomes Blog Post"},{from:"Users",to:"BlogPosts",label:"1 : N",desc:"Admin authors Blog Posts"},{from:"Users",to:"CommunityFavorites",label:"1 : N",desc:"User has many Favorites"},{from:"Users",to:"CommunityComments",label:"1 : N",desc:"User has many Comments"}],p=o.reduce((u,j)=>u+j.routes.length,0);return s.jsxs("div",{className:"min-h-screen bg-theme-primary text-theme-primary",children:[s.jsx("div",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold",children:"BOX - Capstone Documentation"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Backend Route Tree & Entity Relationship Diagram"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:t,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",e,"]"]}),s.jsx("a",{href:"/",className:"text-xs text-accent hover:underline",children:"Back to App"})]})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme",children:[s.jsx("button",{onClick:()=>r("routes"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="routes"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Backend Route Tree"}),s.jsx("button",{onClick:()=>r("erd"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="erd"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Entity Relationship Diagram"})]}),n==="routes"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Backend Route Tree"}),s.jsxs("p",{className:"text-sm text-theme-secondary mb-3",children:["Express.js REST API running on port 3000, proxied through Vite on port 5000. Most routes prefixed with ",s.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/api"}),". Object storage served at ",s.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/objects"}),"."]}),s.jsxs("div",{className:"flex gap-4 text-xs text-theme-muted flex-wrap",children:[s.jsxs("span",{children:[o.length," route groups"]}),s.jsxs("span",{children:[p," total endpoints"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded bg-green-600 inline-block"})," GET"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded bg-blue-600 inline-block"})," POST"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded bg-yellow-600 inline-block"})," PUT"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 rounded bg-red-600 inline-block"})," DELETE"]})]})]})]}),s.jsxs("div",{className:"font-mono text-sm",children:[s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-t-lg border border-theme",children:[s.jsx("span",{className:"text-accent font-bold",children:"EXPRESS APP"}),s.jsx("span",{className:"text-theme-muted ml-2",children:"server/index.ts"})]}),o.map((u,j)=>s.jsxs("div",{className:`border-x border-theme ${j===o.length-1?"border-b rounded-b-lg":""}`,children:[s.jsxs("button",{onClick:()=>a(u.id),className:"w-full text-left p-3 flex items-center gap-2 hover:bg-theme-secondary transition-colors border-b border-theme",children:[s.jsx("span",{className:"text-theme-muted w-4 text-center",children:i[u.id]?"v":">"}),s.jsxs("span",{className:"text-accent font-bold",children:["/api/",u.id==="blog"?"blog":u.id==="uploads"?"uploads":u.id]}),s.jsxs("span",{className:"text-theme-muted text-xs ml-2",children:[u.label," (",u.routes.length," routes)"]})]}),i[u.id]&&s.jsxs("div",{className:"bg-theme-primary",children:[s.jsx("div",{className:"px-4 py-2 text-xs text-theme-muted border-b border-theme bg-theme-secondary/50",children:u.description}),u.routes.map((w,x)=>s.jsxs("div",{className:"flex items-start gap-3 px-4 py-2 border-b border-theme/50 last:border-b-0 hover:bg-theme-secondary/30",children:[s.jsx("span",{className:"text-theme-muted w-6 flex-shrink-0 pt-0.5",children:x===u.routes.length-1?"":""}),s.jsx("span",{className:`${c[w.method]} text-white text-xs px-2 py-0.5 rounded font-bold w-16 text-center flex-shrink-0`,children:w.method}),s.jsx("span",{className:"text-theme-primary flex-1 break-all",children:w.path}),s.jsx("span",{className:"text-theme-muted text-xs flex-shrink-0 hidden sm:block max-w-48",children:w.desc}),w.auth&&s.jsx("span",{className:"text-yellow-500 text-xs flex-shrink-0",title:"Requires authentication",children:""})]},x))]})]},u.id))]}),s.jsxs("div",{className:"mt-6 p-4 bg-theme-secondary rounded-lg border border-theme",children:[s.jsx("h3",{className:"font-bold text-sm mb-2",children:"Middleware Stack"}),s.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[s.jsx("p",{children:"1. express.json() - Parse JSON request bodies"}),s.jsx("p",{children:"2. express-session + connect-mongo - Session management (MongoDB store)"}),s.jsx("p",{children:"3. passport.initialize() + passport.session() - Authentication"}),s.jsx("p",{children:"4. isAuthenticated - Route-level auth guard (checks session + token expiry)"}),s.jsx("p",{children:"5. isAdmin - Admin-only route guard (checks session.isAdmin)"})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg border border-theme",children:[s.jsx("h3",{className:"font-bold text-sm mb-2",children:"Authentication Flow"}),s.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[s.jsxs("p",{children:["Google OAuth: Client ","->"," /api/auth/google ","->"," Google Consent ","->"," /api/auth/google/callback ","->"," Create/Find User ","->"," Set Session ","->"," Redirect /"]}),s.jsxs("p",{children:["Email/Pass: Client ","->"," POST /api/auth/register ","->"," Hash Password ","->"," Send Verification Email ","->"," GET /api/auth/verify?token=... ","->"," Activate Account"]}),s.jsxs("p",{children:["Login: Client ","->"," POST /api/auth/login ","->"," Verify Email + Password ","->"," Set Session ","->"," Return User"]})]})]})]}),n==="erd"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Entity Relationship Diagram"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-1",children:"MongoDB (Atlas) with Mongoose ODM. 10 collections with referential relationships."}),s.jsx("p",{className:"text-xs text-theme-muted",children:"PK = Primary Key | FK = Foreign Key | UQ = Unique Constraint"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"font-bold text-sm mb-3 text-accent",children:"Relationships"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:y.map((u,j)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-theme-secondary rounded border border-theme",children:[s.jsx("span",{className:"font-bold text-theme-primary",children:u.from}),s.jsx("span",{className:"text-accent font-mono",children:u.label}),s.jsx("span",{className:"font-bold text-theme-primary",children:u.to}),s.jsx("span",{className:"text-theme-muted ml-auto hidden sm:block",children:u.desc})]},j))})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:d.map(u=>s.jsxs("div",{className:"border border-theme rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-3 py-2 font-bold text-sm text-white",style:{backgroundColor:u.color},children:u.name}),s.jsx("div",{className:"divide-y divide-theme/50",children:u.fields.map((j,w)=>s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 text-xs ${j.key?"bg-theme-secondary":"bg-theme-primary"}`,children:[s.jsx("span",{className:"font-mono text-theme-primary flex-1",children:j.name}),s.jsx("span",{className:"text-theme-muted",children:j.type}),j.key&&s.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded ${j.key==="PK"?"bg-yellow-500/20 text-yellow-500":j.key==="UQ"?"bg-purple-500/20 text-purple-500":"bg-blue-500/20 text-blue-500"}`,children:j.key})]},w))})]},u.name))}),s.jsxs("div",{className:"mt-8 p-4 bg-theme-secondary rounded-lg border border-theme",children:[s.jsx("h3",{className:"font-bold text-sm mb-3",children:"Data Flow Summary"}),s.jsxs("div",{className:"font-mono text-xs space-y-3 text-theme-secondary",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-accent font-bold mb-1",children:"User Registration & Auth Flow:"}),s.jsxs("p",{children:["New User ","->"," Users collection (email, passwordHash or googleId) ","->"," Sessions collection (express-session)"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-accent font-bold mb-1",children:"Project Management Flow:"}),s.jsxs("p",{children:["User ","->"," Creates Projects (userId FK) ","->"," Tracks status: concept ","->"," development ","->"," review ","->"," published"]}),s.jsx("p",{children:"Project.metadata stores: ISRC, UPC, copyright #, PRO registration, distributor info"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-accent font-bold mb-1",children:"Creative & Community Flow:"}),s.jsxs("p",{children:["User ","->"," CreativeNotes (private) ","->"," SharedContent (submit for review) ","->"," Admin approves ","->"," Public community"]}),s.jsxs("p",{children:["SharedContent ","->"," CommunityFavorites + CommunityComments (user engagement)"]}),s.jsxs("p",{children:["SharedContent ","->"," BlogPosts (admin curates into blog)"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-accent font-bold mb-1",children:"Studio & Portfolio Flow:"}),s.jsxs("p",{children:["Studio User ","->"," StudioArtists (invite by email) ","->"," Artist accepts ","->"," Studio views artist Projects"]}),s.jsxs("p",{children:["Studio User ","->"," Toggle isFeatured on artist Projects ","->"," Public Portfolio page"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-accent font-bold mb-1",children:"EPK Flow:"}),s.jsxs("p",{children:["User ","->"," PressKits (1:1, unique userId) ","->"," Public view via /epk/:boxCode"]})]})]})]})]}),s.jsx("div",{className:"mt-8 pt-4 border-t border-theme text-center text-xs text-theme-muted",children:s.jsx("p",{children:"BOX by luctheleo.com | MERN Stack (MongoDB, Express, React, Node.js) | Capstone Project Documentation"})})]})]})}const Ks=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function St({opacity:e=.08}){const[t,n]=N.useState(null);if(N.useEffect(()=>{if(!Ks||Ks.length===0)return;const i=sessionStorage.getItem("bg_gif_last"),l=i?parseInt(i,10):-1;let a=0;if(Ks.length===1)a=0;else{const o=Ks.map((c,d)=>d).filter(c=>c!==l);a=o[Math.floor(Math.random()*o.length)]}return n(a),sessionStorage.setItem("bg_gif_last",String(a)),document.body.classList.add("has-bg-gif"),()=>{document.body.classList.remove("has-bg-gif")}},[]),t===null)return null;const r=Ks[t];return s.jsx("div",{className:"background-gif-container","aria-hidden":"true",children:s.jsx("img",{src:r,alt:"",className:"background-gif",style:{opacity:e}})})}function Ig(){const{isLoading:e,isAuthenticated:t}=bt(),[n]=dl(),[r,i]=N.useState(!1);return N.useEffect(()=>{sessionStorage.getItem("bios_passed")==="true"&&i(!0)},[]),r?n==="/admin"?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(yg,{})]}):n==="/community"?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(jg,{})]}):n==="/docs"?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(bg,{})]}):n==="/capstone"?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(Dg,{})]}):n.startsWith("/portfolio/")?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(_g,{})]}):n.startsWith("/epk/")?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(Og,{})]}):e?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})]}):t?s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsxs(og,{children:[s.jsx(ft,{path:"/",component:mg}),s.jsx(ft,{path:"/creative",component:fg}),s.jsx(ft,{path:"/project/:id",component:pg}),s.jsx(ft,{path:"/generator",component:xg}),s.jsx(ft,{path:"/documents",component:gg}),s.jsx(ft,{path:"/submissions",component:Tg}),s.jsx(ft,{path:"/epk",component:Rg}),s.jsx(ft,{path:"/settings",component:vg}),s.jsx(ft,{path:"/studio",component:Pg}),s.jsx(ft,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-gray-500",children:"Page not found"})]})})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(St,{}),s.jsx(ug,{})]}):s.jsx(cg,{onComplete:()=>{sessionStorage.setItem("bios_passed","true"),i(!0)}})}const Ag=new gx({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});$l.createRoot(document.getElementById("root")).render(s.jsx(Ku.StrictMode,{children:s.jsx(yx,{client:Ag,children:s.jsx(Ox,{children:s.jsx(Ig,{})})})}));
