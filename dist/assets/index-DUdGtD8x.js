var _d=e=>{throw TypeError(e)};var _o=(e,t,n)=>t.has(e)||_d("Cannot "+n);var N=(e,t,n)=>(_o(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>t.has(e)?_d("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),O=(e,t,n,s)=>(_o(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),W=(e,t,n)=>(_o(e,t,"access private method"),n);var Bi=(e,t,n,s)=>({set _(r){O(e,t,r,n)},get _(){return N(e,t,s)}});function tv(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _f={exports:{}},ho={},Of={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),sv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),lv=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),dv=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),Od=Symbol.iterator;function mv(e){return e===null||typeof e!="object"?null:(e=Od&&e[Od]||e["@@iterator"],typeof e=="function"?e:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},If=Object.assign,Ff={};function gr(e,t,n){this.props=e,this.context=t,this.refs=Ff,this.updater=n||Lf}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vf(){}Vf.prototype=gr.prototype;function su(e,t,n){this.props=e,this.context=t,this.refs=Ff,this.updater=n||Lf}var ru=su.prototype=new Vf;ru.constructor=su;If(ru,gr.prototype);ru.isPureReactComponent=!0;var Ld=Array.isArray,Uf=Object.prototype.hasOwnProperty,iu={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function zf(e,t,n){var s,r={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Uf.call(t,s)&&!Bf.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ei,type:e,key:a,ref:o,props:r,_owner:iu.current}}function fv(e,t){return{$$typeof:Ei,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function au(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ei}function pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Id=/\/+/g;function Oo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pv(""+e.key):t.toString(36)}function ha(e,t,n,s,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ei:case sv:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+Oo(o,0):s,Ld(r)?(n="",e!=null&&(n=e.replace(Id,"$&/")+"/"),ha(r,t,n,"",function(u){return u})):r!=null&&(au(r)&&(r=fv(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Id,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",Ld(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+Oo(a,l);o+=ha(a,t,n,c,r)}else if(c=mv(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+Oo(a,l++),o+=ha(a,t,n,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zi(e,t,n){if(e==null)return e;var s=[],r=0;return ha(e,s,"","",function(a){return t.call(n,a,r++)}),s}function xv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ma={transition:null},gv={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ma,ReactCurrentOwner:iu};function $f(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:zi,forEach:function(e,t,n){zi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=gr;G.Fragment=rv;G.Profiler=av;G.PureComponent=su;G.StrictMode=iv;G.Suspense=uv;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;G.act=$f;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=If({},e.props),r=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=iu.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Uf.call(t,c)&&!Bf.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ei,type:e.type,key:r,ref:a,props:s,_owner:o}};G.createContext=function(e){return e={$$typeof:lv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ov,_context:e},e.Consumer=e};G.createElement=zf;G.createFactory=function(e){var t=zf.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:cv,render:e}};G.isValidElement=au;G.lazy=function(e){return{$$typeof:hv,_payload:{_status:-1,_result:e},_init:xv}};G.memo=function(e,t){return{$$typeof:dv,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ma.transition;ma.transition={};try{e()}finally{ma.transition=t}};G.unstable_act=$f;G.useCallback=function(e,t){return Be.current.useCallback(e,t)};G.useContext=function(e){return Be.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};G.useEffect=function(e,t){return Be.current.useEffect(e,t)};G.useId=function(){return Be.current.useId()};G.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Be.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};G.useRef=function(e){return Be.current.useRef(e)};G.useState=function(e){return Be.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Be.current.useTransition()};G.version="18.3.1";Of.exports=G;var w=Of.exports;const Wf=nv(w),yv=tv({__proto__:null,default:Wf},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=w,jv=Symbol.for("react.element"),wv=Symbol.for("react.fragment"),bv=Object.prototype.hasOwnProperty,Nv=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sv={key:!0,ref:!0,__self:!0,__source:!0};function Kf(e,t,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)bv.call(t,s)&&!Sv.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:jv,type:e,key:a,ref:o,props:r,_owner:Nv.current}}ho.Fragment=wv;ho.jsx=Kf;ho.jsxs=Kf;_f.exports=ho;var i=_f.exports,Pl={},Gf={exports:{}},nt={},Hf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var L=R.length;R.push(D);e:for(;0<L;){var Z=L-1>>>1,re=R[Z];if(0<r(re,D))R[Z]=D,R[L]=re,L=Z;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],L=R.pop();if(L!==D){R[0]=L;e:for(var Z=0,re=R.length,bs=re>>>1;Z<bs;){var ft=2*(Z+1)-1,Sr=R[ft],Vt=ft+1,A=R[Vt];if(0>r(Sr,L))Vt<re&&0>r(A,Sr)?(R[Z]=A,R[Vt]=L,Z=Vt):(R[Z]=Sr,R[ft]=L,Z=ft);else if(Vt<re&&0>r(A,L))R[Z]=A,R[Vt]=L,Z=Vt;else break e}}return D}function r(R,D){var L=R.sortIndex-D.sortIndex;return L!==0?L:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,m=null,d=3,x=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=R)s(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function b(R){if(v=!1,f(R),!y)if(n(c)!==null)y=!0,te(k);else{var D=n(u);D!==null&&K(b,D.startTime-R)}}function k(R,D){y=!1,v&&(v=!1,p(j),j=-1),x=!0;var L=d;try{for(f(D),m=n(c);m!==null&&(!(m.expirationTime>D)||R&&!M());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,d=m.priorityLevel;var re=Z(m.expirationTime<=D);D=e.unstable_now(),typeof re=="function"?m.callback=re:m===n(c)&&s(c),f(D)}else s(c);m=n(c)}if(m!==null)var bs=!0;else{var ft=n(u);ft!==null&&K(b,ft.startTime-D),bs=!1}return bs}finally{m=null,d=L,x=!1}}var C=!1,P=null,j=-1,E=5,T=-1;function M(){return!(e.unstable_now()-T<E)}function I(){if(P!==null){var R=e.unstable_now();T=R;var D=!0;try{D=P(!0,R)}finally{D?$():(C=!1,P=null)}}else C=!1}var $;if(typeof g=="function")$=function(){g(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=I,$=function(){U.postMessage(null)}}else $=function(){S(I,0)};function te(R){P=R,C||(C=!0,$())}function K(R,D){j=S(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,te(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var L=d;d=D;try{return R()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=d;d=R;try{return D()}finally{d=L}},e.unstable_scheduleCallback=function(R,D,L){var Z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=L+re,R={id:h++,callback:D,priorityLevel:R,startTime:L,expirationTime:re,sortIndex:-1},L>Z?(R.sortIndex=L,t(u,R),n(c)===null&&R===n(u)&&(v?(p(j),j=-1):v=!0,K(b,L-Z))):(R.sortIndex=re,t(c,R),y||x||(y=!0,te(k))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var D=d;return function(){var L=d;d=D;try{return R.apply(this,arguments)}finally{d=L}}}})(Qf);Hf.exports=Qf;var kv=Hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=w,tt=kv;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xf=new Set,ei={};function js(e,t){lr(e,t),lr(e+"Capture",t)}function lr(e,t){for(ei[e]=t,e=0;e<t.length;e++)Xf.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},Vd={};function Ev(e){return El.call(Vd,e)?!0:El.call(Fd,e)?!1:Pv.test(e)?Vd[e]=!0:(Fd[e]=!0,!1)}function Tv(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rv(e,t,n,s){if(t===null||typeof t>"u"||Tv(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,s,r,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var ou=/[\-:]([a-z])/g;function lu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ou,lu);Pe[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ou,lu);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ou,lu);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function cu(e,t,n,s){var r=Pe.hasOwnProperty(t)?Pe[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rv(t,n,r,s)&&(n=null),s||r===null?Ev(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var rn=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),du=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Zf=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Lo;function Or(e){if(Lo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lo=t&&t[1]||""}return`
`+Lo+e}var Io=!1;function Fo(e,t){if(!e||Io)return"";Io=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Io=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Or(e):""}function Av(e){switch(e.tag){case 5:return Or(e.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return e=Fo(e.type,!1),e;case 11:return e=Fo(e.type.render,!1),e;case 1:return e=Fo(e.type,!0),e;default:return""}}function Dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Cs:return"Portal";case Tl:return"Profiler";case uu:return"StrictMode";case Rl:return"Suspense";case Al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qf:return(e.displayName||"Context")+".Consumer";case Yf:return(e._context.displayName||"Context")+".Provider";case du:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hu:return t=e.displayName||null,t!==null?t:Dl(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return Dl(e(t))}catch{}}return null}function Dv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dl(t);case 8:return t===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mv(e){var t=Jf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wi(e){e._valueTracker||(e._valueTracker=Mv(e))}function ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Jf(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ml(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bd(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ln(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tp(e,t){t=t.checked,t!=null&&cu(e,"checked",t,!1)}function _l(e,t){tp(e,t);var n=Ln(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ol(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ol(e,t,n){(t!=="number"||Aa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Lr=Array.isArray;function $s(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ln(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $d(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Lr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ln(n)}}function np(e,t){var n=Ln(t.value),s=Ln(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Wd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ki,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_v=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(e){_v.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Br[t]=Br[e]})});function ip(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Br.hasOwnProperty(e)&&Br[e]?(""+t).trim():t+"px"}function ap(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=ip(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Ov=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bl=null,Ws=null,Ks=null;function Kd(e){if(e=Ai(e)){if(typeof Bl!="function")throw Error(_(280));var t=e.stateNode;t&&(t=go(t),Bl(e.stateNode,e.type,t))}}function op(e){Ws?Ks?Ks.push(e):Ks=[e]:Ws=e}function lp(){if(Ws){var e=Ws,t=Ks;if(Ks=Ws=null,Kd(e),t)for(e=0;e<t.length;e++)Kd(t[e])}}function cp(e,t){return e(t)}function up(){}var Vo=!1;function dp(e,t,n){if(Vo)return e(t,n);Vo=!0;try{return cp(e,t,n)}finally{Vo=!1,(Ws!==null||Ks!==null)&&(up(),lp())}}function ni(e,t){var n=e.stateNode;if(n===null)return null;var s=go(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var zl=!1;if(Jt)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{zl=!1}function Lv(e,t,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var zr=!1,Da=null,Ma=!1,$l=null,Iv={onError:function(e){zr=!0,Da=e}};function Fv(e,t,n,s,r,a,o,l,c){zr=!1,Da=null,Lv.apply(Iv,arguments)}function Vv(e,t,n,s,r,a,o,l,c){if(Fv.apply(this,arguments),zr){if(zr){var u=Da;zr=!1,Da=null}else throw Error(_(198));Ma||(Ma=!0,$l=u)}}function ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gd(e){if(ws(e)!==e)throw Error(_(188))}function Uv(e){var t=e.alternate;if(!t){if(t=ws(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Gd(r),e;if(a===s)return Gd(r),t;a=a.sibling}throw Error(_(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==s)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function mp(e){return e=Uv(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var pp=tt.unstable_scheduleCallback,Hd=tt.unstable_cancelCallback,Bv=tt.unstable_shouldYield,zv=tt.unstable_requestPaint,fe=tt.unstable_now,$v=tt.unstable_getCurrentPriorityLevel,fu=tt.unstable_ImmediatePriority,xp=tt.unstable_UserBlockingPriority,_a=tt.unstable_NormalPriority,Wv=tt.unstable_LowPriority,gp=tt.unstable_IdlePriority,mo=null,Ot=null;function Kv(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Qv,Gv=Math.log,Hv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(Gv(e)/Hv|0)|0}var Gi=64,Hi=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oa(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Ir(l):(a&=o,a!==0&&(s=Ir(a)))}else o=n&~r,o!==0?s=Ir(o):a!==0&&(s=Ir(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Nt(t),r=1<<n,s|=e[n],t&=~r;return s}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Nt(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=Xv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yp(){var e=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),e}function Uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ti(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Nt(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}function pu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Nt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var q=0;function vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,xu,wp,bp,Np,Kl=!1,Qi=[],Pn=null,En=null,Tn=null,si=new Map,ri=new Map,mn=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Pr(e,t,n,s,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ai(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Jv(e,t,n,s,r){switch(t){case"focusin":return Pn=Pr(Pn,e,t,n,s,r),!0;case"dragenter":return En=Pr(En,e,t,n,s,r),!0;case"mouseover":return Tn=Pr(Tn,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return si.set(a,Pr(si.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,ri.set(a,Pr(ri.get(a)||null,e,t,n,s,r)),!0}return!1}function Sp(e){var t=Xn(e.target);if(t!==null){var n=ws(t);if(n!==null){if(t=n.tag,t===13){if(t=hp(n),t!==null){e.blockedOn=t,Np(e.priority,function(){wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Ul=s,n.target.dispatchEvent(s),Ul=null}else return t=Ai(n),t!==null&&xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Xd(e,t,n){fa(e)&&n.delete(t)}function e0(){Kl=!1,Pn!==null&&fa(Pn)&&(Pn=null),En!==null&&fa(En)&&(En=null),Tn!==null&&fa(Tn)&&(Tn=null),si.forEach(Xd),ri.forEach(Xd)}function Er(e,t){e.blockedOn===t&&(e.blockedOn=null,Kl||(Kl=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,e0)))}function ii(e){function t(r){return Er(r,e)}if(0<Qi.length){Er(Qi[0],e);for(var n=1;n<Qi.length;n++){var s=Qi[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pn!==null&&Er(Pn,e),En!==null&&Er(En,e),Tn!==null&&Er(Tn,e),si.forEach(t),ri.forEach(t),n=0;n<mn.length;n++)s=mn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Sp(n),n.blockedOn===null&&mn.shift()}var Gs=rn.ReactCurrentBatchConfig,La=!0;function t0(e,t,n,s){var r=q,a=Gs.transition;Gs.transition=null;try{q=1,gu(e,t,n,s)}finally{q=r,Gs.transition=a}}function n0(e,t,n,s){var r=q,a=Gs.transition;Gs.transition=null;try{q=4,gu(e,t,n,s)}finally{q=r,Gs.transition=a}}function gu(e,t,n,s){if(La){var r=Gl(e,t,n,s);if(r===null)Yo(e,t,s,Ia,n),Qd(e,s);else if(Jv(r,e,t,n,s))s.stopPropagation();else if(Qd(e,s),t&4&&-1<Zv.indexOf(e)){for(;r!==null;){var a=Ai(r);if(a!==null&&jp(a),a=Gl(e,t,n,s),a===null&&Yo(e,t,s,Ia,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Yo(e,t,s,null,n)}}var Ia=null;function Gl(e,t,n,s){if(Ia=null,e=mu(s),e=Xn(e),e!==null)if(t=ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case fu:return 1;case xp:return 4;case _a:case Wv:return 16;case gp:return 536870912;default:return 16}default:return 16}}var Sn=null,yu=null,pa=null;function Cp(){if(pa)return pa;var e,t=yu,n=t.length,s,r="value"in Sn?Sn.value:Sn.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[a-s];s++);return pa=r.slice(e,1<s?1-s:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Yd(){return!1}function st(e){function t(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xi:Yd,this.isPropagationStopped=Yd,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=st(yr),Ri=ce({},yr,{view:0,detail:0}),s0=st(Ri),Bo,zo,Tr,fo=ce({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(Bo=e.screenX-Tr.screenX,zo=e.screenY-Tr.screenY):zo=Bo=0,Tr=e),Bo)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),qd=st(fo),r0=ce({},fo,{dataTransfer:0}),i0=st(r0),a0=ce({},Ri,{relatedTarget:0}),$o=st(a0),o0=ce({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),l0=st(o0),c0=ce({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u0=st(c0),d0=ce({},yr,{data:0}),Zd=st(d0),h0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f0[e])?!!t[e]:!1}function ju(){return p0}var x0=ce({},Ri,{key:function(e){if(e.key){var t=h0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g0=st(x0),y0=ce({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=st(y0),v0=ce({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),j0=st(v0),w0=ce({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),b0=st(w0),N0=ce({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S0=st(N0),k0=[9,13,27,32],wu=Jt&&"CompositionEvent"in window,$r=null;Jt&&"documentMode"in document&&($r=document.documentMode);var C0=Jt&&"TextEvent"in window&&!$r,Pp=Jt&&(!wu||$r&&8<$r&&11>=$r),eh=" ",th=!1;function Ep(e,t){switch(e){case"keyup":return k0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function P0(e,t){switch(e){case"compositionend":return Tp(t);case"keypress":return t.which!==32?null:(th=!0,eh);case"textInput":return e=t.data,e===eh&&th?null:e;default:return null}}function E0(e,t){if(Es)return e==="compositionend"||!wu&&Ep(e,t)?(e=Cp(),pa=yu=Sn=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pp&&t.locale!=="ko"?null:t.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T0[e.type]:t==="textarea"}function Rp(e,t,n,s){op(s),t=Fa(t,"onChange"),0<t.length&&(n=new vu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Wr=null,ai=null;function R0(e){Bp(e,0)}function po(e){var t=As(e);if(ep(t))return e}function A0(e,t){if(e==="change")return t}var Ap=!1;if(Jt){var Wo;if(Jt){var Ko="oninput"in document;if(!Ko){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Ko=typeof sh.oninput=="function"}Wo=Ko}else Wo=!1;Ap=Wo&&(!document.documentMode||9<document.documentMode)}function rh(){Wr&&(Wr.detachEvent("onpropertychange",Dp),ai=Wr=null)}function Dp(e){if(e.propertyName==="value"&&po(ai)){var t=[];Rp(t,ai,e,mu(e)),dp(R0,t)}}function D0(e,t,n){e==="focusin"?(rh(),Wr=t,ai=n,Wr.attachEvent("onpropertychange",Dp)):e==="focusout"&&rh()}function M0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(ai)}function _0(e,t){if(e==="click")return po(t)}function O0(e,t){if(e==="input"||e==="change")return po(t)}function L0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:L0;function oi(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!El.call(t,r)||!Ct(e[r],t[r]))return!1}return!0}function ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var n=ih(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ih(n)}}function Mp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _p(){for(var e=window,t=Aa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Aa(e.document)}return t}function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I0(e){var t=_p(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mp(n.ownerDocument.documentElement,n)){if(s!==null&&bu(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=ah(n,a);var o=ah(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var F0=Jt&&"documentMode"in document&&11>=document.documentMode,Ts=null,Hl=null,Kr=null,Ql=!1;function oh(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||Ts==null||Ts!==Aa(s)||(s=Ts,"selectionStart"in s&&bu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Kr&&oi(Kr,s)||(Kr=s,s=Fa(Hl,"onSelect"),0<s.length&&(t=new vu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ts)))}function Yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rs={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionend:Yi("Transition","TransitionEnd")},Go={},Op={};Jt&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function xo(e){if(Go[e])return Go[e];if(!Rs[e])return e;var t=Rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Op)return Go[e]=t[n];return e}var Lp=xo("animationend"),Ip=xo("animationiteration"),Fp=xo("animationstart"),Vp=xo("transitionend"),Up=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){Up.set(e,t),js(t,[e])}for(var Ho=0;Ho<lh.length;Ho++){var Qo=lh[Ho],V0=Qo.toLowerCase(),U0=Qo[0].toUpperCase()+Qo.slice(1);Un(V0,"on"+U0)}Un(Lp,"onAnimationEnd");Un(Ip,"onAnimationIteration");Un(Fp,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Vp,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function ch(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Vv(s,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;ch(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;ch(r,l,u),a=c}}}if(Ma)throw e=$l,Ma=!1,$l=null,e}function ne(e,t){var n=t[Jl];n===void 0&&(n=t[Jl]=new Set);var s=e+"__bubble";n.has(s)||(zp(t,e,2,!1),n.add(s))}function Xo(e,t,n){var s=0;t&&(s|=4),zp(n,e,s,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[qi]){e[qi]=!0,Xf.forEach(function(n){n!=="selectionchange"&&(B0.has(n)||Xo(n,!1,e),Xo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,Xo("selectionchange",!1,t))}}function zp(e,t,n,s){switch(kp(t)){case 1:var r=t0;break;case 4:r=n0;break;default:r=gu}n=r.bind(null,t,n,e),r=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Yo(e,t,n,s,r){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Xn(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}dp(function(){var u=a,h=mu(n),m=[];e:{var d=Up.get(e);if(d!==void 0){var x=vu,y=e;switch(e){case"keypress":if(xa(n)===0)break e;case"keydown":case"keyup":x=g0;break;case"focusin":y="focus",x=$o;break;case"focusout":y="blur",x=$o;break;case"beforeblur":case"afterblur":x=$o;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=i0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=j0;break;case Lp:case Ip:case Fp:x=l0;break;case Vp:x=b0;break;case"scroll":x=s0;break;case"wheel":x=S0;break;case"copy":case"cut":case"paste":x=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Jd}var v=(t&4)!==0,S=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,f;g!==null;){f=g;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,p!==null&&(b=ni(g,p),b!=null&&v.push(ci(g,b,f)))),S)break;g=g.return}0<v.length&&(d=new x(d,y,null,n,h),m.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",d&&n!==Ul&&(y=n.relatedTarget||n.fromElement)&&(Xn(y)||y[en]))break e;if((x||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?Xn(y):null,y!==null&&(S=ws(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(v=qd,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Jd,b="onPointerLeave",p="onPointerEnter",g="pointer"),S=x==null?d:As(x),f=y==null?d:As(y),d=new v(b,g+"leave",x,n,h),d.target=S,d.relatedTarget=f,b=null,Xn(h)===u&&(v=new v(p,g+"enter",y,n,h),v.target=f,v.relatedTarget=S,b=v),S=b,x&&y)t:{for(v=x,p=y,g=0,f=v;f;f=Ss(f))g++;for(f=0,b=p;b;b=Ss(b))f++;for(;0<g-f;)v=Ss(v),g--;for(;0<f-g;)p=Ss(p),f--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=Ss(v),p=Ss(p)}v=null}else v=null;x!==null&&uh(m,d,x,v,!1),y!==null&&S!==null&&uh(m,S,y,v,!0)}}e:{if(d=u?As(u):window,x=d.nodeName&&d.nodeName.toLowerCase(),x==="select"||x==="input"&&d.type==="file")var k=A0;else if(nh(d))if(Ap)k=O0;else{k=M0;var C=D0}else(x=d.nodeName)&&x.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=_0);if(k&&(k=k(e,u))){Rp(m,k,n,h);break e}C&&C(e,d,u),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Ol(d,"number",d.value)}switch(C=u?As(u):window,e){case"focusin":(nh(C)||C.contentEditable==="true")&&(Ts=C,Hl=u,Kr=null);break;case"focusout":Kr=Hl=Ts=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,oh(m,n,h);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":oh(m,n,h)}var P;if(wu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Es?Ep(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Pp&&n.locale!=="ko"&&(Es||j!=="onCompositionStart"?j==="onCompositionEnd"&&Es&&(P=Cp()):(Sn=h,yu="value"in Sn?Sn.value:Sn.textContent,Es=!0)),C=Fa(u,j),0<C.length&&(j=new Zd(j,e,null,n,h),m.push({event:j,listeners:C}),P?j.data=P:(P=Tp(n),P!==null&&(j.data=P)))),(P=C0?P0(e,n):E0(e,n))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(h=new Zd("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=P))}Bp(m,t)})}function ci(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fa(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=ni(e,n),a!=null&&s.unshift(ci(e,a,r)),a=ni(e,t),a!=null&&s.push(ci(e,a,r))),e=e.return}return s}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uh(e,t,n,s,r){for(var a=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=ni(n,a),c!=null&&o.unshift(ci(n,c,l))):r||(c=ni(n,a),c!=null&&o.push(ci(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var z0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace($0,"")}function Zi(e,t,n){if(t=dh(t),dh(e)!==t&&n)throw Error(_(425))}function Va(){}var Xl=null,Yl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,W0=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,K0=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(G0)}:Zl;function G0(e){setTimeout(function(){throw e})}function qo(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),ii(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ii(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),_t="__reactFiber$"+vr,ui="__reactProps$"+vr,en="__reactContainer$"+vr,Jl="__reactEvents$"+vr,H0="__reactListeners$"+vr,Q0="__reactHandles$"+vr;function Xn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mh(e);e!==null;){if(n=e[_t])return n;e=mh(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[_t]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function As(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function go(e){return e[ui]||null}var ec=[],Ds=-1;function Bn(e){return{current:e}}function se(e){0>Ds||(e.current=ec[Ds],ec[Ds]=null,Ds--)}function J(e,t){Ds++,ec[Ds]=e.current,e.current=t}var In={},Me=Bn(In),He=Bn(!1),ms=In;function cr(e,t){var n=e.type.contextTypes;if(!n)return In;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Qe(e){return e=e.childContextTypes,e!=null}function Ua(){se(He),se(Me)}function fh(e,t,n){if(Me.current!==In)throw Error(_(168));J(Me,t),J(He,n)}function $p(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(_(108,Dv(e)||"Unknown",r));return ce({},n,s)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,ms=Me.current,J(Me,e),J(He,He.current),!0}function ph(e,t,n){var s=e.stateNode;if(!s)throw Error(_(169));n?(e=$p(e,t,ms),s.__reactInternalMemoizedMergedChildContext=e,se(He),se(Me),J(Me,e)):se(He),J(He,n)}var Wt=null,yo=!1,Zo=!1;function Wp(e){Wt===null?Wt=[e]:Wt.push(e)}function X0(e){yo=!0,Wp(e)}function zn(){if(!Zo&&Wt!==null){Zo=!0;var e=0,t=q;try{var n=Wt;for(q=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Wt=null,yo=!1}catch(r){throw Wt!==null&&(Wt=Wt.slice(e+1)),pp(fu,zn),r}finally{q=t,Zo=!1}}return null}var Ms=[],_s=0,za=null,$a=0,at=[],ot=0,fs=null,Xt=1,Yt="";function Gn(e,t){Ms[_s++]=$a,Ms[_s++]=za,za=e,$a=t}function Kp(e,t,n){at[ot++]=Xt,at[ot++]=Yt,at[ot++]=fs,fs=e;var s=Xt;e=Yt;var r=32-Nt(s)-1;s&=~(1<<r),n+=1;var a=32-Nt(t)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Xt=1<<32-Nt(t)+r|n<<r|s,Yt=a+e}else Xt=1<<a|n<<r|s,Yt=e}function Nu(e){e.return!==null&&(Gn(e,1),Kp(e,1,0))}function Su(e){for(;e===za;)za=Ms[--_s],Ms[_s]=null,$a=Ms[--_s],Ms[_s]=null;for(;e===fs;)fs=at[--ot],at[ot]=null,Yt=at[--ot],at[ot]=null,Xt=at[--ot],at[ot]=null}var Je=null,Ze=null,ie=!1,bt=null;function Gp(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fs!==null?{id:Xt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nc(e){if(ie){var t=Ze;if(t){var n=t;if(!xh(e,t)){if(tc(e))throw Error(_(418));t=Rn(n.nextSibling);var s=Je;t&&xh(e,t)?Gp(s,n):(e.flags=e.flags&-4097|2,ie=!1,Je=e)}}else{if(tc(e))throw Error(_(418));e.flags=e.flags&-4097|2,ie=!1,Je=e}}}function gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Ji(e){if(e!==Je)return!1;if(!ie)return gh(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=Ze)){if(tc(e))throw Hp(),Error(_(418));for(;t;)Gp(e,t),t=Rn(t.nextSibling)}if(gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?Rn(e.stateNode.nextSibling):null;return!0}function Hp(){for(var e=Ze;e;)e=Rn(e.nextSibling)}function ur(){Ze=Je=null,ie=!1}function ku(e){bt===null?bt=[e]:bt.push(e)}var Y0=rn.ReactCurrentBatchConfig;function Rr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var s=n.stateNode}if(!s)throw Error(_(147,e));var r=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function ea(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yh(e){var t=e._init;return t(e._payload)}function Qp(e){function t(p,g){if(e){var f=p.deletions;f===null?(p.deletions=[g],p.flags|=16):f.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=_n(p,g),p.index=0,p.sibling=null,p}function a(p,g,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<g?(p.flags|=2,g):f):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,f,b){return g===null||g.tag!==6?(g=il(f,p.mode,b),g.return=p,g):(g=r(g,f),g.return=p,g)}function c(p,g,f,b){var k=f.type;return k===Ps?h(p,g,f.props.children,b,f.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&yh(k)===g.type)?(b=r(g,f.props),b.ref=Rr(p,g,f),b.return=p,b):(b=Na(f.type,f.key,f.props,null,p.mode,b),b.ref=Rr(p,g,f),b.return=p,b)}function u(p,g,f,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=al(f,p.mode,b),g.return=p,g):(g=r(g,f.children||[]),g.return=p,g)}function h(p,g,f,b,k){return g===null||g.tag!==7?(g=ds(f,p.mode,b,k),g.return=p,g):(g=r(g,f),g.return=p,g)}function m(p,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=il(""+g,p.mode,f),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $i:return f=Na(g.type,g.key,g.props,null,p.mode,f),f.ref=Rr(p,null,g),f.return=p,f;case Cs:return g=al(g,p.mode,f),g.return=p,g;case dn:var b=g._init;return m(p,b(g._payload),f)}if(Lr(g)||kr(g))return g=ds(g,p.mode,f,null),g.return=p,g;ea(p,g)}return null}function d(p,g,f,b){var k=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:l(p,g,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $i:return f.key===k?c(p,g,f,b):null;case Cs:return f.key===k?u(p,g,f,b):null;case dn:return k=f._init,d(p,g,k(f._payload),b)}if(Lr(f)||kr(f))return k!==null?null:h(p,g,f,b,null);ea(p,f)}return null}function x(p,g,f,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(f)||null,l(g,p,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $i:return p=p.get(b.key===null?f:b.key)||null,c(g,p,b,k);case Cs:return p=p.get(b.key===null?f:b.key)||null,u(g,p,b,k);case dn:var C=b._init;return x(p,g,f,C(b._payload),k)}if(Lr(b)||kr(b))return p=p.get(f)||null,h(g,p,b,k,null);ea(g,b)}return null}function y(p,g,f,b){for(var k=null,C=null,P=g,j=g=0,E=null;P!==null&&j<f.length;j++){P.index>j?(E=P,P=null):E=P.sibling;var T=d(p,P,f[j],b);if(T===null){P===null&&(P=E);break}e&&P&&T.alternate===null&&t(p,P),g=a(T,g,j),C===null?k=T:C.sibling=T,C=T,P=E}if(j===f.length)return n(p,P),ie&&Gn(p,j),k;if(P===null){for(;j<f.length;j++)P=m(p,f[j],b),P!==null&&(g=a(P,g,j),C===null?k=P:C.sibling=P,C=P);return ie&&Gn(p,j),k}for(P=s(p,P);j<f.length;j++)E=x(P,p,j,f[j],b),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?j:E.key),g=a(E,g,j),C===null?k=E:C.sibling=E,C=E);return e&&P.forEach(function(M){return t(p,M)}),ie&&Gn(p,j),k}function v(p,g,f,b){var k=kr(f);if(typeof k!="function")throw Error(_(150));if(f=k.call(f),f==null)throw Error(_(151));for(var C=k=null,P=g,j=g=0,E=null,T=f.next();P!==null&&!T.done;j++,T=f.next()){P.index>j?(E=P,P=null):E=P.sibling;var M=d(p,P,T.value,b);if(M===null){P===null&&(P=E);break}e&&P&&M.alternate===null&&t(p,P),g=a(M,g,j),C===null?k=M:C.sibling=M,C=M,P=E}if(T.done)return n(p,P),ie&&Gn(p,j),k;if(P===null){for(;!T.done;j++,T=f.next())T=m(p,T.value,b),T!==null&&(g=a(T,g,j),C===null?k=T:C.sibling=T,C=T);return ie&&Gn(p,j),k}for(P=s(p,P);!T.done;j++,T=f.next())T=x(P,p,j,T.value,b),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?j:T.key),g=a(T,g,j),C===null?k=T:C.sibling=T,C=T);return e&&P.forEach(function(I){return t(p,I)}),ie&&Gn(p,j),k}function S(p,g,f,b){if(typeof f=="object"&&f!==null&&f.type===Ps&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case $i:e:{for(var k=f.key,C=g;C!==null;){if(C.key===k){if(k=f.type,k===Ps){if(C.tag===7){n(p,C.sibling),g=r(C,f.props.children),g.return=p,p=g;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&yh(k)===C.type){n(p,C.sibling),g=r(C,f.props),g.ref=Rr(p,C,f),g.return=p,p=g;break e}n(p,C);break}else t(p,C);C=C.sibling}f.type===Ps?(g=ds(f.props.children,p.mode,b,f.key),g.return=p,p=g):(b=Na(f.type,f.key,f.props,null,p.mode,b),b.ref=Rr(p,g,f),b.return=p,p=b)}return o(p);case Cs:e:{for(C=f.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){n(p,g.sibling),g=r(g,f.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=al(f,p.mode,b),g.return=p,p=g}return o(p);case dn:return C=f._init,S(p,g,C(f._payload),b)}if(Lr(f))return y(p,g,f,b);if(kr(f))return v(p,g,f,b);ea(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,f),g.return=p,p=g):(n(p,g),g=il(f,p.mode,b),g.return=p,p=g),o(p)):n(p,g)}return S}var dr=Qp(!0),Xp=Qp(!1),Wa=Bn(null),Ka=null,Os=null,Cu=null;function Pu(){Cu=Os=Ka=null}function Eu(e){var t=Wa.current;se(Wa),e._currentValue=t}function sc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Hs(e,t){Ka=e,Cu=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Cu!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Ka===null)throw Error(_(308));Os=e,Ka.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Yn=null;function Tu(e){Yn===null?Yn=[e]:Yn.push(e)}function Yp(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Tu(t)):(n.next=r.next,r.next=n),t.interleaved=n,tn(e,s)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,X&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,tn(e,n)}return r=s.interleaved,r===null?(t.next=t,Tu(s)):(t.next=r.next,r.next=t),s.interleaved=t,tn(e,n)}function ga(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,pu(e,n)}}function vh(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,s){var r=e.updateQueue;hn=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=r.baseState;o=0,h=u=c=null,l=a;do{var d=l.lane,x=l.eventTime;if((s&d)===d){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(d=t,x=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){m=y.call(x,m,d);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(x,m,d):y,d==null)break e;m=ce({},m,d);break e;case 2:hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=r.effects,d===null?r.effects=[l]:d.push(l))}else x={eventTime:x,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=x,c=m):h=h.next=x,o|=d;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;d=l,l=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(h===null&&(c=m),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);xs|=o,e.lanes=o,e.memoizedState=m}}function jh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(_(191,r));r.call(s)}}}var Di={},Lt=Bn(Di),di=Bn(Di),hi=Bn(Di);function qn(e){if(e===Di)throw Error(_(174));return e}function Au(e,t){switch(J(hi,t),J(di,e),J(Lt,Di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}se(Lt),J(Lt,t)}function hr(){se(Lt),se(di),se(hi)}function Zp(e){qn(hi.current);var t=qn(Lt.current),n=Il(t,e.type);t!==n&&(J(di,e),J(Lt,n))}function Du(e){di.current===e&&(se(Lt),se(di))}var ae=Bn(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Mu(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var ya=rn.ReactCurrentDispatcher,el=rn.ReactCurrentBatchConfig,ps=0,le=null,ye=null,be=null,Qa=!1,Gr=!1,mi=0,q0=0;function Ee(){throw Error(_(321))}function _u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Ou(e,t,n,s,r,a){if(ps=a,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ya.current=e===null||e.memoizedState===null?tj:nj,e=n(s,r),Gr){a=0;do{if(Gr=!1,mi=0,25<=a)throw Error(_(301));a+=1,be=ye=null,t.updateQueue=null,ya.current=sj,e=n(s,r)}while(Gr)}if(ya.current=Xa,t=ye!==null&&ye.next!==null,ps=0,be=ye=le=null,Qa=!1,t)throw Error(_(300));return e}function Lu(){var e=mi!==0;return mi=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?le.memoizedState=be=e:be=be.next=e,be}function mt(){if(ye===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=be===null?le.memoizedState:be.next;if(t!==null)be=t,ye=e;else{if(e===null)throw Error(_(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},be===null?le.memoizedState=be=e:be=be.next=e}return be}function fi(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=mt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=ye,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ps&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=s):c=c.next=m,le.lanes|=h,xs|=h}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,Ct(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do a=r.lane,le.lanes|=a,xs|=a,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nl(e){var t=mt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=e(a,o.action),o=o.next;while(o!==r);Ct(a,t.memoizedState)||(Ge=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Jp(){}function ex(e,t){var n=le,s=mt(),r=t(),a=!Ct(s.memoizedState,r);if(a&&(s.memoizedState=r,Ge=!0),s=s.queue,Iu(sx.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,pi(9,nx.bind(null,n,s,r,t),void 0,null),Ne===null)throw Error(_(349));ps&30||tx(n,t,r)}return r}function tx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nx(e,t,n,s){t.value=n,t.getSnapshot=s,rx(t)&&ix(e)}function sx(e,t,n){return n(function(){rx(t)&&ix(e)})}function rx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function ix(e){var t=tn(e,1);t!==null&&St(t,e,1,-1)}function wh(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t.queue=e,e=e.dispatch=ej.bind(null,le,e),[t.memoizedState,e]}function pi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function ax(){return mt().memoizedState}function va(e,t,n,s){var r=Tt();le.flags|=e,r.memoizedState=pi(1|t,n,void 0,s===void 0?null:s)}function vo(e,t,n,s){var r=mt();s=s===void 0?null:s;var a=void 0;if(ye!==null){var o=ye.memoizedState;if(a=o.destroy,s!==null&&_u(s,o.deps)){r.memoizedState=pi(t,n,a,s);return}}le.flags|=e,r.memoizedState=pi(1|t,n,a,s)}function bh(e,t){return va(8390656,8,e,t)}function Iu(e,t){return vo(2048,8,e,t)}function ox(e,t){return vo(4,2,e,t)}function lx(e,t){return vo(4,4,e,t)}function cx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ux(e,t,n){return n=n!=null?n.concat([e]):null,vo(4,4,cx.bind(null,t,e),n)}function Fu(){}function dx(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&_u(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function hx(e,t){var n=mt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&_u(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function mx(e,t,n){return ps&21?(Ct(n,t)||(n=yp(),le.lanes|=n,xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function Z0(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var s=el.transition;el.transition={};try{e(!1),t()}finally{q=n,el.transition=s}}function fx(){return mt().memoizedState}function J0(e,t,n){var s=Mn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},px(e))xx(t,n);else if(n=Yp(e,t,n,s),n!==null){var r=Ue();St(n,e,s,r),gx(n,t,s)}}function ej(e,t,n){var s=Mn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(px(e))xx(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,Ct(l,o)){var c=t.interleaved;c===null?(r.next=r,Tu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Yp(e,t,r,s),n!==null&&(r=Ue(),St(n,e,s,r),gx(n,t,s))}}function px(e){var t=e.alternate;return e===le||t!==null&&t===le}function xx(e,t){Gr=Qa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gx(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,pu(e,n)}}var Xa={readContext:ht,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},tj={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:bh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,va(4194308,4,cx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return va(4194308,4,e,t)},useInsertionEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Tt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=J0.bind(null,le,e),[s.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:wh,useDebugValue:Fu,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=wh(!1),t=e[0];return e=Z0.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=le,r=Tt();if(ie){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Ne===null)throw Error(_(349));ps&30||tx(s,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,bh(sx.bind(null,s,a,e),[e]),s.flags|=2048,pi(9,nx.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Ne.identifierPrefix;if(ie){var n=Yt,s=Xt;n=(s&~(1<<32-Nt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=q0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nj={readContext:ht,useCallback:dx,useContext:ht,useEffect:Iu,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:hx,useReducer:tl,useRef:ax,useState:function(){return tl(fi)},useDebugValue:Fu,useDeferredValue:function(e){var t=mt();return mx(t,ye.memoizedState,e)},useTransition:function(){var e=tl(fi)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:ex,useId:fx,unstable_isNewReconciler:!1},sj={readContext:ht,useCallback:dx,useContext:ht,useEffect:Iu,useImperativeHandle:ux,useInsertionEffect:ox,useLayoutEffect:lx,useMemo:hx,useReducer:nl,useRef:ax,useState:function(){return nl(fi)},useDebugValue:Fu,useDeferredValue:function(e){var t=mt();return ye===null?t.memoizedState=e:mx(t,ye.memoizedState,e)},useTransition:function(){var e=nl(fi)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:ex,useId:fx,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return(e=e._reactInternals)?ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ue(),r=Mn(e),a=qt(s,r);a.payload=t,n!=null&&(a.callback=n),t=An(e,a,r),t!==null&&(St(t,e,r,s),ga(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ue(),r=Mn(e),a=qt(s,r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=An(e,a,r),t!==null&&(St(t,e,r,s),ga(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),s=Mn(e),r=qt(n,s);r.tag=2,t!=null&&(r.callback=t),t=An(e,r,s),t!==null&&(St(t,e,s,n),ga(t,e,s))}};function Nh(e,t,n,s,r,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!oi(n,s)||!oi(r,a):!0}function yx(e,t,n){var s=!1,r=In,a=t.contextType;return typeof a=="object"&&a!==null?a=ht(a):(r=Qe(t)?ms:Me.current,s=t.contextTypes,a=(s=s!=null)?cr(e,r):In),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function ic(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ru(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=ht(a):(a=Qe(t)?ms:Me.current,r.context=cr(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(rc(e,t,a,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&jo.enqueueReplaceState(r,r.state,null),Ga(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",s=t;do n+=Av(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ac(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rj=typeof WeakMap=="function"?WeakMap:Map;function vx(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){qa||(qa=!0,xc=s),ac(e,t)},n}function jx(e,t,n){n=qt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){ac(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ac(e,t),typeof s!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kh(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new rj;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=yj.bind(null,e,t,n),t.then(e,e))}function Ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ph(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var ij=rn.ReactCurrentOwner,Ge=!1;function Le(e,t,n,s){t.child=e===null?Xp(t,null,n,s):dr(t,e.child,n,s)}function Eh(e,t,n,s,r){n=n.render;var a=t.ref;return Hs(t,r),s=Ou(e,t,n,s,a,r),n=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,nn(e,t,r)):(ie&&n&&Nu(t),t.flags|=1,Le(e,t,s,r),t.child)}function Th(e,t,n,s,r){if(e===null){var a=n.type;return typeof a=="function"&&!Gu(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wx(e,t,a,s,r)):(e=Na(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:oi,n(o,s)&&e.ref===t.ref)return nn(e,t,r)}return t.flags|=1,e=_n(a,s),e.ref=t.ref,e.return=t,t.child=e}function wx(e,t,n,s,r){if(e!==null){var a=e.memoizedProps;if(oi(a,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=a,(e.lanes&r)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,nn(e,t,r)}return oc(e,t,n,s,r)}function bx(e,t,n){var s=t.pendingProps,r=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Is,qe),qe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Is,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,J(Is,qe),qe|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,J(Is,qe),qe|=s;return Le(e,t,r,n),t.child}function Nx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,n,s,r){var a=Qe(n)?ms:Me.current;return a=cr(t,a),Hs(t,r),n=Ou(e,t,n,s,a,r),s=Lu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,nn(e,t,r)):(ie&&s&&Nu(t),t.flags|=1,Le(e,t,n,r),t.child)}function Rh(e,t,n,s,r){if(Qe(n)){var a=!0;Ba(t)}else a=!1;if(Hs(t,r),t.stateNode===null)ja(e,t),yx(t,n,s),ic(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Qe(n)?ms:Me.current,u=cr(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Sh(t,o,s,u),hn=!1;var d=t.memoizedState;o.state=d,Ga(t,s,o,r),c=t.memoizedState,l!==s||d!==c||He.current||hn?(typeof h=="function"&&(rc(t,n,h,s),c=t.memoizedState),(l=hn||Nh(t,n,l,s,d,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,qp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yt(t.type,l),o.props=u,m=t.pendingProps,d=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Qe(n)?ms:Me.current,c=cr(t,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||d!==c)&&Sh(t,o,s,c),hn=!1,d=t.memoizedState,o.state=d,Ga(t,s,o,r);var y=t.memoizedState;l!==m||d!==y||He.current||hn?(typeof x=="function"&&(rc(t,n,x,s),y=t.memoizedState),(u=hn||Nh(t,n,u,s,d,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),s=!1)}return lc(e,t,n,s,a,r)}function lc(e,t,n,s,r,a){Nx(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&ph(t,n,!1),nn(e,t,a);s=t.stateNode,ij.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=dr(t,e.child,null,a),t.child=dr(t,null,l,a)):Le(e,t,l,a),t.memoizedState=s.state,r&&ph(t,n,!0),t.child}function Sx(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),Au(e,t.containerInfo)}function Ah(e,t,n,s,r){return ur(),ku(r),t.flags|=256,Le(e,t,n,s),t.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function kx(e,t,n){var s=t.pendingProps,r=ae.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),J(ae,r&1),e===null)return nc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=No(o,s,0,null),e=ds(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=uc(n),t.memoizedState=cc,e):Vu(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return aj(e,t,o,s,l,r,n);if(a){a=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=_n(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=_n(l,a):(a=ds(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?uc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cc,s}return a=e.child,e=a.sibling,s=_n(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vu(e,t){return t=No({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ta(e,t,n,s){return s!==null&&ku(s),dr(t,e.child,null,n),e=Vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aj(e,t,n,s,r,a,o){if(n)return t.flags&256?(t.flags&=-257,s=sl(Error(_(422))),ta(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,r=t.mode,s=No({mode:"visible",children:s.children},r,0,null),a=ds(a,r,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&dr(t,e.child,null,o),t.child.memoizedState=uc(o),t.memoizedState=cc,a);if(!(t.mode&1))return ta(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(_(419)),s=sl(a,s,void 0),ta(e,t,o,s)}if(l=(o&e.childLanes)!==0,Ge||l){if(s=Ne,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,tn(e,r),St(s,e,r,-1))}return Ku(),s=sl(Error(_(421))),ta(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=vj.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,Ze=Rn(r.nextSibling),Je=t,ie=!0,bt=null,e!==null&&(at[ot++]=Xt,at[ot++]=Yt,at[ot++]=fs,Xt=e.id,Yt=e.overflow,fs=t),t=Vu(t,s.children),t.flags|=4096,t)}function Dh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sc(e.return,t,n)}function rl(e,t,n,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Cx(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(Le(e,t,s.children,n),s=ae.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dh(e,n,t);else if(e.tag===19)Dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(J(ae,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),rl(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ha(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}rl(t,!0,n,null,a);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function oj(e,t,n){switch(t.tag){case 3:Sx(t),ur();break;case 5:Zp(t);break;case 1:Qe(t.type)&&Ba(t);break;case 4:Au(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;J(Wa,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(J(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?kx(e,t,n):(J(ae,ae.current&1),e=nn(e,t,n),e!==null?e.sibling:null);J(ae,ae.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Cx(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(ae,ae.current),s)break;return null;case 22:case 23:return t.lanes=0,bx(e,t,n)}return nn(e,t,n)}var Px,dc,Ex,Tx;Px=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dc=function(){};Ex=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,qn(Lt.current);var a=null;switch(n){case"input":r=Ml(e,r),s=Ml(e,s),a=[];break;case"select":r=ce({},r,{value:void 0}),s=ce({},s,{value:void 0}),a=[];break;case"textarea":r=Ll(e,r),s=Ll(e,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Va)}Fl(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ei.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ei.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Tx=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ar(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function lj(e,t,n){var s=t.pendingProps;switch(Su(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Qe(t.type)&&Ua(),Te(t),null;case 3:return s=t.stateNode,hr(),se(He),se(Me),Mu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(vc(bt),bt=null))),dc(e,t),Te(t),null;case 5:Du(t);var r=qn(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)Ex(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return Te(t),null}if(e=qn(Lt.current),Ji(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[_t]=t,s[ui]=a,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(r=0;r<Fr.length;r++)ne(Fr[r],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":Bd(s,a),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},ne("invalid",s);break;case"textarea":$d(s,a),ne("invalid",s)}Fl(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Zi(s.textContent,l,e),r=["children",""+l]):ei.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",s)}switch(n){case"input":Wi(s),zd(s,a,!0);break;case"textarea":Wi(s),Wd(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Va)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[_t]=t,e[ui]=s,Px(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vl(n,s),n){case"dialog":ne("cancel",e),ne("close",e),r=s;break;case"iframe":case"object":case"embed":ne("load",e),r=s;break;case"video":case"audio":for(r=0;r<Fr.length;r++)ne(Fr[r],e);r=s;break;case"source":ne("error",e),r=s;break;case"img":case"image":case"link":ne("error",e),ne("load",e),r=s;break;case"details":ne("toggle",e),r=s;break;case"input":Bd(e,s),r=Ml(e,s),ne("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=ce({},s,{value:void 0}),ne("invalid",e);break;case"textarea":$d(e,s),r=Ll(e,s),ne("invalid",e);break;default:r=s}Fl(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?ap(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rp(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ti(e,c):typeof c=="number"&&ti(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ei.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ne("scroll",e):c!=null&&cu(e,a,c,o))}switch(n){case"input":Wi(e),zd(e,s,!1);break;case"textarea":Wi(e),Wd(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ln(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?$s(e,!!s.multiple,a,!1):s.defaultValue!=null&&$s(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Va)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Tx(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(n=qn(hi.current),qn(Lt.current),Ji(t)){if(s=t.stateNode,n=t.memoizedProps,s[_t]=t,(a=s.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:Zi(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[_t]=t,t.stateNode=s}return Te(t),null;case 13:if(se(ae),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Ze!==null&&t.mode&1&&!(t.flags&128))Hp(),ur(),t.flags|=98560,a=!1;else if(a=Ji(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(_(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[_t]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),a=!1}else bt!==null&&(vc(bt),bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?je===0&&(je=3):Ku())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return hr(),dc(e,t),e===null&&li(t.stateNode.containerInfo),Te(t),null;case 10:return Eu(t.type._context),Te(t),null;case 17:return Qe(t.type)&&Ua(),Te(t),null;case 19:if(se(ae),a=t.memoizedState,a===null)return Te(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Ar(a,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ha(e),o!==null){for(t.flags|=128,Ar(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(ae,ae.current&1|2),t.child}e=e.sibling}a.tail!==null&&fe()>fr&&(t.flags|=128,s=!0,Ar(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ha(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ar(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ie)return Te(t),null}else 2*fe()-a.renderingStartTime>fr&&n!==1073741824&&(t.flags|=128,s=!0,Ar(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=fe(),t.sibling=null,n=ae.current,J(ae,s?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Wu(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?qe&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function cj(e,t){switch(Su(t),t.tag){case 1:return Qe(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hr(),se(He),se(Me),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Du(t),null;case 13:if(se(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ae),null;case 4:return hr(),null;case 10:return Eu(t.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var na=!1,Ae=!1,uj=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ls(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(e,t,s)}else n.current=null}function hc(e,t,n){try{n()}catch(s){me(e,t,s)}}var Mh=!1;function dj(e,t){if(Xl=La,e=_p(),bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,m=e,d=null;t:for(;;){for(var x;m!==n||r!==0&&m.nodeType!==3||(l=o+r),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)d=m,m=x;for(;;){if(m===e)break t;if(d===n&&++u===r&&(l=o),d===a&&++h===s&&(c=o),(x=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:e,selectionRange:n},La=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:yt(t.type,v),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(b){me(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return y=Mh,Mh=!1,y}function Hr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&hc(t,n,a)}r=r.next}while(r!==s)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function mc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rx(e){var t=e.alternate;t!==null&&(e.alternate=null,Rx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[ui],delete t[Jl],delete t[H0],delete t[Q0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ax(e){return e.tag===5||e.tag===3||e.tag===4}function _h(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ax(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Va));else if(s!==4&&(e=e.child,e!==null))for(fc(e,t,n),e=e.sibling;e!==null;)fc(e,t,n),e=e.sibling}function pc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pc(e,t,n),e=e.sibling;e!==null;)pc(e,t,n),e=e.sibling}var Se=null,wt=!1;function on(e,t,n){for(n=n.child;n!==null;)Dx(e,t,n),n=n.sibling}function Dx(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:Ae||Ls(n,t);case 6:var s=Se,r=wt;Se=null,on(e,t,n),Se=s,wt=r,Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(wt?(e=Se,n=n.stateNode,e.nodeType===8?qo(e.parentNode,n):e.nodeType===1&&qo(e,n),ii(e)):qo(Se,n.stateNode));break;case 4:s=Se,r=wt,Se=n.stateNode.containerInfo,wt=!0,on(e,t,n),Se=s,wt=r;break;case 0:case 11:case 14:case 15:if(!Ae&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hc(n,t,o),r=r.next}while(r!==s)}on(e,t,n);break;case 1:if(!Ae&&(Ls(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){me(n,t,l)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(Ae=(s=Ae)||n.memoizedState!==null,on(e,t,n),Ae=s):on(e,t,n);break;default:on(e,t,n)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uj),t.forEach(function(s){var r=jj.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function pt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,wt=!1;break e;case 3:Se=l.stateNode.containerInfo,wt=!0;break e;case 4:Se=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Se===null)throw Error(_(160));Dx(a,o,r),Se=null,wt=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){me(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mx(t,e),t=t.sibling}function Mx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),Et(e),s&4){try{Hr(3,e,e.return),wo(3,e)}catch(v){me(e,e.return,v)}try{Hr(5,e,e.return)}catch(v){me(e,e.return,v)}}break;case 1:pt(t,e),Et(e),s&512&&n!==null&&Ls(n,n.return);break;case 5:if(pt(t,e),Et(e),s&512&&n!==null&&Ls(n,n.return),e.flags&32){var r=e.stateNode;try{ti(r,"")}catch(v){me(e,e.return,v)}}if(s&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&tp(r,a),Vl(l,o);var u=Vl(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?ap(r,m):h==="dangerouslySetInnerHTML"?rp(r,m):h==="children"?ti(r,m):cu(r,h,m,u)}switch(l){case"input":_l(r,a);break;case"textarea":np(r,a);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?$s(r,!!a.multiple,x,!1):d!==!!a.multiple&&(a.defaultValue!=null?$s(r,!!a.multiple,a.defaultValue,!0):$s(r,!!a.multiple,a.multiple?[]:"",!1))}r[ui]=a}catch(v){me(e,e.return,v)}}break;case 6:if(pt(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(_(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(v){me(e,e.return,v)}}break;case 3:if(pt(t,e),Et(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(v){me(e,e.return,v)}break;case 4:pt(t,e),Et(e);break;case 13:pt(t,e),Et(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(zu=fe())),s&4&&Oh(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(u=Ae)||h,pt(t,e),Ae=u):pt(t,e),Et(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(F=e,h=e.child;h!==null;){for(m=F=h;F!==null;){switch(d=F,x=d.child,d.tag){case 0:case 11:case 14:case 15:Hr(4,d,d.return);break;case 1:Ls(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){s=d,n=d.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){me(s,n,v)}}break;case 5:Ls(d,d.return);break;case 22:if(d.memoizedState!==null){Ih(m);continue}}x!==null?(x.return=d,F=x):Ih(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{r=m.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ip("display",o))}catch(v){me(e,e.return,v)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){me(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pt(t,e),Et(e),s&4&&Oh(e);break;case 21:break;default:pt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ax(n)){var s=n;break e}n=n.return}throw Error(_(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(ti(r,""),s.flags&=-33);var a=_h(e);pc(e,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=_h(e);fc(e,l,o);break;default:throw Error(_(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hj(e,t,n){F=e,_x(e)}function _x(e,t,n){for(var s=(e.mode&1)!==0;F!==null;){var r=F,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||na;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ae;l=na;var u=Ae;if(na=o,(Ae=c)&&!u)for(F=r;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Fh(r):c!==null?(c.return=o,F=c):Fh(r);for(;a!==null;)F=a,_x(a),a=a.sibling;F=r,na=l,Ae=u}Lh(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,F=a):Lh(e)}}function Lh(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||wo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ae)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jh(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ii(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Ae||t.flags&512&&mc(t)}catch(d){me(t,t.return,d)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Ih(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Fh(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(c){me(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){me(t,r,c)}}var a=t.return;try{mc(t)}catch(c){me(t,a,c)}break;case 5:var o=t.return;try{mc(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var mj=Math.ceil,Ya=rn.ReactCurrentDispatcher,Uu=rn.ReactCurrentOwner,ut=rn.ReactCurrentBatchConfig,X=0,Ne=null,xe=null,Ce=0,qe=0,Is=Bn(0),je=0,xi=null,xs=0,bo=0,Bu=0,Qr=null,Ke=null,zu=0,fr=1/0,$t=null,qa=!1,xc=null,Dn=null,sa=!1,kn=null,Za=0,Xr=0,gc=null,wa=-1,ba=0;function Ue(){return X&6?fe():wa!==-1?wa:wa=fe()}function Mn(e){return e.mode&1?X&2&&Ce!==0?Ce&-Ce:Y0.transition!==null?(ba===0&&(ba=yp()),ba):(e=q,e!==0||(e=window.event,e=e===void 0?16:kp(e.type)),e):1}function St(e,t,n,s){if(50<Xr)throw Xr=0,gc=null,Error(_(185));Ti(e,n,s),(!(X&2)||e!==Ne)&&(e===Ne&&(!(X&2)&&(bo|=n),je===4&&fn(e,Ce)),Xe(e,s),n===1&&X===0&&!(t.mode&1)&&(fr=fe()+500,yo&&zn()))}function Xe(e,t){var n=e.callbackNode;Yv(e,t);var s=Oa(e,e===Ne?Ce:0);if(s===0)n!==null&&Hd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Hd(n),t===1)e.tag===0?X0(Vh.bind(null,e)):Wp(Vh.bind(null,e)),K0(function(){!(X&6)&&zn()}),n=null;else{switch(vp(s)){case 1:n=fu;break;case 4:n=xp;break;case 16:n=_a;break;case 536870912:n=gp;break;default:n=_a}n=zx(n,Ox.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ox(e,t){if(wa=-1,ba=0,X&6)throw Error(_(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var s=Oa(e,e===Ne?Ce:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ja(e,s);else{t=s;var r=X;X|=2;var a=Ix();(Ne!==e||Ce!==t)&&($t=null,fr=fe()+500,us(e,t));do try{xj();break}catch(l){Lx(e,l)}while(!0);Pu(),Ya.current=a,X=r,xe!==null?t=0:(Ne=null,Ce=0,t=je)}if(t!==0){if(t===2&&(r=Wl(e),r!==0&&(s=r,t=yc(e,r))),t===1)throw n=xi,us(e,0),fn(e,s),Xe(e,fe()),n;if(t===6)fn(e,s);else{if(r=e.current.alternate,!(s&30)&&!fj(r)&&(t=Ja(e,s),t===2&&(a=Wl(e),a!==0&&(s=a,t=yc(e,a))),t===1))throw n=xi,us(e,0),fn(e,s),Xe(e,fe()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:Hn(e,Ke,$t);break;case 3:if(fn(e,s),(s&130023424)===s&&(t=zu+500-fe(),10<t)){if(Oa(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){Ue(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Zl(Hn.bind(null,e,Ke,$t),t);break}Hn(e,Ke,$t);break;case 4:if(fn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-Nt(s);a=1<<o,o=t[o],o>r&&(r=o),s&=~a}if(s=r,s=fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*mj(s/1960))-s,10<s){e.timeoutHandle=Zl(Hn.bind(null,e,Ke,$t),s);break}Hn(e,Ke,$t);break;case 5:Hn(e,Ke,$t);break;default:throw Error(_(329))}}}return Xe(e,fe()),e.callbackNode===n?Ox.bind(null,e):null}function yc(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(us(e,t).flags|=256),e=Ja(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&vc(t)),e}function vc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function fj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Ct(a(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Bu,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),s=1<<n;e[n]=-1,t&=~s}}function Vh(e){if(X&6)throw Error(_(327));Qs();var t=Oa(e,0);if(!(t&1))return Xe(e,fe()),null;var n=Ja(e,t);if(e.tag!==0&&n===2){var s=Wl(e);s!==0&&(t=s,n=yc(e,s))}if(n===1)throw n=xi,us(e,0),fn(e,t),Xe(e,fe()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Ke,$t),Xe(e,fe()),null}function $u(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(fr=fe()+500,yo&&zn())}}function gs(e){kn!==null&&kn.tag===0&&!(X&6)&&Qs();var t=X;X|=1;var n=ut.transition,s=q;try{if(ut.transition=null,q=1,e)return e()}finally{q=s,ut.transition=n,X=t,!(X&6)&&zn()}}function Wu(){qe=Is.current,se(Is)}function us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,W0(n)),xe!==null)for(n=xe.return;n!==null;){var s=n;switch(Su(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ua();break;case 3:hr(),se(He),se(Me),Mu();break;case 5:Du(s);break;case 4:hr();break;case 13:se(ae);break;case 19:se(ae);break;case 10:Eu(s.type._context);break;case 22:case 23:Wu()}n=n.return}if(Ne=e,xe=e=_n(e.current,null),Ce=qe=t,je=0,xi=null,Bu=bo=xs=0,Ke=Qr=null,Yn!==null){for(t=0;t<Yn.length;t++)if(n=Yn[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}Yn=null}return e}function Lx(e,t){do{var n=xe;try{if(Pu(),ya.current=Xa,Qa){for(var s=le.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Qa=!1}if(ps=0,be=ye=le=null,Gr=!1,mi=0,Uu.current=null,n===null||n.return===null){je=1,xi=t,xe=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Ch(o);if(x!==null){x.flags&=-257,Ph(x,o,l,a,t),x.mode&1&&kh(a,u,t),t=x,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){kh(a,u,t),Ku();break e}c=Error(_(426))}}else if(ie&&l.mode&1){var S=Ch(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ph(S,o,l,a,t),ku(mr(c,l));break e}}a=c=mr(c,l),je!==4&&(je=2),Qr===null?Qr=[a]:Qr.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=vx(a,c,t);vh(a,p);break e;case 1:l=c;var g=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dn===null||!Dn.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=jx(a,l,t);vh(a,b);break e}}a=a.return}while(a!==null)}Vx(n)}catch(k){t=k,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Ix(){var e=Ya.current;return Ya.current=Xa,e===null?Xa:e}function Ku(){(je===0||je===3||je===2)&&(je=4),Ne===null||!(xs&268435455)&&!(bo&268435455)||fn(Ne,Ce)}function Ja(e,t){var n=X;X|=2;var s=Ix();(Ne!==e||Ce!==t)&&($t=null,us(e,t));do try{pj();break}catch(r){Lx(e,r)}while(!0);if(Pu(),X=n,Ya.current=s,xe!==null)throw Error(_(261));return Ne=null,Ce=0,je}function pj(){for(;xe!==null;)Fx(xe)}function xj(){for(;xe!==null&&!Bv();)Fx(xe)}function Fx(e){var t=Bx(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Vx(e):xe=t,Uu.current=null}function Vx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cj(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,xe=null;return}}else if(n=lj(n,t,qe),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);je===0&&(je=5)}function Hn(e,t,n){var s=q,r=ut.transition;try{ut.transition=null,q=1,gj(e,t,n,s)}finally{ut.transition=r,q=s}return null}function gj(e,t,n,s){do Qs();while(kn!==null);if(X&6)throw Error(_(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(qv(e,a),e===Ne&&(xe=Ne=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,zx(_a,function(){return Qs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ut.transition,ut.transition=null;var o=q;q=1;var l=X;X|=4,Uu.current=null,dj(e,n),Mx(n,e),I0(Yl),La=!!Xl,Yl=Xl=null,e.current=n,hj(n),zv(),X=l,q=o,ut.transition=a}else e.current=n;if(sa&&(sa=!1,kn=e,Za=r),a=e.pendingLanes,a===0&&(Dn=null),Kv(n.stateNode),Xe(e,fe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(qa)throw qa=!1,e=xc,xc=null,e;return Za&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===gc?Xr++:(Xr=0,gc=e):Xr=0,zn(),null}function Qs(){if(kn!==null){var e=vp(Za),t=ut.transition,n=q;try{if(ut.transition=null,q=16>e?16:e,kn===null)var s=!1;else{if(e=kn,kn=null,Za=0,X&6)throw Error(_(331));var r=X;for(X|=4,F=e.current;F!==null;){var a=F,o=a.child;if(F.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:Hr(8,h,a)}var m=h.child;if(m!==null)m.return=h,F=m;else for(;F!==null;){h=F;var d=h.sibling,x=h.return;if(Rx(h),h===u){F=null;break}if(d!==null){d.return=x,F=d;break}F=x}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}F=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,F=o;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hr(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,F=p;break e}F=a.return}}var g=e.current;for(F=g;F!==null;){o=F;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,F=f;else e:for(o=g;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wo(9,l)}}catch(k){me(l,l.return,k)}if(l===o){F=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,F=b;break e}F=l.return}}if(X=r,zn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(mo,e)}catch{}s=!0}return s}finally{q=n,ut.transition=t}}return!1}function Uh(e,t,n){t=mr(n,t),t=vx(e,t,1),e=An(e,t,1),t=Ue(),e!==null&&(Ti(e,1,t),Xe(e,t))}function me(e,t,n){if(e.tag===3)Uh(e,e,n);else for(;t!==null;){if(t.tag===3){Uh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=mr(n,e),e=jx(t,e,1),t=An(t,e,1),e=Ue(),t!==null&&(Ti(t,1,e),Xe(t,e));break}}t=t.return}}function yj(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Ce&n)===n&&(je===4||je===3&&(Ce&130023424)===Ce&&500>fe()-zu?us(e,0):Bu|=n),Xe(e,t)}function Ux(e,t){t===0&&(e.mode&1?(t=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):t=1);var n=Ue();e=tn(e,t),e!==null&&(Ti(e,t,n),Xe(e,n))}function vj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ux(e,n)}function jj(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),Ux(e,n)}var Bx;Bx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,oj(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ie&&t.flags&1048576&&Kp(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ja(e,t),e=t.pendingProps;var r=cr(t,Me.current);Hs(t,n),r=Ou(null,t,s,e,r,n);var a=Lu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(s)?(a=!0,Ba(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ru(t),r.updater=jo,t.stateNode=r,r._reactInternals=t,ic(t,s,e,n),t=lc(null,t,s,!0,a,n)):(t.tag=0,ie&&a&&Nu(t),Le(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=bj(s),e=yt(s,e),r){case 0:t=oc(null,t,s,e,n);break e;case 1:t=Rh(null,t,s,e,n);break e;case 11:t=Eh(null,t,s,e,n);break e;case 14:t=Th(null,t,s,yt(s.type,e),n);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:yt(s,r),oc(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:yt(s,r),Rh(e,t,s,r,n);case 3:e:{if(Sx(t),e===null)throw Error(_(387));s=t.pendingProps,a=t.memoizedState,r=a.element,qp(e,t),Ga(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=mr(Error(_(423)),t),t=Ah(e,t,s,n,r);break e}else if(s!==r){r=mr(Error(_(424)),t),t=Ah(e,t,s,n,r);break e}else for(Ze=Rn(t.stateNode.containerInfo.firstChild),Je=t,ie=!0,bt=null,n=Xp(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===r){t=nn(e,t,n);break e}Le(e,t,s,n)}t=t.child}return t;case 5:return Zp(t),e===null&&nc(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,o=r.children,ql(s,r)?o=null:a!==null&&ql(s,a)&&(t.flags|=32),Nx(e,t),Le(e,t,o,n),t.child;case 6:return e===null&&nc(t),null;case 13:return kx(e,t,n);case 4:return Au(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=dr(t,null,s,n):Le(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:yt(s,r),Eh(e,t,s,r,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,J(Wa,s._currentValue),s._currentValue=o,a!==null)if(Ct(a.value,o)){if(a.children===r.children&&!He.current){t=nn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=qt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sc(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(_(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sc(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Le(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Hs(t,n),r=ht(r),s=s(r),t.flags|=1,Le(e,t,s,n),t.child;case 14:return s=t.type,r=yt(s,t.pendingProps),r=yt(s.type,r),Th(e,t,s,r,n);case 15:return wx(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:yt(s,r),ja(e,t),t.tag=1,Qe(s)?(e=!0,Ba(t)):e=!1,Hs(t,n),yx(t,s,r),ic(t,s,r,n),lc(null,t,s,!0,e,n);case 19:return Cx(e,t,n);case 22:return bx(e,t,n)}throw Error(_(156,t.tag))};function zx(e,t){return pp(e,t)}function wj(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,s){return new wj(e,t,n,s)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bj(e){if(typeof e=="function")return Gu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===du)return 11;if(e===hu)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Na(e,t,n,s,r,a){var o=2;if(s=e,typeof e=="function")Gu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ps:return ds(n.children,r,a,t);case uu:o=8,r|=8;break;case Tl:return e=lt(12,n,t,r|2),e.elementType=Tl,e.lanes=a,e;case Rl:return e=lt(13,n,t,r),e.elementType=Rl,e.lanes=a,e;case Al:return e=lt(19,n,t,r),e.elementType=Al,e.lanes=a,e;case Zf:return No(n,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yf:o=10;break e;case qf:o=9;break e;case du:o=11;break e;case hu:o=14;break e;case dn:o=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=lt(o,n,t,r),t.elementType=e,t.type=s,t.lanes=a,t}function ds(e,t,n,s){return e=lt(7,e,s,t),e.lanes=n,e}function No(e,t,n,s){return e=lt(22,e,s,t),e.elementType=Zf,e.lanes=n,e.stateNode={isHidden:!1},e}function il(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function al(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nj(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,s,r,a,o,l,c){return e=new Nj(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=lt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(a),e}function Sj(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function $x(e){if(!e)return In;e=e._reactInternals;e:{if(ws(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Qe(n))return $p(e,n,t)}return t}function Wx(e,t,n,s,r,a,o,l,c){return e=Hu(n,s,!0,e,r,a,o,l,c),e.context=$x(null),n=e.current,s=Ue(),r=Mn(n),a=qt(s,r),a.callback=t??null,An(n,a,r),e.current.lanes=r,Ti(e,r,s),Xe(e,s),e}function So(e,t,n,s){var r=t.current,a=Ue(),o=Mn(r);return n=$x(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=An(r,t,o),e!==null&&(St(e,r,o,a),ga(e,r,o)),o}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qu(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function kj(){return null}var Kx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}ko.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));So(e,t,null,null)};ko.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gs(function(){So(null,e,null,null)}),t[en]=null}};function ko(e){this._internalRoot=e}ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=bp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Sp(e)}};function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zh(){}function Cj(e,t,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=eo(o);a.call(u)}}var o=Wx(t,s,e,0,null,!1,!1,"",zh);return e._reactRootContainer=o,e[en]=o.current,li(e.nodeType===8?e.parentNode:e),gs(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=eo(c);l.call(u)}}var c=Hu(e,0,!1,null,null,!1,!1,"",zh);return e._reactRootContainer=c,e[en]=c.current,li(e.nodeType===8?e.parentNode:e),gs(function(){So(t,c,n,s)}),c}function Po(e,t,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=eo(o);l.call(c)}}So(t,o,e,r)}else o=Cj(n,t,e,r,s);return eo(o)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ir(t.pendingLanes);n!==0&&(pu(t,n|1),Xe(t,fe()),!(X&6)&&(fr=fe()+500,zn()))}break;case 13:gs(function(){var s=tn(e,1);if(s!==null){var r=Ue();St(s,e,1,r)}}),Qu(e,1)}};xu=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=Ue();St(t,e,134217728,n)}Qu(e,134217728)}};wp=function(e){if(e.tag===13){var t=Mn(e),n=tn(e,t);if(n!==null){var s=Ue();St(n,e,t,s)}Qu(e,t)}};bp=function(){return q};Np=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Bl=function(e,t,n){switch(t){case"input":if(_l(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=go(s);if(!r)throw Error(_(90));ep(s),_l(s,r)}}}break;case"textarea":np(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};cp=$u;up=gs;var Pj={usingClientEntryPoint:!1,Events:[Ai,As,go,op,lp,$u]},Dr={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ej={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mp(e),e===null?null:e.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{mo=ra.inject(Ej),Ot=ra}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pj;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(t))throw Error(_(200));return Sj(e,t,null,n)};nt.createRoot=function(e,t){if(!Yu(e))throw Error(_(299));var n=!1,s="",r=Kx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Hu(e,1,!1,null,null,n,!1,s,r),e[en]=t.current,li(e.nodeType===8?e.parentNode:e),new Xu(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=mp(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return gs(e)};nt.hydrate=function(e,t,n){if(!Co(t))throw Error(_(200));return Po(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(_(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=Kx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wx(t,null,e,1,n??null,r,!1,a,o),e[en]=t.current,li(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new ko(t)};nt.render=function(e,t,n){if(!Co(t))throw Error(_(200));return Po(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!Co(e))throw Error(_(40));return e._reactRootContainer?(gs(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};nt.unstable_batchedUpdates=$u;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Co(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Po(e,t,n,!1,s)};nt.version="18.3.1-next-f1338f8080-20240426";function Gx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gx)}catch(e){console.error(e)}}Gx(),Gf.exports=nt;var Tj=Gf.exports,$h=Tj;Pl.createRoot=$h.createRoot,Pl.hydrateRoot=$h.hydrateRoot;var jr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rj={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},pn,nu,Nf,Aj=(Nf=class{constructor(){B(this,pn,Rj);B(this,nu,!1)}setTimeoutProvider(e){O(this,pn,e)}setTimeout(e,t){return N(this,pn).setTimeout(e,t)}clearTimeout(e){N(this,pn).clearTimeout(e)}setInterval(e,t){return N(this,pn).setInterval(e,t)}clearInterval(e){N(this,pn).clearInterval(e)}},pn=new WeakMap,nu=new WeakMap,Nf),Zn=new Aj;function Dj(e){setTimeout(e,0)}var ys=typeof window>"u"||"Deno"in globalThis;function Ie(){}function Mj(e,t){return typeof e=="function"?e(t):e}function jc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function On(e,t){return typeof e=="function"?e(t):e}function it(e,t){return typeof e=="function"?e(t):e}function Wh(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==qu(o,t.options))return!1}else if(!gi(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||a&&!a(t))}function Kh(e,t){const{exact:n,status:s,predicate:r,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(vs(t.options.mutationKey)!==vs(a))return!1}else if(!gi(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function qu(e,t){return((t==null?void 0:t.queryKeyHashFn)||vs)(e)}function vs(e){return JSON.stringify(e,(t,n)=>wc(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gi(e[n],t[n])):!1}var _j=Object.prototype.hasOwnProperty;function Qx(e,t,n=0){if(e===t)return e;if(n>500)return t;const s=Gh(e)&&Gh(t);if(!s&&!(wc(e)&&wc(t)))return t;const a=(s?e:Object.keys(e)).length,o=s?t:Object.keys(t),l=o.length,c=s?new Array(l):{};let u=0;for(let h=0;h<l;h++){const m=s?h:o[h],d=e[m],x=t[m];if(d===x){c[m]=d,(s?h<a:_j.call(e,m))&&u++;continue}if(d===null||x===null||typeof d!="object"||typeof x!="object"){c[m]=x;continue}const y=Qx(d,x,n+1);c[m]=y,y===d&&u++}return a===l&&u===a?e:c}function to(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Gh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wc(e){if(!Hh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Hh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Oj(e){return new Promise(t=>{Zn.setTimeout(t,e)})}function bc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Qx(e,t):t}function Lj(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Ij(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Zu=Symbol();function Xx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Zu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ju(e,t){return typeof e=="function"?e(...t):!!e}function Fj(e,t,n){let s=!1,r;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(r??(r=t()),s||(s=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),e}var ts,xn,Ys,Sf,Vj=(Sf=class extends jr{constructor(){super();B(this,ts);B(this,xn);B(this,Ys);O(this,Ys,t=>{if(!ys&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,xn)||this.setEventListener(N(this,Ys))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,xn))==null||t.call(this),O(this,xn,void 0))}setEventListener(t){var n;O(this,Ys,t),(n=N(this,xn))==null||n.call(this),O(this,xn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){N(this,ts)!==t&&(O(this,ts,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,ts)=="boolean"?N(this,ts):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ts=new WeakMap,xn=new WeakMap,Ys=new WeakMap,Sf),ed=new Vj;function Nc(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}var Uj=Dj;function Bj(){let e=[],t=0,n=l=>{l()},s=l=>{l()},r=Uj;const a=l=>{t?e.push(l):r(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var ve=Bj(),qs,gn,Zs,kf,zj=(kf=class extends jr{constructor(){super();B(this,qs,!0);B(this,gn);B(this,Zs);O(this,Zs,t=>{if(!ys&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){N(this,gn)||this.setEventListener(N(this,Zs))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,gn))==null||t.call(this),O(this,gn,void 0))}setEventListener(t){var n;O(this,Zs,t),(n=N(this,gn))==null||n.call(this),O(this,gn,t(this.setOnline.bind(this)))}setOnline(t){N(this,qs)!==t&&(O(this,qs,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return N(this,qs)}},qs=new WeakMap,gn=new WeakMap,Zs=new WeakMap,kf),no=new zj;function $j(e){return Math.min(1e3*2**e,3e4)}function Yx(e){return(e??"online")==="online"?no.isOnline():!0}var Sc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qx(e){let t=!1,n=0,s;const r=Nc(),a=()=>r.status!=="pending",o=v=>{var S;if(!a()){const p=new Sc(v);d(p),(S=e.onCancel)==null||S.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>ed.isFocused()&&(e.networkMode==="always"||no.isOnline())&&e.canRun(),h=()=>Yx(e.networkMode)&&e.canRun(),m=v=>{a()||(s==null||s(),r.resolve(v))},d=v=>{a()||(s==null||s(),r.reject(v))},x=()=>new Promise(v=>{var S;s=p=>{(a()||u())&&v(p)},(S=e.onPause)==null||S.call(e)}).then(()=>{var v;s=void 0,a()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(a())return;let v;const S=n===0?e.initialPromise:void 0;try{v=S??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(m).catch(p=>{var C;if(a())return;const g=e.retry??(ys?0:3),f=e.retryDelay??$j,b=typeof f=="function"?f(n,p):f,k=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,p);if(t||!k){d(p);return}n++,(C=e.onFail)==null||C.call(e,n,p),Oj(b).then(()=>u()?void 0:x()).then(()=>{t?d(p):y()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?y():x().then(y),r)}}var ns,Cf,Zx=(Cf=class{constructor(){B(this,ns)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jc(this.gcTime)&&O(this,ns,Zn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ys?1/0:5*60*1e3))}clearGcTimeout(){N(this,ns)&&(Zn.clearTimeout(N(this,ns)),O(this,ns,void 0))}},ns=new WeakMap,Cf),ss,Js,rt,rs,we,Ni,is,vt,zt,Pf,Wj=(Pf=class extends Zx{constructor(t){super();B(this,vt);B(this,ss);B(this,Js);B(this,rt);B(this,rs);B(this,we);B(this,Ni);B(this,is);O(this,is,!1),O(this,Ni,t.defaultOptions),this.setOptions(t.options),this.observers=[],O(this,rs,t.client),O(this,rt,N(this,rs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,O(this,ss,Xh(this.options)),this.state=t.state??N(this,ss),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,we))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,Ni),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Xh(this.options);n.data!==void 0&&(this.setState(Qh(n.data,n.dataUpdatedAt)),O(this,ss,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,rt).remove(this)}setData(t,n){const s=bc(this.state.data,t,this.options);return W(this,vt,zt).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){W(this,vt,zt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,r;const n=(s=N(this,we))==null?void 0:s.promise;return(r=N(this,we))==null||r.cancel(t),n?n.then(Ie).catch(Ie):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ss))}isActive(){return this.observers.some(t=>it(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>On(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,we))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,we))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,rt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,we)&&(N(this,is)?N(this,we).cancel({revert:!0}):N(this,we).cancelRetry()),this.scheduleGc()),N(this,rt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,vt,zt).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,h,m,d,x,y,v,S,p,g,f;if(this.state.fetchStatus!=="idle"&&((c=N(this,we))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,we))return N(this,we).continueRetry(),N(this,we).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(k=>k.options.queryFn);b&&this.setOptions(b.options)}const s=new AbortController,r=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(O(this,is,!0),s.signal)})},a=()=>{const b=Xx(this.options,n),C=(()=>{const P={client:N(this,rs),queryKey:this.queryKey,meta:this.meta};return r(P),P})();return O(this,is,!1),this.options.persister?this.options.persister(b,C,this):b(C)},l=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,rs),state:this.state,fetchFn:a};return r(b),b})();(u=this.options.behavior)==null||u.onFetch(l,this),O(this,Js,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&W(this,vt,zt).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),O(this,we,qx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof Sc&&b.revert&&this.setState({...N(this,Js),fetchStatus:"idle"}),s.abort()},onFail:(b,k)=>{W(this,vt,zt).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{W(this,vt,zt).call(this,{type:"pause"})},onContinue:()=>{W(this,vt,zt).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await N(this,we).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(x=(d=N(this,rt).config).onSuccess)==null||x.call(d,b,this),(v=(y=N(this,rt).config).onSettled)==null||v.call(y,b,this.state.error,this),b}catch(b){if(b instanceof Sc){if(b.silent)return N(this,we).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw W(this,vt,zt).call(this,{type:"error",error:b}),(p=(S=N(this,rt).config).onError)==null||p.call(S,b,this),(f=(g=N(this,rt).config).onSettled)==null||f.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},ss=new WeakMap,Js=new WeakMap,rt=new WeakMap,rs=new WeakMap,we=new WeakMap,Ni=new WeakMap,is=new WeakMap,vt=new WeakSet,zt=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Jx(s.data,this.options),fetchMeta:t.meta??null};case"success":const r={...s,...Qh(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return O(this,Js,t.manual?r:void 0),r;case"error":const a=t.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),ve.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),N(this,rt).notify({query:this,type:"updated",action:t})})},Pf);function Jx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $e,Q,Si,Oe,as,er,Kt,yn,ki,tr,nr,os,ls,vn,sr,Y,Vr,kc,Cc,Pc,Ec,Tc,Rc,Ac,eg,Ef,Kj=(Ef=class extends jr{constructor(t,n){super();B(this,Y);B(this,$e);B(this,Q);B(this,Si);B(this,Oe);B(this,as);B(this,er);B(this,Kt);B(this,yn);B(this,ki);B(this,tr);B(this,nr);B(this,os);B(this,ls);B(this,vn);B(this,sr,new Set);this.options=n,O(this,$e,t),O(this,yn,null),O(this,Kt,Nc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Q).addObserver(this),Yh(N(this,Q),this.options)?W(this,Y,Vr).call(this):this.updateResult(),W(this,Y,Ec).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dc(N(this,Q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dc(N(this,Q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,Y,Tc).call(this),W(this,Y,Rc).call(this),N(this,Q).removeObserver(this)}setOptions(t){const n=this.options,s=N(this,Q);if(this.options=N(this,$e).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof it(this.options.enabled,N(this,Q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");W(this,Y,Ac).call(this),N(this,Q).setOptions(this.options),n._defaulted&&!to(this.options,n)&&N(this,$e).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Q),observer:this});const r=this.hasListeners();r&&qh(N(this,Q),s,this.options,n)&&W(this,Y,Vr).call(this),this.updateResult(),r&&(N(this,Q)!==s||it(this.options.enabled,N(this,Q))!==it(n.enabled,N(this,Q))||On(this.options.staleTime,N(this,Q))!==On(n.staleTime,N(this,Q)))&&W(this,Y,kc).call(this);const a=W(this,Y,Cc).call(this);r&&(N(this,Q)!==s||it(this.options.enabled,N(this,Q))!==it(n.enabled,N(this,Q))||a!==N(this,vn))&&W(this,Y,Pc).call(this,a)}getOptimisticResult(t){const n=N(this,$e).getQueryCache().build(N(this,$e),t),s=this.createResult(n,t);return Hj(this,s)&&(O(this,Oe,s),O(this,er,this.options),O(this,as,N(this,Q).state)),s}getCurrentResult(){return N(this,Oe)}trackResult(t,n){return new Proxy(t,{get:(s,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,Kt).status==="pending"&&N(this,Kt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(t){N(this,sr).add(t)}getCurrentQuery(){return N(this,Q)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=N(this,$e).defaultQueryOptions(t),s=N(this,$e).getQueryCache().build(N(this,$e),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return W(this,Y,Vr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Oe)))}createResult(t,n){var E;const s=N(this,Q),r=this.options,a=N(this,Oe),o=N(this,as),l=N(this,er),u=t!==s?t.state:N(this,Si),{state:h}=t;let m={...h},d=!1,x;if(n._optimisticResults){const T=this.hasListeners(),M=!T&&Yh(t,n),I=T&&qh(t,s,n,r);(M||I)&&(m={...m,...Jx(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:S}=m;x=m.data;let p=!1;if(n.placeholderData!==void 0&&x===void 0&&S==="pending"){let T;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=a.data,p=!0):T=typeof n.placeholderData=="function"?n.placeholderData((E=N(this,nr))==null?void 0:E.state.data,N(this,nr)):n.placeholderData,T!==void 0&&(S="success",x=bc(a==null?void 0:a.data,T,n),d=!0)}if(n.select&&x!==void 0&&!p)if(a&&x===(o==null?void 0:o.data)&&n.select===N(this,ki))x=N(this,tr);else try{O(this,ki,n.select),x=n.select(x),x=bc(a==null?void 0:a.data,x,n),O(this,tr,x),O(this,yn,null)}catch(T){O(this,yn,T)}N(this,yn)&&(y=N(this,yn),x=N(this,tr),v=Date.now(),S="error");const g=m.fetchStatus==="fetching",f=S==="pending",b=S==="error",k=f&&g,C=x!==void 0,j={status:S,fetchStatus:m.fetchStatus,isPending:f,isSuccess:S==="success",isError:b,isInitialLoading:k,isLoading:k,data:x,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!f,isLoadingError:b&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&C,isStale:td(t,n),refetch:this.refetch,promise:N(this,Kt),isEnabled:it(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=j.data!==void 0,M=j.status==="error"&&!T,I=U=>{M?U.reject(j.error):T&&U.resolve(j.data)},$=()=>{const U=O(this,Kt,j.promise=Nc());I(U)},H=N(this,Kt);switch(H.status){case"pending":t.queryHash===s.queryHash&&I(H);break;case"fulfilled":(M||j.data!==H.value)&&$();break;case"rejected":(!M||j.error!==H.reason)&&$();break}}return j}updateResult(){const t=N(this,Oe),n=this.createResult(N(this,Q),this.options);if(O(this,as,N(this,Q).state),O(this,er,this.options),N(this,as).data!==void 0&&O(this,nr,N(this,Q)),to(n,t))return;O(this,Oe,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!N(this,sr).size)return!0;const o=new Set(a??N(this,sr));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Oe)).some(l=>{const c=l;return N(this,Oe)[c]!==t[c]&&o.has(c)})};W(this,Y,eg).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,Y,Ec).call(this)}},$e=new WeakMap,Q=new WeakMap,Si=new WeakMap,Oe=new WeakMap,as=new WeakMap,er=new WeakMap,Kt=new WeakMap,yn=new WeakMap,ki=new WeakMap,tr=new WeakMap,nr=new WeakMap,os=new WeakMap,ls=new WeakMap,vn=new WeakMap,sr=new WeakMap,Y=new WeakSet,Vr=function(t){W(this,Y,Ac).call(this);let n=N(this,Q).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ie)),n},kc=function(){W(this,Y,Tc).call(this);const t=On(this.options.staleTime,N(this,Q));if(ys||N(this,Oe).isStale||!jc(t))return;const s=Hx(N(this,Oe).dataUpdatedAt,t)+1;O(this,os,Zn.setTimeout(()=>{N(this,Oe).isStale||this.updateResult()},s))},Cc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Q)):this.options.refetchInterval)??!1},Pc=function(t){W(this,Y,Rc).call(this),O(this,vn,t),!(ys||it(this.options.enabled,N(this,Q))===!1||!jc(N(this,vn))||N(this,vn)===0)&&O(this,ls,Zn.setInterval(()=>{(this.options.refetchIntervalInBackground||ed.isFocused())&&W(this,Y,Vr).call(this)},N(this,vn)))},Ec=function(){W(this,Y,kc).call(this),W(this,Y,Pc).call(this,W(this,Y,Cc).call(this))},Tc=function(){N(this,os)&&(Zn.clearTimeout(N(this,os)),O(this,os,void 0))},Rc=function(){N(this,ls)&&(Zn.clearInterval(N(this,ls)),O(this,ls,void 0))},Ac=function(){const t=N(this,$e).getQueryCache().build(N(this,$e),this.options);if(t===N(this,Q))return;const n=N(this,Q);O(this,Q,t),O(this,Si,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},eg=function(t){ve.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(N(this,Oe))}),N(this,$e).getQueryCache().notify({query:N(this,Q),type:"observerResultsUpdated"})})},Ef);function Gj(e,t){return it(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yh(e,t){return Gj(e,t)||e.state.data!==void 0&&Dc(e,t,t.refetchOnMount)}function Dc(e,t,n){if(it(t.enabled,e)!==!1&&On(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&td(e,t)}return!1}function qh(e,t,n,s){return(e!==t||it(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&td(e,n)}function td(e,t){return it(t.enabled,e)!==!1&&e.isStaleByTime(On(t.staleTime,e))}function Hj(e,t){return!to(e.getCurrentResult(),t)}function Zh(e){return{onFetch:(t,n)=>{var h,m,d,x,y;const s=t.options,r=(d=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:d.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const S=f=>{Fj(f,()=>t.signal,()=>v=!0)},p=Xx(t.options,t.fetchOptions),g=async(f,b,k)=>{if(v)return Promise.reject();if(b==null&&f.pages.length)return Promise.resolve(f);const P=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};return S(M),M})(),j=await p(P),{maxPages:E}=t.options,T=k?Ij:Lj;return{pages:T(f.pages,j,E),pageParams:T(f.pageParams,b,E)}};if(r&&a.length){const f=r==="backward",b=f?Qj:Jh,k={pages:a,pageParams:o},C=b(s,k);l=await g(k,C,f)}else{const f=e??a.length;do{const b=c===0?o[0]??s.initialPageParam:Jh(s,l);if(c>0&&b==null)break;l=await g(l,b),c++}while(c<f)}return l};t.options.persister?t.fetchFn=()=>{var v,S;return(S=(v=t.options).persister)==null?void 0:S.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Jh(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Qj(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Ci,At,Re,cs,Dt,ln,Tf,Xj=(Tf=class extends Zx{constructor(t){super();B(this,Dt);B(this,Ci);B(this,At);B(this,Re);B(this,cs);O(this,Ci,t.client),this.mutationId=t.mutationId,O(this,Re,t.mutationCache),O(this,At,[]),this.state=t.state||tg(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,At).includes(t)||(N(this,At).push(t),this.clearGcTimeout(),N(this,Re).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){O(this,At,N(this,At).filter(n=>n!==t)),this.scheduleGc(),N(this,Re).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,At).length||(this.state.status==="pending"?this.scheduleGc():N(this,Re).remove(this))}continue(){var t;return((t=N(this,cs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,h,m,d,x,y,v,S,p,g,f,b,k,C,P;const n=()=>{W(this,Dt,ln).call(this,{type:"continue"})},s={client:N(this,Ci),meta:this.options.meta,mutationKey:this.options.mutationKey};O(this,cs,qx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(j,E)=>{W(this,Dt,ln).call(this,{type:"failed",failureCount:j,error:E})},onPause:()=>{W(this,Dt,ln).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Re).canRun(this)}));const r=this.state.status==="pending",a=!N(this,cs).canStart();try{if(r)n();else{W(this,Dt,ln).call(this,{type:"pending",variables:t,isPaused:a}),N(this,Re).config.onMutate&&await N(this,Re).config.onMutate(t,this,s);const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,s));E!==this.state.context&&W(this,Dt,ln).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const j=await N(this,cs).start();return await((u=(c=N(this,Re).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this,s)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,j,t,this.state.context,s)),await((x=(d=N(this,Re).config).onSettled)==null?void 0:x.call(d,j,null,this.state.variables,this.state.context,this,s)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,j,null,t,this.state.context,s)),W(this,Dt,ln).call(this,{type:"success",data:j}),j}catch(j){try{await((p=(S=N(this,Re).config).onError)==null?void 0:p.call(S,j,t,this.state.context,this,s))}catch(E){Promise.reject(E)}try{await((f=(g=this.options).onError)==null?void 0:f.call(g,j,t,this.state.context,s))}catch(E){Promise.reject(E)}try{await((k=(b=N(this,Re).config).onSettled)==null?void 0:k.call(b,void 0,j,this.state.variables,this.state.context,this,s))}catch(E){Promise.reject(E)}try{await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,j,t,this.state.context,s))}catch(E){Promise.reject(E)}throw W(this,Dt,ln).call(this,{type:"error",error:j}),j}finally{N(this,Re).runNext(this)}}},Ci=new WeakMap,At=new WeakMap,Re=new WeakMap,cs=new WeakMap,Dt=new WeakSet,ln=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ve.batch(()=>{N(this,At).forEach(s=>{s.onMutationUpdate(t)}),N(this,Re).notify({mutation:this,type:"updated",action:t})})},Tf);function tg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gt,jt,Pi,Rf,Yj=(Rf=class extends jr{constructor(t={}){super();B(this,Gt);B(this,jt);B(this,Pi);this.config=t,O(this,Gt,new Set),O(this,jt,new Map),O(this,Pi,0)}build(t,n,s){const r=new Xj({client:t,mutationCache:this,mutationId:++Bi(this,Pi)._,options:t.defaultMutationOptions(n),state:s});return this.add(r),r}add(t){N(this,Gt).add(t);const n=ia(t);if(typeof n=="string"){const s=N(this,jt).get(n);s?s.push(t):N(this,jt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Gt).delete(t)){const n=ia(t);if(typeof n=="string"){const s=N(this,jt).get(n);if(s)if(s.length>1){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}else s[0]===t&&N(this,jt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ia(t);if(typeof n=="string"){const s=N(this,jt).get(n),r=s==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}else return!0}runNext(t){var s;const n=ia(t);if(typeof n=="string"){const r=(s=N(this,jt).get(n))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ve.batch(()=>{N(this,Gt).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Gt).clear(),N(this,jt).clear()})}getAll(){return Array.from(N(this,Gt))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Kh(n,s))}findAll(t={}){return this.getAll().filter(n=>Kh(t,n))}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ve.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ie))))}},Gt=new WeakMap,jt=new WeakMap,Pi=new WeakMap,Rf);function ia(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ht,jn,We,Qt,Zt,Sa,Mc,Af,qj=(Af=class extends jr{constructor(n,s){super();B(this,Zt);B(this,Ht);B(this,jn);B(this,We);B(this,Qt);O(this,Ht,n),this.setOptions(s),this.bindMethods(),W(this,Zt,Sa).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=N(this,Ht).defaultMutationOptions(n),to(this.options,s)||N(this,Ht).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,We),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&vs(s.mutationKey)!==vs(this.options.mutationKey)?this.reset():((r=N(this,We))==null?void 0:r.state.status)==="pending"&&N(this,We).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,We))==null||n.removeObserver(this)}onMutationUpdate(n){W(this,Zt,Sa).call(this),W(this,Zt,Mc).call(this,n)}getCurrentResult(){return N(this,jn)}reset(){var n;(n=N(this,We))==null||n.removeObserver(this),O(this,We,void 0),W(this,Zt,Sa).call(this),W(this,Zt,Mc).call(this)}mutate(n,s){var r;return O(this,Qt,s),(r=N(this,We))==null||r.removeObserver(this),O(this,We,N(this,Ht).getMutationCache().build(N(this,Ht),this.options)),N(this,We).addObserver(this),N(this,We).execute(n)}},Ht=new WeakMap,jn=new WeakMap,We=new WeakMap,Qt=new WeakMap,Zt=new WeakSet,Sa=function(){var s;const n=((s=N(this,We))==null?void 0:s.state)??tg();O(this,jn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mc=function(n){ve.batch(()=>{var s,r,a,o,l,c,u,h;if(N(this,Qt)&&this.hasListeners()){const m=N(this,jn).variables,d=N(this,jn).context,x={client:N(this,Ht),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(r=(s=N(this,Qt)).onSuccess)==null||r.call(s,n.data,m,d,x)}catch(y){Promise.reject(y)}try{(o=(a=N(this,Qt)).onSettled)==null||o.call(a,n.data,null,m,d,x)}catch(y){Promise.reject(y)}}else if((n==null?void 0:n.type)==="error"){try{(c=(l=N(this,Qt)).onError)==null||c.call(l,n.error,m,d,x)}catch(y){Promise.reject(y)}try{(h=(u=N(this,Qt)).onSettled)==null||h.call(u,void 0,n.error,m,d,x)}catch(y){Promise.reject(y)}}}this.listeners.forEach(m=>{m(N(this,jn))})})},Af),Mt,Df,Zj=(Df=class extends jr{constructor(t={}){super();B(this,Mt);this.config=t,O(this,Mt,new Map)}build(t,n,s){const r=n.queryKey,a=n.queryHash??qu(r,n);let o=this.get(a);return o||(o=new Wj({client:t,queryKey:r,queryHash:a,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){N(this,Mt).has(t.queryHash)||(N(this,Mt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,Mt).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,Mt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ve.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,Mt).get(t)}getAll(){return[...N(this,Mt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>Wh(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>Wh(t,s)):n}notify(t){ve.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ve.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ve.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mt=new WeakMap,Df),de,wn,bn,rr,ir,Nn,ar,or,Mf,Jj=(Mf=class{constructor(e={}){B(this,de);B(this,wn);B(this,bn);B(this,rr);B(this,ir);B(this,Nn);B(this,ar);B(this,or);O(this,de,e.queryCache||new Zj),O(this,wn,e.mutationCache||new Yj),O(this,bn,e.defaultOptions||{}),O(this,rr,new Map),O(this,ir,new Map),O(this,Nn,0)}mount(){Bi(this,Nn)._++,N(this,Nn)===1&&(O(this,ar,ed.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,de).onFocus())})),O(this,or,no.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,de).onOnline())})))}unmount(){var e,t;Bi(this,Nn)._--,N(this,Nn)===0&&((e=N(this,ar))==null||e.call(this),O(this,ar,void 0),(t=N(this,or))==null||t.call(this),O(this,or,void 0))}isFetching(e){return N(this,de).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,wn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,de).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=N(this,de).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(On(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return N(this,de).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=N(this,de).get(s.queryHash),a=r==null?void 0:r.state.data,o=Mj(t,a);if(o!==void 0)return N(this,de).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ve.batch(()=>N(this,de).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,de).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,de);ve.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,de);return ve.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=ve.batch(()=>N(this,de).findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(Ie).catch(Ie)}invalidateQueries(e,t={}){return ve.batch(()=>(N(this,de).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=ve.batch(()=>N(this,de).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(Ie)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ie)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,de).build(this,t);return n.isStaleByTime(On(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ie).catch(Ie)}fetchInfiniteQuery(e){return e.behavior=Zh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ie).catch(Ie)}ensureInfiniteQueryData(e){return e.behavior=Zh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return no.isOnline()?N(this,wn).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,de)}getMutationCache(){return N(this,wn)}getDefaultOptions(){return N(this,bn)}setDefaultOptions(e){O(this,bn,e)}setQueryDefaults(e,t){N(this,rr).set(vs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,rr).values()],n={};return t.forEach(s=>{gi(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){N(this,ir).set(vs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,ir).values()],n={};return t.forEach(s=>{gi(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,bn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Zu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,bn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,de).clear(),N(this,wn).clear()}},de=new WeakMap,wn=new WeakMap,bn=new WeakMap,rr=new WeakMap,ir=new WeakMap,Nn=new WeakMap,ar=new WeakMap,or=new WeakMap,Mf),ng=w.createContext(void 0),Eo=e=>{const t=w.useContext(ng);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ew=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(ng.Provider,{value:e,children:t})),sg=w.createContext(!1),tw=()=>w.useContext(sg);sg.Provider;function nw(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sw=w.createContext(nw()),rw=()=>w.useContext(sw),iw=(e,t,n)=>{const s=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Ju(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||s)&&(t.isReset()||(e.retryOnMount=!1))},aw=e=>{w.useEffect(()=>{e.clearReset()},[e])},ow=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(r&&e.data===void 0||Ju(n,[e.error,s])),lw=e=>{if(e.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cw=(e,t)=>e.isLoading&&e.isFetching&&!t,uw=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,em=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function dw(e,t,n){var d,x,y,v;const s=tw(),r=rw(),a=Eo(),o=a.defaultQueryOptions(e);(x=(d=a.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||x.call(d,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=s?"isRestoring":"optimistic",lw(o),iw(o,r,l),aw(r);const c=!a.getQueryCache().get(o.queryHash),[u]=w.useState(()=>new t(a,o)),h=u.getOptimisticResult(o),m=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(S=>{const p=m?u.subscribe(ve.batchCalls(S)):Ie;return u.updateResult(),p},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),w.useEffect(()=>{u.setOptions(o)},[o,u]),uw(o,h))throw em(o,u,r);if(ow({result:h,errorResetBoundary:r,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw h.error;if((v=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,o,h),o.experimental_prefetchInRender&&!ys&&cw(h,s)){const S=c?em(o,u,r):l==null?void 0:l.promise;S==null||S.catch(Ie).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?h:u.trackResult(h)}function hw(e,t){return dw(e,Kj)}function mw(e,t){const n=Eo(),[s]=w.useState(()=>new qj(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const r=w.useSyncExternalStore(w.useCallback(o=>s.subscribe(ve.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((o,l)=>{s.mutate(o,l).catch(Ie)},[s]);if(r.error&&Ju(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}const rg=w.createContext(void 0);function fw({children:e}){const[t,n]=w.useState(()=>localStorage.getItem("box-theme")||"dark");w.useEffect(()=>{localStorage.setItem("box-theme",t),document.documentElement.classList.remove("dark","light"),document.documentElement.classList.add(t)},[t]);const s=()=>{n(r=>r==="dark"?"light":"dark")};return i.jsx(rg.Provider,{value:{theme:t,toggleTheme:s},children:e})}function Mi(){const e=w.useContext(rg);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}async function pw(){const e=await fetch("/api/auth/user",{credentials:"include"});if(e.status===401)return null;if(!e.ok)throw new Error(`${e.status}: ${e.statusText}`);return e.json()}async function xw(){try{await fetch("/api/logout",{method:"POST",credentials:"include"}),window.location.href="/"}catch(e){console.error("Logout error:",e),window.location.href="/"}}function an(){const e=Eo(),{data:t,isLoading:n}=hw({queryKey:["/api/auth/user"],queryFn:pw,retry:!1,staleTime:1e3*60*5}),s=mw({mutationFn:xw,onSuccess:()=>{e.setQueryData(["/api/auth/user"],null)}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:s.mutate,isLoggingOut:s.isPending}}function gw(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,r,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();r=c.shift();)n=r[0],n==="*"?(o.push(n),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~s?s:~a?a:r.length)),l+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~s?"?":"")+"\\"+r.substring(a))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ig={exports:{}},ag={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr=w;function yw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vw=typeof Object.is=="function"?Object.is:yw,jw=pr.useState,ww=pr.useEffect,bw=pr.useLayoutEffect,Nw=pr.useDebugValue;function Sw(e,t){var n=t(),s=jw({inst:{value:n,getSnapshot:t}}),r=s[0].inst,a=s[1];return bw(function(){r.value=n,r.getSnapshot=t,ol(r)&&a({inst:r})},[e,n,t]),ww(function(){return ol(r)&&a({inst:r}),e(function(){ol(r)&&a({inst:r})})},[e]),Nw(n),n}function ol(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vw(e,n)}catch{return!0}}function kw(e,t){return t()}var Cw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kw:Sw;ag.useSyncExternalStore=pr.useSyncExternalStore!==void 0?pr.useSyncExternalStore:Cw;ig.exports=ag;var Pw=ig.exports;const Ew=yv.useInsertionEffect,Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rw=Tw?w.useLayoutEffect:w.useEffect,Aw=Ew||Rw,og=e=>{const t=w.useRef([e,(...n)=>t[0](...n)]).current;return Aw(()=>{t[0]=e}),t[1]},Dw="popstate",nd="pushState",sd="replaceState",Mw="hashchange",tm=[Dw,nd,sd,Mw],_w=e=>{for(const t of tm)addEventListener(t,e);return()=>{for(const t of tm)removeEventListener(t,e)}},lg=(e,t)=>Pw.useSyncExternalStore(_w,e,t),nm=()=>location.search,Ow=({ssrSearch:e}={})=>lg(nm,e!=null?()=>e:nm),sm=()=>location.pathname,Lw=({ssrPath:e}={})=>lg(sm,e!=null?()=>e:sm),Iw=(e,{replace:t=!1,state:n=null}={})=>history[t?sd:nd](n,"",e),Fw=(e={})=>[Lw(e),Iw],rm=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rm]>"u"){for(const e of[nd,sd]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,rm,{value:!0})}const Vw=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",cg=(e="")=>e==="/"?"":e,Uw=(e,t)=>e[0]==="~"?e.slice(1):cg(t)+e,Bw=(e="",t)=>Vw(im(cg(e)),im(t)),im=e=>{try{return decodeURI(e)}catch{return e}},ug={hook:Fw,searchHook:Ow,parser:gw,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},dg=w.createContext(ug),_i=()=>w.useContext(dg),hg={},mg=w.createContext(hg),To=()=>w.useContext(mg),Ro=e=>{const[t,n]=e.hook(e);return[Bw(e.base,t),og((s,r)=>e.aroundNav(n,Uw(s,e.base),r))]},fg=()=>Ro(_i()),pg=(e,t,n,s)=>{const{pattern:r,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=r.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((m,d)=>[m,c[d]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...s?[l]:[]]:[!1,null]},zw=({children:e,...t})=>{var h,m,d;const n=_i(),s=t.hook?ug:n;let r=s;const[a,o=t.ssrSearch??""]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];a&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs),t.searchHook=t.searchHook??((d=t.hook)==null?void 0:d.searchHook);let l=w.useRef({}),c=l.current,u=c;for(let x in s){const y=x==="base"?s[x]+(t[x]??""):t[x]??s[x];c===u&&y!==u[x]&&(l.current=u={...u}),u[x]=y,(y!==s[x]||y!==r[x])&&(r=u)}return w.createElement(dg.Provider,{value:r,children:e})},am=({children:e,component:t},n)=>t?w.createElement(t,{params:n}):typeof e=="function"?e(n):e,$w=e=>{let t=w.useRef(hg);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([s,r])=>r!==n[s])?e:n},Ut=({path:e,nest:t,match:n,...s})=>{const r=_i(),[a]=Ro(r),[o,l,c]=n??pg(r.parser,e,a,t),u=$w({...To(),...l});if(!o)return null;const h=c?w.createElement(zw,{base:c},am(s,u)):am(s,u);return w.createElement(mg.Provider,{value:u,children:h})},et=w.forwardRef((e,t)=>{const n=_i(),[s,r]=Ro(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:h,replace:m,state:d,transition:x,...y}=e,v=og(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(l==null||l(p),p.defaultPrevented||(p.preventDefault(),r(o,e)))}),S=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:v,href:S}):w.createElement("a",{...y,onClick:v,href:S,className:h!=null&&h.call?h(s===o):h,children:u,ref:t})}),xg=e=>Array.isArray(e)?e.flatMap(t=>xg(t&&t.type===w.Fragment?t.props.children:t)):[e],Ww=({children:e,location:t})=>{const n=_i(),[s]=Ro(n);for(const r of xg(e)){let a=0;if(w.isValidElement(r)&&(a=pg(n.parser,r.props.path,t||s,r.props.nest))[0])return w.cloneElement(r,{match:a})}return null};function Kw({onComplete:e}){const[t,n]=w.useState([]),[s,r]=w.useState(!1),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(!1),[m,d]=w.useState(!1),[x,y]=w.useState(!0),v=w.useRef(null),S=w.useRef(null);w.useEffect(()=>{s&&v.current&&!m&&v.current.focus()},[s,m]),w.useEffect(()=>{const g=setInterval(()=>{y(f=>!f)},500);return()=>clearInterval(g)},[]),w.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[t,s,l]),w.useEffect(()=>{const g=[{text:".rvr | REVERIE BIOS (C) 2026",delay:500},{text:"System Integrity Check ... 100%",delay:800},{text:"Processor: RVR-Elite 128-Core",delay:1200},{text:"Memory: 128TB Neural Link ... OK",delay:1500},{text:"Security Protocol: VAULT-7 Enforced",delay:1700},{text:"Biometric Scanners ... Active",delay:1900},{text:"Establishing Secure Tunnel ...",delay:2100},{text:"Encryption Key: RSA-4096 VALID",delay:2300},{text:"Mounting Virtual Drive ... REVERIE-MAIN",delay:2800},{text:"Accessing Archive ... RESTRICTED",delay:3300},{text:"Booting REVERIE OS...",delay:4e3},{text:"Initializing High-Fidelity Environment...",delay:5e3},{text:"Awaiting User Authentication...",delay:6e3}];let f=[];n([]);let b=0;g.forEach(C=>{b=C.delay;const P=setTimeout(()=>{n(j=>[...j,C.text])},C.delay);f.push(P)});const k=setTimeout(()=>{r(!0)},b+500);return f.push(k),()=>{f.forEach(clearTimeout)}},[]);const p=g=>{g.preventDefault(),a==="@LTL2026"?(h(!0),c(""),setTimeout(()=>{d(!0),setTimeout(()=>{e()},3500)},1e3)):(c("UNAUTHORIZED ACCESS DETECTED"),o(""),setTimeout(()=>c(""),2e3))};return m?i.jsx("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:"/background_gif/Box2.gif",alt:"REVERIE",className:"w-64 h-64 mb-8 object-contain"}),i.jsx("div",{className:"text-white font-mono tracking-[0.8em] text-xs opacity-70",children:"ENTERING THE BOX"})]})}):i.jsxs("div",{className:"fixed inset-0 z-50 bg-black text-[#d4d4d4] font-mono p-8 overflow-y-auto cursor-text text-lg leading-relaxed select-none",onClick:()=>{var g;return(g=v.current)==null?void 0:g.focus()},children:[i.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col min-h-full",children:[i.jsx("div",{className:"mb-0 text-center opacity-80 border-b border-gray-800/50 pb-6 relative overflow-hidden",children:i.jsxs("div",{className:"flex items-center justify-center gap-6",children:[i.jsx("pre",{className:"text-[6px] sm:text-[8px] md:text-[10px] leading-[6px] sm:leading-[8px] md:leading-[10px] text-accent font-bold whitespace-pre overflow-x-hidden opacity-50 select-none pointer-events-none",children:`
                                                                       
 _|_|_|    _|_|_|_|  _|      _|  _|_|_|_|  _|_|_|    _|_|_|  _|_|_|_|  
 _|    _|  _|        _|      _|  _|        _|    _|    _|    _|        
 _|_|_|    _|_|_|    _|      _|  _|_|_|    _|_|_|      _|    _|_|_|    
 _|    _|  _|          _|  _|    _|        _|    _|    _|    _|        
 _|    _|  _|_|_|_|      _|      _|_|_|_|  _|    _|  _|_|_|  _|_|_|_|  
                                                                       
                                                                       
`}),i.jsx("img",{src:"/background_gif/Box2.gif",alt:"RVR",className:"h-16 w-auto"}),i.jsxs("div",{className:"flex flex-col justify-center text-left",children:[i.jsx("span",{className:"font-bold text-white tracking-[0.2em] text-xl",children:".rvr"}),i.jsx("span",{className:"text-[10px] tracking-widest opacity-60",children:"REVERIE SYSTEM v2.0"})]})]})}),i.jsxs("div",{className:"flex-1",children:[t.map((g,f)=>i.jsx("div",{className:"mb-1 text-shadow-glow font-light tracking-wide",children:g},f)),s&&!u&&i.jsx("form",{onSubmit:p,className:"mt-8",children:i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"text-white uppercase tracking-widest text-xs font-bold mb-2 opacity-80",children:"Authenticate Access Level 5:"}),i.jsxs("div",{className:"flex items-center group relative max-w-md",children:[i.jsx("span",{className:"mr-3 text-accent text-xl",children:""}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("input",{ref:v,type:"password",value:a,onChange:g=>o(g.target.value),className:"bg-transparent border-b border-gray-700 focus:border-white transition-colors outline-none text-white w-full font-mono text-xl py-1 tracking-widest placeholder-gray-800",autoComplete:"off",autoFocus:!0,placeholder:"",style:{caretColor:"transparent",color:"transparent"}}),i.jsxs("span",{className:"absolute left-0 font-mono text-xl tracking-widest pointer-events-none",children:[i.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)"},children:a.replace(/./g,"")}),i.jsx("span",{style:{color:x?"rgba(255, 255, 255, 0.6)":"transparent",textShadow:x?"0 0 4px rgba(255, 255, 255, 0.3)":"none",transition:"all 0.2s ease-in-out"},children:""})]})]})]})]})}),l&&i.jsx("div",{className:"mt-4 text-red-500 font-bold bg-red-900/20 inline-block px-2 py-1 border border-red-500/50 blink",children:l}),u&&i.jsxs("div",{className:"mt-6 text-white font-bold",children:[i.jsx("div",{className:"text-green-400",children:"ACCESS GRANTED"}),i.jsx("div",{className:"mt-2",children:"Welcome to THE BOX."})]}),i.jsx("div",{ref:S})]}),i.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-2 flex justify-between text-xs text-gray-500 uppercase",children:[i.jsx("span",{children:"LTL BIOS v1.0.2"}),i.jsx("span",{children:"Mem: 64328K OK"})]})]}),i.jsx("style",{children:`
                @keyframes blink {
                  0%, 100% { opacity: 1; }
                  50% { opacity: 0; }
                }
                .blink {
                  animation: blink 1s step-end infinite;
                }
                /* Override global font for this component */
                * {
                  font-family: 'Courier New', Courier, monospace !important;
                }
            `})]})}function Gw(){const e=Eo(),{theme:t,toggleTheme:n}=Mi(),[s,r]=w.useState("login"),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,h]=w.useState(""),[m,d]=w.useState(""),[x,y]=w.useState(""),[v,S]=w.useState("artist"),[p,g]=w.useState(""),[f,b]=w.useState(""),[k,C]=w.useState(""),[P,j]=w.useState(""),[E,T]=w.useState(!1),[M,I]=w.useState(!1);async function $(U){U.preventDefault(),C(""),j(""),T(!0);try{const R=await fetch(s==="register"?"/api/auth/register":"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s==="register"?{email:a,password:l,displayName:u,firstName:m,lastName:x,role:v,businessName:v==="studio"?p:null,studioCode:v==="artist"&&f?f:null}:{email:a,password:l}),credentials:"include"}),D=await R.json();if(!R.ok){if(D.needsVerification){o(D.email||a),r("verify");return}C(D.message||"Something went wrong");return}if(D.needsVerification){r("verify"),j(D.message);return}await e.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.reload()}catch{C("Failed to connect. Please try again.")}finally{T(!1)}}async function H(){I(!0),C(""),j("");try{const U=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),te=await U.json();U.ok?j("Verification email sent! Check your inbox."):C(te.message||"Failed to resend email")}catch{C("Failed to resend verification email")}finally{I(!1)}}return s==="verify"?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8",children:i.jsxs("div",{className:"max-w-md w-full text-center",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6"}),i.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider block mb-3 sm:mb-4",children:"BOX"}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"Check Your Email"}),i.jsxs("p",{className:"text-sm sm:text-base text-theme-secondary mb-4 sm:mb-6",children:["We've sent a verification link to ",i.jsx("span",{className:"text-accent break-all",children:a})]}),i.jsx("p",{className:"text-theme-muted text-xs sm:text-sm mb-6 sm:mb-8",children:"Click the link in the email to verify your account. The link expires in 24 hours."}),P&&i.jsx("p",{className:"text-green-400 text-xs sm:text-sm mb-4",children:P}),k&&i.jsx("p",{className:"text-red-400 text-xs sm:text-sm mb-4",children:k}),i.jsx("button",{onClick:H,disabled:M,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-3 sm:py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50 mb-4 text-sm sm:text-base",children:M?"Sending...":"Resend Verification Email"}),i.jsx("button",{onClick:()=>r("login"),className:"text-theme-muted hover:text-theme-primary text-xs sm:text-sm",children:"Back to Sign In"})]})}):i.jsxs("div",{className:"min-h-screen flex bg-theme-primary",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-theme-primary p-12 flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-10 h-10"}),i.jsx("span",{className:"text-2xl brand-font tracking-wider",children:"BOX"})]}),i.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:["Your Creative Work,"," ",i.jsx("span",{className:"text-accent",children:"Protected."})]}),i.jsx("p",{className:"text-theme-secondary text-lg max-w-md",children:"Track projects from concept to publication. Manage metadata, generate agreements, and protect your intellectual property."})]}),i.jsx("div",{className:"text-theme-muted text-sm",children:i.jsx("p",{children:" 2026 BOX by luctheleo.com | REVERIE | RVR Creative Development"})})]}),i.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 sm:gap-3 mb-6 sm:mb-8",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8 sm:w-10 sm:h-10"}),i.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider",children:"BOX"})]}),i.jsxs("button",{onClick:n,className:"absolute top-3 sm:top-4 right-3 sm:right-4 text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]}),i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:s==="login"?"Welcome Back":"Create Account"}),i.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:s==="login"?"Sign in to manage your creative assets":"Join BOX today"})]}),i.jsxs("a",{href:"/api/auth/google",className:"flex items-center justify-center gap-3 w-full bg-white text-black font-bold py-3 px-8 rounded-lg transition-colors hover:bg-gray-100 text-center mb-3",children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),i.jsxs("div",{className:"flex items-center gap-4 my-6",children:[i.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"}),i.jsx("span",{className:"text-theme-muted text-sm",children:"or use email"}),i.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"})]}),i.jsxs("form",{onSubmit:$,className:"space-y-4",children:[s==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-2",children:"I am a..."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{type:"button",onClick:()=>S("artist"),className:`p-3 rounded-lg border-2 transition-colors text-left ${v==="artist"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[i.jsx("p",{className:"font-bold text-sm",children:"Artist"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Individual creator"})]}),i.jsxs("button",{type:"button",onClick:()=>S("studio"),className:`p-3 rounded-lg border-2 transition-colors text-left ${v==="studio"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[i.jsx("p",{className:"font-bold text-sm",children:"Studio"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Manage artists"})]})]})]}),v==="studio"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Business Name *"}),i.jsx("input",{type:"text",value:p,onChange:U=>g(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Your studio or label name",required:!0})]}),v==="artist"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Studio Code (Optional)"}),i.jsx("input",{type:"text",value:f,onChange:U=>b(U.target.value.toUpperCase()),className:"input-field w-full p-3 rounded font-mono",placeholder:"BOX-XXXXXX",maxLength:12}),i.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Have a studio code? Enter it to join their network."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:v==="artist"?"Artist / Stage Name *":"Your Name *"}),i.jsx("input",{type:"text",value:u,onChange:U=>h(U.target.value),className:"input-field w-full p-3 rounded",placeholder:v==="artist"?"Your stage name":"Your name",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"First Name"}),i.jsx("input",{type:"text",value:m,onChange:U=>d(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"John"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Last Name"}),i.jsx("input",{type:"text",value:x,onChange:U=>y(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Doe"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Email"}),i.jsx("input",{type:"email",value:a,onChange:U=>o(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Password"}),i.jsx("input",{type:"password",value:l,onChange:U=>c(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter password",required:!0,minLength:6})]}),k&&i.jsx("p",{className:"text-red-400 text-sm",children:k}),i.jsx("button",{type:"submit",disabled:E,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50",children:E?"Please wait...":s==="login"?"Sign In":"Create Account"})]}),i.jsx("p",{className:"text-center text-theme-muted text-sm mt-6",children:s==="login"?i.jsxs(i.Fragment,{children:["Don't have an account?"," ",i.jsx("button",{onClick:()=>r("register"),className:"text-accent hover:underline",children:"Sign up"})]}):i.jsxs(i.Fragment,{children:["Already have an account?"," ",i.jsx("button",{onClick:()=>r("login"),className:"text-accent hover:underline",children:"Sign in"})]})}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-theme",children:[i.jsx("h3",{className:"text-sm font-bold text-theme-secondary mb-4 text-center",children:"Features"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[i.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[i.jsx("p",{className:"font-bold text-sm mb-1",children:"Project Tracking"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Concept to publication"})]}),i.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[i.jsx("p",{className:"font-bold text-sm mb-1",children:"IP Protection"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Step-by-step guidance"})]}),i.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[i.jsx("p",{className:"font-bold text-sm mb-1",children:"Agreements"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Generate legal docs"})]}),i.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[i.jsx("p",{className:"font-bold text-sm mb-1",children:"Creative Space"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Private inspiration"})]})]})]})]})})]})}const aa=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function Hw({className:e="",alt:t="BOX logo"}){const[n,s]=w.useState(null);return w.useEffect(()=>{if(!aa.length)return;const r=sessionStorage.getItem("bg_logo_last"),a=r?parseInt(r,10):-1;let o=0;if(aa.length===1)o=0;else{const l=aa.map((c,u)=>u).filter(c=>c!==a);o=l[Math.floor(Math.random()*l.length)]}s(o),sessionStorage.setItem("bg_logo_last",String(o))},[]),n===null?i.jsx("img",{src:"/box-logo.png",alt:t,className:e}):i.jsx("img",{src:aa[n],alt:t,className:e})}function Pt({showNav:e=!0}){const{user:t}=an(),{theme:n,toggleTheme:s}=Mi(),[r,a]=w.useState(!1),[o,l]=fg(),[c,u]=w.useState(!1),[h,m]=w.useState(""),[d,x]=w.useState([]),[y,v]=w.useState(!1),S=w.useRef(null),p=[{type:"page",title:"Dashboard",subtitle:"Home",href:"/"},{type:"page",title:"Creative Space",subtitle:"Notes & inspiration",href:"/creative"},{type:"page",title:"Agreements",subtitle:"Generate contracts",href:"/generator"},{type:"page",title:"Submissions",subtitle:"Export for platforms",href:"/submissions"},{type:"page",title:"EPK",subtitle:"Electronic Press Kit",href:"/epk"},{type:"page",title:"Settings",subtitle:"Account settings",href:"/settings"},{type:"page",title:"Documentation",subtitle:"IP & copyright guide (docs)",href:"/docs"},{type:"page",title:"Community",subtitle:"Shared content",href:"/community"}];w.useEffect(()=>{function C(P){S.current&&!S.current.contains(P.target)&&u(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),w.useEffect(()=>{if(!h.trim()){x([]);return}const C=h.toLowerCase(),P=p.filter(T=>{var M,I;return T.title.toLowerCase().includes(C)||((M=T.subtitle)==null?void 0:M.toLowerCase().includes(C))||((I=T.href)==null?void 0:I.toLowerCase().includes(C))});async function j(){v(!0);const T=[...P];try{const[M,I]=await Promise.all([fetch("/api/projects"),fetch("/api/creative/notes")]);M.ok&&((await M.json()).projects||[]).filter(U=>{var te;return U.title.toLowerCase().includes(C)||((te=U.type)==null?void 0:te.toLowerCase().includes(C))}).slice(0,5).forEach(U=>{T.push({type:"project",id:U.id,title:U.title,subtitle:`${U.type} - ${U.status}`,href:`/project/${U.id}`})}),I.ok&&((await I.json()).notes||[]).filter(U=>{var te,K;return((te=U.content)==null?void 0:te.toLowerCase().includes(C))||((K=U.category)==null?void 0:K.toLowerCase().includes(C))}).slice(0,5).forEach(U=>{var te,K;T.push({type:"note",id:U.id,title:((te=U.content)==null?void 0:te.substring(0,50))+(((K=U.content)==null?void 0:K.length)>50?"...":""),subtitle:U.category,href:"/creative"})})}catch(M){console.error("Search error:",M)}x(T.slice(0,10)),v(!1)}const E=setTimeout(j,300);return()=>clearTimeout(E)},[h]);function g(C){u(!1),m(""),l(C.href)}const b=(t==null?void 0:t.role)==="studio"?[{href:"/",label:"Dashboard"},{href:"/studio",label:"Studio"},{href:"/submissions",label:"Submissions"},{href:"/settings",label:"Settings"}]:[{href:"/",label:"Dashboard"},{href:"/creative",label:"Creative"},{href:"/submissions",label:"Submissions"},{href:"/epk",label:"EPK"},{href:"/settings",label:"Settings"}],k=C=>C==="/"?o==="/":o.startsWith(C);return i.jsxs("header",{className:"border-b border-theme p-3 sm:p-4 relative",children:[i.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-2",children:[i.jsx(et,{href:"/",children:i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer",children:[i.jsx(Hw,{className:"w-6 h-6 sm:w-8 sm:h-8"}),i.jsx("span",{className:"text-lg sm:text-xl brand-font tracking-wider text-theme-primary",children:"BOX"})]})}),e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{ref:S,className:"relative hidden sm:block flex-1 max-w-xs mx-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search projects, notes, docs...",value:h,onChange:C=>m(C.target.value),onFocus:()=>u(!0),className:"w-full input-field px-3 py-1.5 rounded text-sm pl-8"}),i.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c&&!h&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 p-3",children:[i.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Try searching for:"}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsx("button",{onClick:()=>m("docs"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"docs" - Documentation & guides'}),i.jsx("button",{onClick:()=>m("agreements"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"agreements" - Generate contracts'}),i.jsx("button",{onClick:()=>m("community"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"community" - Shared content'})]}),i.jsx("p",{className:"text-xs text-theme-muted mt-3 pt-2 border-t border-theme",children:"Also searches your projects and notes"})]}),c&&h&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[y&&i.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"Searching..."}),!y&&d.length===0&&h&&i.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"No results found"}),!y&&d.map((C,P)=>i.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-3 py-2 hover:bg-theme-tertiary transition-colors flex items-center gap-3",children:[i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${C.type==="project"?"bg-accent text-accent-contrast":C.type==="note"?"bg-theme-tertiary text-theme-muted":"bg-theme-primary text-theme-secondary"}`,children:C.type==="project"?"PRJ":C.type==="note"?"NOTE":"PAGE"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm text-theme-primary truncate",children:C.title}),C.subtitle&&i.jsx("div",{className:"text-xs text-theme-muted truncate",children:C.subtitle})]})]},`${C.type}-${C.id||P}`))]})]}),i.jsx("nav",{className:"hidden md:flex items-center gap-6",children:b.map(C=>i.jsx(et,{href:C.href,children:i.jsx("span",{className:`text-sm cursor-pointer transition-colors ${k(C.href)?"text-theme-primary font-bold":"text-theme-muted hover:text-theme-primary"}`,children:C.label})},C.href))}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:s,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",title:"Toggle theme",children:["[",n,"]"]}),i.jsx("a",{href:"/api/logout",className:"hidden sm:inline text-theme-muted hover:text-theme-primary text-xs",children:"Logout"}),i.jsx("button",{onClick:()=>a(!r),className:"md:hidden p-1 text-theme-primary","aria-label":"Toggle menu",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),r&&e&&i.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-theme-secondary border-b border-theme z-50",children:i.jsxs("nav",{className:"flex flex-col p-4 space-y-3",children:[b.map(C=>i.jsx(et,{href:C.href,children:i.jsx("span",{onClick:()=>a(!1),className:`block text-sm cursor-pointer py-2 px-3 rounded ${k(C.href)?"bg-theme-tertiary text-theme-primary font-bold":"text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary"}`,children:C.label})},C.href)),i.jsxs("div",{className:"border-t border-theme pt-3 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[(t==null?void 0:t.profileImageUrl)&&i.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-6 h-6 rounded-full"}),i.jsx("span",{className:"text-sm text-theme-secondary",children:(t==null?void 0:t.firstName)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),i.jsx("a",{href:"/api/logout",className:"block text-sm text-red-400 hover:text-red-300 px-3 py-2",onClick:()=>a(!1),children:"Logout"})]})]})})]})}function Qw(){var v,S;an();const[e,t]=w.useState([]),[n,s]=w.useState(!0),[r,a]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState("all");w.useEffect(()=>{h()},[]);async function h(){try{const p=await fetch("/api/projects");if(p.ok){const g=await p.json();t(g.projects||[])}}catch(p){console.error("Failed to load projects:",p)}finally{s(!1)}}async function m(p){p.preventDefault();const g=p.currentTarget,f=new FormData(g),b={title:f.get("title"),type:f.get("type"),status:f.get("status"),description:f.get("description"),metadata:{isrc:f.get("isrc")||null,upc:f.get("upc")||null,copyright:f.get("copyright")||null,release_date:f.get("release_date")||null}},k=o?`/api/projects/${o.id}`:"/api/projects",C=o?"PUT":"POST";try{(await fetch(k,{method:C,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok&&(a(!1),l(null),h())}catch(P){console.error("Failed to save project:",P)}}async function d(p){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`/api/projects/${p}`,{method:"DELETE"})).ok&&h()}catch(g){console.error("Failed to delete project:",g)}}const x=c==="all"?e:e.filter(p=>p.status===c),y={total:e.length,concept:e.filter(p=>p.status==="concept").length,development:e.filter(p=>p.status==="development").length,published:e.filter(p=>p.status==="published").length};return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Projects"}),i.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Track your creative work from concept to publication"})]}),i.jsx("button",{onClick:()=>{l(null),a(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Project"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-accent",children:y.total}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Total"})]}),i.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-theme-secondary",children:y.concept}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Concept"})]}),i.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:y.development}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Development"})]}),i.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:y.published}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Published"})]})]}),i.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:["all","concept","development","review","published"].map(p=>i.jsx("button",{onClick:()=>u(p),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${c===p?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),n?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):x.length===0?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No projects yet. Create your first one!"}):i.jsx("div",{className:"space-y-2 sm:space-y-3",children:x.map(p=>i.jsx("div",{className:"card p-3 sm:p-4 rounded-xl hover:border-theme cursor-pointer",onClick:()=>{l(p),a(!0)},children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[i.jsx("span",{className:`status-${p.status} px-2 py-1 rounded text-xs uppercase`,children:p.status}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm sm:text-base",children:p.title}),i.jsx("p",{className:"text-xs text-theme-muted",children:p.type}),i.jsxs("p",{className:"text-xs text-theme-accent font-mono",children:[" ",p.rootFolder,"/",p.folderPath.split("/")[1]]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[i.jsx(et,{href:`/project/${p.id}`,onClick:g=>g.stopPropagation(),className:"text-theme-muted hover:text-accent text-xs sm:text-sm",children:"Details"}),i.jsx("button",{onClick:g=>{g.stopPropagation(),d(p.id)},className:"text-theme-muted hover:text-red-400 text-xs sm:text-sm",children:"Delete"})]})]})},p.id))})]}),r&&i.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:i.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-accent",children:o?"Edit Project":"New Project"}),i.jsx("button",{onClick:()=>a(!1),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Title *"}),i.jsx("input",{name:"title",defaultValue:o==null?void 0:o.title,required:!0,className:"input-field w-full p-2 rounded"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Type"}),i.jsxs("select",{name:"type",defaultValue:(o==null?void 0:o.type)||"single",className:"input-field w-full p-2 rounded",children:[i.jsx("option",{value:"single",children:"Single"}),i.jsx("option",{value:"ep",children:"EP"}),i.jsx("option",{value:"album",children:"Album"}),i.jsx("option",{value:"beat",children:"Beat"}),i.jsx("option",{value:"sample",children:"Sample Pack"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Status"}),i.jsxs("select",{name:"status",defaultValue:(o==null?void 0:o.status)||"concept",className:"input-field w-full p-2 rounded",children:[i.jsx("option",{value:"concept",children:"Concept"}),i.jsx("option",{value:"development",children:"Development"}),i.jsx("option",{value:"review",children:"Review"}),i.jsx("option",{value:"published",children:"Published"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Description"}),i.jsx("textarea",{name:"description",defaultValue:(o==null?void 0:o.description)||"",rows:3,className:"input-field w-full p-2 rounded"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"ISRC"}),i.jsx("input",{name:"isrc",defaultValue:((v=o==null?void 0:o.metadata)==null?void 0:v.isrc)||"",className:"input-field w-full p-2 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"UPC"}),i.jsx("input",{name:"upc",defaultValue:((S=o==null?void 0:o.metadata)==null?void 0:S.upc)||"",className:"input-field w-full p-2 rounded"})]})]}),i.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:o?"Save Changes":"Create Project"})]})]})})]})}function Xw(e={}){const[t,n]=w.useState(!1),[s,r]=w.useState(null),[a,o]=w.useState(0),l=w.useCallback(async m=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!d.ok){const x=await d.json().catch(()=>({}));throw new Error(x.error||"Failed to get upload URL")}return d.json()},[]),c=w.useCallback(async(m,d)=>{if(!(await fetch(d,{method:"PUT",body:m,headers:{"Content-Type":m.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),u=w.useCallback(async m=>{var d,x;n(!0),r(null),o(0);try{o(10);const y=await l(m);return o(30),await c(m,y.uploadURL),o(100),(d=e.onSuccess)==null||d.call(e,y),y}catch(y){const v=y instanceof Error?y:new Error("Upload failed");return r(v),(x=e.onError)==null||x.call(e,v),null}finally{n(!1)}},[l,c,e]),h=w.useCallback(async m=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.name,size:m.size,contentType:m.type||"application/octet-stream"})});if(!d.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await d.json()).uploadURL,headers:{"Content-Type":m.type||"application/octet-stream"}}},[]);return{uploadFile:u,getUploadParameters:h,isUploading:t,error:s,progress:a}}const gg=w.createContext({});function Yw(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const yg=typeof window<"u",qw=yg?w.useLayoutEffect:w.useEffect,rd=w.createContext(null);function id(e,t){e.indexOf(t)===-1&&e.push(t)}function so(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ft=(e,t,n)=>n>t?t:n<e?e:n;let ad=()=>{};const sn={},vg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jg(e){return typeof e=="object"&&e!==null}const wg=e=>/^0[^.\s]+$/u.test(e);function od(e){let t;return()=>(t===void 0&&(t=e()),t)}const dt=e=>e,Zw=(e,t)=>n=>t(e(n)),Oi=(...e)=>e.reduce(Zw),yi=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class ld{constructor(){this.subscriptions=[]}add(t){return id(this.subscriptions,t),()=>so(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kt=e=>e*1e3,ct=e=>e/1e3;function bg(e,t){return t?e*(1e3/t):0}const Ng=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Jw=1e-7,eb=12;function tb(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=Ng(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>Jw&&++l<eb);return o}function Li(e,t,n,s){if(e===t&&n===s)return dt;const r=a=>tb(a,0,1,e,n);return a=>a===0||a===1?a:Ng(r(a),t,s)}const Sg=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kg=e=>t=>1-e(1-t),Cg=Li(.33,1.53,.69,.99),cd=kg(Cg),Pg=Sg(cd),Eg=e=>(e*=2)<1?.5*cd(e):.5*(2-Math.pow(2,-10*(e-1))),ud=e=>1-Math.sin(Math.acos(e)),Tg=kg(ud),Rg=Sg(ud),nb=Li(.42,0,1,1),sb=Li(0,0,.58,1),Ag=Li(.42,0,.58,1),rb=e=>Array.isArray(e)&&typeof e[0]!="number",Dg=e=>Array.isArray(e)&&typeof e[0]=="number",ib={linear:dt,easeIn:nb,easeInOut:Ag,easeOut:sb,circIn:ud,circInOut:Rg,circOut:Tg,backIn:cd,backInOut:Pg,backOut:Cg,anticipate:Eg},ab=e=>typeof e=="string",om=e=>{if(Dg(e)){ad(e.length===4);const[t,n,s,r]=e;return Li(t,n,s,r)}else if(ab(e))return ib[e];return e},oa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ob(e,t){let n=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(u.schedule(h),e()),h(l)}const u={schedule:(h,m=!1,d=!1)=>{const y=d&&r?n:s;return m&&o.add(h),y.has(h)||y.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(l=h,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,u.process(h))}};return u}const lb=40;function Mg(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=oa.reduce((f,b)=>(f[b]=ob(a),f),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:h,update:m,preRender:d,render:x,postRender:y}=o,v=()=>{const f=sn.useManualTiming?r.timestamp:performance.now();n=!1,sn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(f-r.timestamp,lb),1)),r.timestamp=f,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),h.process(r),m.process(r),d.process(r),x.process(r),y.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(v))},S=()=>{n=!0,s=!0,r.isProcessing||e(v)};return{schedule:oa.reduce((f,b)=>{const k=o[b];return f[b]=(C,P=!1,j=!1)=>(n||S(),k.schedule(C,P,j)),f},{}),cancel:f=>{for(let b=0;b<oa.length;b++)o[oa[b]].cancel(f)},state:r,steps:o}}const{schedule:ee,cancel:Fn,state:ke,steps:ll}=Mg(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0);let ka;function cb(){ka=void 0}const Fe={now:()=>(ka===void 0&&Fe.set(ke.isProcessing||sn.useManualTiming?ke.timestamp:performance.now()),ka),set:e=>{ka=e,queueMicrotask(cb)}},_g=e=>t=>typeof t=="string"&&t.startsWith(e),Og=_g("--"),ub=_g("var(--"),dd=e=>ub(e)?db.test(e.split("/*")[0].trim()):!1,db=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lm(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const wr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vi={...wr,transform:e=>Ft(0,1,e)},la={...wr,default:1},Yr=e=>Math.round(e*1e5)/1e5,hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hb(e){return e==null}const mb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,md=(e,t)=>n=>!!(typeof n=="string"&&mb.test(n)&&n.startsWith(e)||t&&!hb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Lg=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(hd);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fb=e=>Ft(0,255,e),cl={...wr,transform:e=>Math.round(fb(e))},Jn={test:md("rgb","red"),parse:Lg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+cl.transform(e)+", "+cl.transform(t)+", "+cl.transform(n)+", "+Yr(vi.transform(s))+")"};function pb(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const _c={test:md("#"),parse:pb,transform:Jn.transform},Ii=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cn=Ii("deg"),It=Ii("%"),V=Ii("px"),xb=Ii("vh"),gb=Ii("vw"),cm={...It,parse:e=>It.parse(e)/100,transform:e=>It.transform(e*100)},Fs={test:md("hsl","hue"),parse:Lg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+It.transform(Yr(t))+", "+It.transform(Yr(n))+", "+Yr(vi.transform(s))+")"},pe={test:e=>Jn.test(e)||_c.test(e)||Fs.test(e),parse:e=>Jn.test(e)?Jn.parse(e):Fs.test(e)?Fs.parse(e):_c.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jn.transform(e):Fs.transform(e),getAnimatableNone:e=>{const t=pe.parse(e);return t.alpha=0,pe.transform(t)}},yb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vb(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hd))==null?void 0:t.length)||0)+(((n=e.match(yb))==null?void 0:n.length)||0)>0}const Ig="number",Fg="color",jb="var",wb="var(",um="${}",bb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ji(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(bb,c=>(pe.test(c)?(s.color.push(a),r.push(Fg),n.push(pe.parse(c))):c.startsWith(wb)?(s.var.push(a),r.push(jb),n.push(c)):(s.number.push(a),r.push(Ig),n.push(parseFloat(c))),++a,um)).split(um);return{values:n,split:l,indexes:s,types:r}}function Vg(e){return ji(e).values}function Ug(e){const{split:t,types:n}=ji(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===Ig?a+=Yr(r[o]):l===Fg?a+=pe.transform(r[o]):a+=r[o]}return a}}const Nb=e=>typeof e=="number"?0:pe.test(e)?pe.getAnimatableNone(e):e;function Sb(e){const t=Vg(e);return Ug(e)(t.map(Nb))}const Vn={test:vb,parse:Vg,createTransformer:Ug,getAnimatableNone:Sb};function ul(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kb({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=ul(c,l,e+1/3),a=ul(c,l,e),o=ul(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function ro(e,t){return n=>n>0?t:e}const oe=(e,t,n)=>e+(t-e)*n,dl=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},Cb=[_c,Jn,Fs],Pb=e=>Cb.find(t=>t.test(e));function dm(e){const t=Pb(e);if(!t)return!1;let n=t.parse(e);return t===Fs&&(n=kb(n)),n}const hm=(e,t)=>{const n=dm(e),s=dm(t);if(!n||!s)return ro(e,t);const r={...n};return a=>(r.red=dl(n.red,s.red,a),r.green=dl(n.green,s.green,a),r.blue=dl(n.blue,s.blue,a),r.alpha=oe(n.alpha,s.alpha,a),Jn.transform(r))},Oc=new Set(["none","hidden"]);function Eb(e,t){return Oc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Tb(e,t){return n=>oe(e,t,n)}function fd(e){return typeof e=="number"?Tb:typeof e=="string"?dd(e)?ro:pe.test(e)?hm:Db:Array.isArray(e)?Bg:typeof e=="object"?pe.test(e)?hm:Rb:ro}function Bg(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>fd(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function Rb(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=fd(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function Ab(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][s[a]],l=e.values[o]??0;n[r]=l,s[a]++}return n}const Db=(e,t)=>{const n=Vn.createTransformer(t),s=ji(e),r=ji(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Oc.has(e)&&!r.values.length||Oc.has(t)&&!s.values.length?Eb(e,t):Oi(Bg(Ab(s,r),r.values),n):ro(e,t)};function zg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):fd(e)(e,t)}const Mb=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ee.update(t,n),stop:()=>Fn(t),now:()=>ke.isProcessing?ke.timestamp:Fe.now()}},$g=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},io=2e4;function pd(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<io;)t+=n,s=e.next(t);return t>=io?1/0:t}function _b(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(pd(s),io);return{type:"keyframes",ease:a=>s.next(r*a).value/t,duration:ct(r)}}const Ob=5;function Wg(e,t,n){const s=Math.max(t-Ob,0);return bg(n-e(s),t-s)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hl=.001;function Lb({duration:e=he.duration,bounce:t=he.bounce,velocity:n=he.velocity,mass:s=he.mass}){let r,a,o=1-t;o=Ft(he.minDamping,he.maxDamping,o),e=Ft(he.minDuration,he.maxDuration,ct(e)),o<1?(r=u=>{const h=u*o,m=h*e,d=h-n,x=Lc(u,o),y=Math.exp(-m);return hl-d/x*y},a=u=>{const m=u*o*e,d=m*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-m),v=Lc(Math.pow(u,2),o);return(-r(u)+hl>0?-1:1)*((d-x)*y)/v}):(r=u=>{const h=Math.exp(-u*e),m=(u-n)*e+1;return-hl+h*m},a=u=>{const h=Math.exp(-u*e),m=(n-u)*(e*e);return h*m});const l=5/e,c=Fb(r,a,l);if(e=kt(e),isNaN(c))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const Ib=12;function Fb(e,t,n){let s=n;for(let r=1;r<Ib;r++)s=s-e(s)/t(s);return s}function Lc(e,t){return e*Math.sqrt(1-t*t)}const Vb=["duration","bounce"],Ub=["stiffness","damping","mass"];function mm(e,t){return t.some(n=>e[n]!==void 0)}function Bb(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!mm(e,Ub)&&mm(e,Vb))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*Ft(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:he.mass,stiffness:r,damping:a}}else{const n=Lb(e);t={...t,...n,mass:he.mass},t.isResolvedFromDuration=!0}return t}function ao(e=he.visualDuration,t=he.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:h,duration:m,velocity:d,isResolvedFromDuration:x}=Bb({...n,velocity:-ct(n.velocity||0)}),y=d||0,v=u/(2*Math.sqrt(c*h)),S=o-a,p=ct(Math.sqrt(c/h)),g=Math.abs(S)<5;s||(s=g?he.restSpeed.granular:he.restSpeed.default),r||(r=g?he.restDelta.granular:he.restDelta.default);let f;if(v<1){const k=Lc(p,v);f=C=>{const P=Math.exp(-v*p*C);return o-P*((y+v*p*S)/k*Math.sin(k*C)+S*Math.cos(k*C))}}else if(v===1)f=k=>o-Math.exp(-p*k)*(S+(y+p*S)*k);else{const k=p*Math.sqrt(v*v-1);f=C=>{const P=Math.exp(-v*p*C),j=Math.min(k*C,300);return o-P*((y+v*p*S)*Math.sinh(j)+k*S*Math.cosh(j))/k}}const b={calculatedDuration:x&&m||null,next:k=>{const C=f(k);if(x)l.done=k>=m;else{let P=k===0?y:0;v<1&&(P=k===0?kt(y):Wg(f,k,C));const j=Math.abs(P)<=s,E=Math.abs(o-C)<=r;l.done=j&&E}return l.value=l.done?o:C,l},toString:()=>{const k=Math.min(pd(b),io),C=$g(P=>b.next(k*P).value,k,30);return k+"ms "+C},toTransition:()=>{}};return b}ao.applyToOptions=e=>{const t=_b(e,100,ao);return e.ease=t.ease,e.duration=kt(t.duration),e.type="keyframes",e};function Ic({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const m=e[0],d={done:!1,value:m},x=j=>l!==void 0&&j<l||c!==void 0&&j>c,y=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let v=n*t;const S=m+v,p=o===void 0?S:o(S);p!==S&&(v=p-m);const g=j=>-v*Math.exp(-j/s),f=j=>p+g(j),b=j=>{const E=g(j),T=f(j);d.done=Math.abs(E)<=u,d.value=d.done?p:T};let k,C;const P=j=>{x(d.value)&&(k=j,C=ao({keyframes:[d.value,y(d.value)],velocity:Wg(f,j,d.value),damping:r,stiffness:a,restDelta:u,restSpeed:h}))};return P(0),{calculatedDuration:null,next:j=>{let E=!1;return!C&&k===void 0&&(E=!0,b(j),P(j)),k!==void 0&&j>=k?C.next(j-k):(!E&&b(j),d)}}}function zb(e,t,n){const s=[],r=n||sn.mix||zg,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||dt:t;l=Oi(c,l)}s.push(l)}return s}function $b(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(ad(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zb(t,s,r),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const d=yi(e[m],e[m+1],h);return l[m](d)};return n?h=>u(Ft(e[0],e[a-1],h)):u}function Wb(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=yi(0,t,s);e.push(oe(n,1,r))}}function Kb(e){const t=[0];return Wb(t,e.length-1),t}function Gb(e,t){return e.map(n=>n*t)}function Hb(e,t){return e.map(()=>t||Ag).splice(0,e.length-1)}function qr({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=rb(s)?s.map(om):om(s),a={done:!1,value:t[0]},o=Gb(n&&n.length===t.length?n:Kb(t),e),l=$b(o,t,{ease:Array.isArray(r)?r:Hb(t,r)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Qb=e=>e!==null;function xd(e,{repeat:t,repeatType:n="loop"},s,r=1){const a=e.filter(Qb),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const Xb={decay:Ic,inertia:Ic,tween:qr,keyframes:qr,spring:ao};function Kg(e){typeof e.type=="string"&&(e.type=Xb[e.type])}class gd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Yb=e=>e/100;class yd extends gd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kg(t);const{type:n=qr,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=n||qr;c!==qr&&typeof l[0]!="number"&&(this.mixKeyframes=Oi(Yb,zg(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pd(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:d,repeatDelay:x,type:y,onUpdate:v,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let f=this.currentTime,b=s;if(m){const j=Math.min(this.currentTime,r)/l;let E=Math.floor(j),T=j%1;!T&&j>=1&&(T=1),T===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(d==="reverse"?(T=1-T,x&&(T-=x/l)):d==="mirror"&&(b=o)),f=Ft(0,1,T)*l}const k=g?{done:!1,value:h[0]}:b.next(f);a&&(k.value=a(k.value));let{done:C}=k;!g&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&y!==Ic&&(k.value=xd(h,this.options,S,this.speed)),v&&v(k.value),P&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return ct(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ct(t)}get time(){return ct(this.currentTime)}set time(t){var n;t=kt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ct(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=Mb,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function qb(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const es=e=>e*180/Math.PI,Fc=e=>{const t=es(Math.atan2(e[1],e[0]));return Vc(t)},Zb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fc,rotateZ:Fc,skewX:e=>es(Math.atan(e[1])),skewY:e=>es(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vc=e=>(e=e%360,e<0&&(e+=360),e),fm=Fc,pm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pm,scaleY:xm,scale:e=>(pm(e)+xm(e))/2,rotateX:e=>Vc(es(Math.atan2(e[6],e[5]))),rotateY:e=>Vc(es(Math.atan2(-e[2],e[0]))),rotateZ:fm,rotate:fm,skewX:e=>es(Math.atan(e[4])),skewY:e=>es(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uc(e){return e.includes("scale")?1:0}function Bc(e,t){if(!e||e==="none")return Uc(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=Jb,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Zb,r=l}if(!r)return Uc(t);const a=s[t],o=r[1].split(",").map(tN);return typeof a=="function"?a(o):o[a]}const eN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bc(n,t)};function tN(e){return parseFloat(e.trim())}const br=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nr=new Set(br),gm=e=>e===wr||e===V,nN=new Set(["x","y","z"]),sN=br.filter(e=>!nN.has(e));function rN(e){const t=[];return sN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Cn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bc(t,"x"),y:(e,{transform:t})=>Bc(t,"y")};Cn.translateX=Cn.x;Cn.translateY=Cn.y;const hs=new Set;let zc=!1,$c=!1,Wc=!1;function Gg(){if($c){const e=Array.from(hs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=rN(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}$c=!1,zc=!1,hs.forEach(e=>e.complete(Wc)),hs.clear()}function Hg(){hs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($c=!0)})}function iN(){Wc=!0,Hg(),Gg(),Wc=!1}class vd{constructor(t,n,s,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),zc||(zc=!0,ee.read(Hg),ee.resolveKeyframes(Gg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}qb(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aN=e=>e.startsWith("--");function oN(e,t,n){aN(t)?e.style.setProperty(t,n):e.style[t]=n}const lN=od(()=>window.ScrollTimeline!==void 0),cN={};function uN(e,t){const n=od(e);return()=>cN[t]??n()}const Qg=uN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ur=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,ym={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ur([0,.65,.55,1]),circOut:Ur([.55,0,1,.45]),backIn:Ur([.31,.01,.66,-.59]),backOut:Ur([.33,1.53,.69,.99])};function Xg(e,t){if(e)return typeof e=="function"?Qg()?$g(e,t):"ease-out":Dg(e)?Ur(e):Array.isArray(e)?e.map(n=>Xg(n,t)||ym.easeOut):ym[e]}function dN(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const h={[t]:n};c&&(h.offset=c);const m=Xg(l,r);Array.isArray(m)&&(h.easing=m);const d={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),e.animate(h,d)}function Yg(e){return typeof e=="function"&&"applyToOptions"in e}function hN({type:e,...t}){return Yg(e)&&Qg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qg extends gd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,ad(typeof t.type!="string");const u=hN(t);this.animation=dN(n,s,r,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=xd(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):oN(n,s,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,r;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((r=(s=this.animation).commitStyles)==null||r.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return ct(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ct(t)}get time(){return ct(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=kt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lN()?(this.animation.timeline=t,dt):n(this)}}const Zg={anticipate:Eg,backInOut:Pg,circInOut:Rg};function mN(e){return e in Zg}function fN(e){typeof e.ease=="string"&&mN(e.ease)&&(e.ease=Zg[e.ease])}const ml=10;class pN extends qg{constructor(t){fN(t),Kg(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new yd({...o,autoplay:!1}),c=Math.max(ml,Fe.now()-this.startTime),u=Ft(0,ml,c-ml);n.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const vm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vn.test(e)||e==="0")&&!e.startsWith("url("));function xN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function gN(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=vm(r,t),l=vm(a,t);return!o||!l?!1:xN(e)||(n==="spring"||Yg(n))&&s}function Kc(e){e.duration=0,e.type="keyframes"}const yN=new Set(["opacity","clipPath","filter","transform"]),vN=od(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jN(e){var h;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return vN()&&n&&yN.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}const wN=40;class bN extends gd{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:h,...m}){var y;super(),this.stop=()=>{var v,S;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fe.now();const d={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,name:c,motionValue:u,element:h,...m},x=(h==null?void 0:h.KeyframeResolver)||vd;this.keyframeResolver=new x(l,(v,S,p)=>this.onKeyframesResolved(v,S,d,!p),c,u,h),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,s,r){var S,p;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Fe.now(),gN(t,a,o,l)||((sn.instantAnimations||!c)&&(h==null||h(xd(t,s,n))),t[0]=t[t.length-1],Kc(s),s.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>wN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!u&&jN(d),y=(p=(S=d.motionValue)==null?void 0:S.owner)==null?void 0:p.current,v=x?new pN({...d,element:y}):new yd(d);v.finished.then(()=>{this.notifyFinished()}).catch(dt),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),iN()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Jg(e,t,n,s=0,r=1){const a=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):r===1?a*s:l-a*s}const NN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SN(e){const t=NN.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function ey(e,t,n=1){const[s,r]=SN(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return vg(o)?parseFloat(o):o}return dd(r)?ey(r,t,n+1):r}const kN={type:"spring",stiffness:500,damping:25,restSpeed:10},CN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TN=(e,{keyframes:t})=>t.length>2?PN:Nr.has(e)?e.startsWith("scale")?CN(t[1]):kN:EN,RN=e=>e!==null;function AN(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(RN),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}function ty(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function jd(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?ty(n,e):n}function DN({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const wd=(e,t,n,s={},r,a)=>o=>{const l=jd(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-kt(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:d=>{t.set(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};DN(l)||Object.assign(h,TN(e,h)),h.duration&&(h.duration=kt(h.duration)),h.repeatDelay&&(h.repeatDelay=kt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Kc(h),h.delay===0&&(m=!0)),(sn.instantAnimations||sn.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(m=!0,Kc(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const d=AN(h.keyframes,l);if(d!==void 0){ee.update(()=>{h.onUpdate(d),h.onComplete()});return}}return l.isSync?new yd(h):new bN(h)};function jm(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function bd(e,t,n,s){if(typeof t=="function"){const[r,a]=jm(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=jm(s);t=t(n!==void 0?n:e.custom,r,a)}return t}function Xs(e,t,n){const s=e.getProps();return bd(s,t,n!==void 0?n:s.custom,e)}const ny=new Set(["width","height","top","left","right","bottom",...br]),wm=30,MN=e=>!isNaN(parseFloat(e));class _N{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const r=Fe.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=MN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ld);const s=this.events[t].add(n);return t==="change"?()=>{s(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>wm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wm);return bg(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(e,t){return new _N(e,t)}const Gc=e=>Array.isArray(e);function ON(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xr(n))}function LN(e){return Gc(e)?e[e.length-1]||0:e}function IN(e,t){const n=Xs(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=LN(a[o]);ON(e,o,l)}}const De=e=>!!(e&&e.getVelocity);function FN(e){return!!(De(e)&&e.add)}function Hc(e,t){const n=e.getValue("willChange");if(FN(n))return n.add(t);if(!n&&sn.WillChange){const s=new sn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function Nd(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const VN="framerAppearId",sy="data-"+Nd(VN);function ry(e){return e.props[sy]}function UN({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function iy(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a,transitionEnd:o,...l}=t;const c=e.getDefaultTransition();a=a?ty(a,c):c;const u=a==null?void 0:a.reduceMotion;s&&(a=s);const h=[],m=r&&e.animationState&&e.animationState.getState()[r];for(const d in l){const x=e.getValue(d,e.latestValues[d]??null),y=l[d];if(y===void 0||m&&UN(m,d))continue;const v={delay:n,...jd(a||{},d)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===S&&!v.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const b=ry(e);if(b){const k=window.MotionHandoffAnimation(b,d,ee);k!==null&&(v.startTime=k,p=!0)}}Hc(e,d);const g=u??e.shouldReduceMotion;x.start(wd(d,x,y,g&&ny.has(d)?{type:!1}:v,e,p));const f=x.animation;f&&h.push(f)}if(o){const d=()=>ee.update(()=>{o&&IN(e,o)});h.length?Promise.all(h).then(d):d()}return h}function Qc(e,t,n={}){var c;const s=Xs(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(iy(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:d}=r;return BN(e,t,u,h,m,d,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,h]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function BN(e,t,n=0,s=0,r=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Qc(c,t,{...o,delay:n+(typeof s=="function"?0:s)+Jg(e.variantChildren,c,s,r,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function zN(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>Qc(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=Qc(e,t,n);else{const r=typeof t=="function"?Xs(e,t,n.custom):t;s=Promise.all(iy(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const $N={test:e=>e==="auto",parse:e=>e},ay=e=>t=>t.test(e),oy=[wr,V,It,cn,gb,xb,$N],bm=e=>oy.find(ay(e));function WN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||wg(e):!0}const KN=new Set(["brightness","contrast","saturate","opacity"]);function GN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(hd)||[];if(!s)return e;const r=n.replace(s,"");let a=KN.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const HN=/\b([a-z-]*)\(.*?\)/gu,Xc={...Vn,getAnimatableNone:e=>{const t=e.match(HN);return t?t.map(GN).join(" "):e}},Nm={...wr,transform:Math.round},QN={rotate:cn,rotateX:cn,rotateY:cn,rotateZ:cn,scale:la,scaleX:la,scaleY:la,scaleZ:la,skew:cn,skewX:cn,skewY:cn,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:vi,originX:cm,originY:cm,originZ:V},Sd={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,top:V,right:V,bottom:V,left:V,inset:V,insetBlock:V,insetBlockStart:V,insetBlockEnd:V,insetInline:V,insetInlineStart:V,insetInlineEnd:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,paddingBlock:V,paddingBlockStart:V,paddingBlockEnd:V,paddingInline:V,paddingInlineStart:V,paddingInlineEnd:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,marginBlock:V,marginBlockStart:V,marginBlockEnd:V,marginInline:V,marginInlineStart:V,marginInlineEnd:V,fontSize:V,backgroundPositionX:V,backgroundPositionY:V,...QN,zIndex:Nm,fillOpacity:vi,strokeOpacity:vi,numOctaves:Nm},XN={...Sd,color:pe,backgroundColor:pe,outlineColor:pe,fill:pe,stroke:pe,borderColor:pe,borderTopColor:pe,borderRightColor:pe,borderBottomColor:pe,borderLeftColor:pe,filter:Xc,WebkitFilter:Xc},ly=e=>XN[e];function cy(e,t){let n=ly(e);return n!==Xc&&(n=Vn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YN=new Set(["auto","none","0"]);function qN(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!YN.has(a)&&ji(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=cy(n,r)}class ZN extends vd{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),dd(m))){const d=ey(m,n.current);d!==void 0&&(t[h]=d),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!ny.has(s)||t.length!==2)return;const[r,a]=t,o=bm(r),l=bm(a),c=lm(r),u=lm(a);if(c!==u&&Cn[s]){this.needsMeasurement=!0;return}if(o!==l)if(gm(o)&&gm(l))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else Cn[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||WN(t[r]))&&s.push(r);s.length&&qN(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Cn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const JN=new Set(["opacity","clipPath","filter","transform"]);function uy(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(s=>s!=null)}const dy=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function eS(e){return jg(e)&&"offsetHeight"in e}const{schedule:kd}=Mg(queueMicrotask,!1),gt={x:!1,y:!1};function hy(){return gt.x||gt.y}function tS(e){return e==="x"||e==="y"?gt[e]?null:(gt[e]=!0,()=>{gt[e]=!1}):gt.x||gt.y?null:(gt.x=gt.y=!0,()=>{gt.x=gt.y=!1})}function my(e,t){const n=uy(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function nS(e){return!(e.pointerType==="touch"||hy())}function sS(e,t,n={}){const[s,r,a]=my(e,n);return s.forEach(o=>{let l=!1,c=!1,u;const h=()=>{o.removeEventListener("pointerleave",y)},m=S=>{u&&(u(S),u=void 0),h()},d=S=>{l=!1,window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d),c&&(c=!1,m(S))},x=()=>{l=!0,window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",d,r)},y=S=>{if(S.pointerType!=="touch"){if(l){c=!0;return}m(S)}},v=S=>{if(!nS(S))return;c=!1;const p=t(o,S);typeof p=="function"&&(u=p,o.addEventListener("pointerleave",y,r))};o.addEventListener("pointerenter",v,r),o.addEventListener("pointerdown",x,r)}),a}const fy=(e,t)=>t?e===t?!0:fy(e,t.parentElement):!1,Cd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iS(e){return rS.has(e.tagName)||e.isContentEditable===!0}const aS=new Set(["INPUT","SELECT","TEXTAREA"]);function oS(e){return aS.has(e.tagName)||e.isContentEditable===!0}const Ca=new WeakSet;function Sm(e){return t=>{t.key==="Enter"&&e(t)}}function fl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lS=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Sm(()=>{if(Ca.has(n))return;fl(n,"down");const r=Sm(()=>{fl(n,"up")}),a=()=>fl(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function km(e){return Cd(e)&&!hy()}const Cm=new WeakSet;function cS(e,t,n={}){const[s,r,a]=my(e,n),o=l=>{const c=l.currentTarget;if(!km(l)||Cm.has(l))return;Ca.add(c),n.stopPropagation&&Cm.add(l);const u=t(c,l),h=(x,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",d),Ca.has(c)&&Ca.delete(c),km(x)&&typeof u=="function"&&u(x,{success:y})},m=x=>{h(x,c===window||c===document||n.useGlobalTarget||fy(c,x.target))},d=x=>{h(x,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",d,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),eS(l)&&(l.addEventListener("focus",u=>lS(u,r)),!iS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Pd(e){return jg(e)&&"ownerSVGElement"in e}const Pa=new WeakMap;let un;const py=(e,t,n)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:Pd(s)&&"getBBox"in s?s.getBBox()[t]:s[n],uS=py("inline","width","offsetWidth"),dS=py("block","height","offsetHeight");function hS({target:e,borderBoxSize:t}){var n;(n=Pa.get(e))==null||n.forEach(s=>{s(e,{get width(){return uS(e,t)},get height(){return dS(e,t)}})})}function mS(e){e.forEach(hS)}function fS(){typeof ResizeObserver>"u"||(un=new ResizeObserver(mS))}function pS(e,t){un||fS();const n=uy(e);return n.forEach(s=>{let r=Pa.get(s);r||(r=new Set,Pa.set(s,r)),r.add(t),un==null||un.observe(s)}),()=>{n.forEach(s=>{const r=Pa.get(s);r==null||r.delete(t),r!=null&&r.size||un==null||un.unobserve(s)})}}const Ea=new Set;let Vs;function xS(){Vs=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ea.forEach(t=>t(e))},window.addEventListener("resize",Vs)}function gS(e){return Ea.add(e),Vs||xS(),()=>{Ea.delete(e),!Ea.size&&typeof Vs=="function"&&(window.removeEventListener("resize",Vs),Vs=void 0)}}function Pm(e,t){return typeof e=="function"?gS(e):pS(e,t)}function yS(e){return Pd(e)&&e.tagName==="svg"}const vS=[...oy,pe,Vn],jS=e=>vS.find(ay(e)),Em=()=>({translate:0,scale:1,origin:0,originPoint:0}),Us=()=>({x:Em(),y:Em()}),Tm=()=>({min:0,max:0}),ge=()=>({x:Tm(),y:Tm()}),wS=new WeakMap;function Ao(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wi(e){return typeof e=="string"||Array.isArray(e)}const Ed=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Td=["initial",...Ed];function Do(e){return Ao(e.animate)||Td.some(t=>wi(e[t]))}function xy(e){return!!(Do(e)||e.variants)}function bS(e,t,n){for(const s in t){const r=t[s],a=n[s];if(De(r))e.addValue(s,r);else if(De(a))e.addValue(s,xr(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,xr(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Yc={current:null},gy={current:!1},NS=typeof window<"u";function SS(){if(gy.current=!0,!!NS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yc.current=e.matches;e.addEventListener("change",t),t()}else Yc.current=!1}const Rm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let oo={};function yy(e){oo=e}function kS(){return oo}class CS{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,skipAnimations:a,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=vd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Fe.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ee.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=a,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Do(n),this.isVariantNode=xy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in d){const y=d[x];u[x]!==void 0&&De(y)&&y.set(u[x])}}mount(t){var n,s;if(this.hasBeenMounted)for(const r in this.initialValues)(n=this.values.get(r))==null||n.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,wS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gy.current||SS(),this.shouldReduceMotion=Yc.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&JN.has(t)&&this.current instanceof HTMLElement){const{factory:o,keyframes:l,times:c,ease:u,duration:h}=n.accelerate,m=new qg({element:this.current,name:t,keyframes:l,times:c,ease:u,duration:kt(h)}),d=o(m);this.valueSubscriptions.set(t,()=>{d(),m.cancel()});return}const s=Nr.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ee.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oo){const n=oo[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Rm.length;s++){const r=Rm[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=bS(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=xr(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(vg(s)||wg(s))?s=parseFloat(s):!jS(s)&&Vn.test(n)&&(s=cy(t,n)),this.setBaseTarget(t,De(s)?s.get():s)),De(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=bd(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!De(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ld),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){kd.render(this.render)}}class vy extends CS{constructor(){super(...arguments),this.KeyframeResolver=ZN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;De(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class $n{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jy({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ES(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function pl(e){return e===void 0||e===1}function qc({scale:e,scaleX:t,scaleY:n}){return!pl(e)||!pl(t)||!pl(n)}function Qn(e){return qc(e)||wy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wy(e){return Am(e.x)||Am(e.y)}function Am(e){return e&&e!=="0%"}function lo(e,t,n){const s=e-n,r=t*s;return n+r}function Dm(e,t,n,s,r){return r!==void 0&&(e=lo(e,r,s)),lo(e,n,s)+t}function Zc(e,t=0,n=1,s,r){e.min=Dm(e.min,t,n,s,r),e.max=Dm(e.max,t,n,s,r)}function by(e,{x:t,y:n}){Zc(e.x,t.translate,t.scale,t.originPoint),Zc(e.y,n.translate,n.scale,n.originPoint)}const Mm=.999999999999,_m=1.0000000000001;function TS(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&zs(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,by(e,o)),s&&Qn(a.latestValues)&&zs(e,a.latestValues))}t.x<_m&&t.x>Mm&&(t.x=1),t.y<_m&&t.y>Mm&&(t.y=1)}function Bs(e,t){e.min=e.min+t,e.max=e.max+t}function Om(e,t,n,s,r=.5){const a=oe(e.min,e.max,r);Zc(e,t,n,a,s)}function zs(e,t){Om(e.x,t.x,t.scaleX,t.scale,t.originX),Om(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ny(e,t){return jy(ES(e.getBoundingClientRect(),t))}function RS(e,t,n){const s=Ny(e,n),{scroll:r}=t;return r&&(Bs(s.x,r.offset.x),Bs(s.y,r.offset.y)),s}const AS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DS=br.length;function MS(e,t,n){let s="",r=!0;for(let a=0;a<DS;a++){const o=br[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(o.startsWith("scale")?1:0);else{const u=parseFloat(l);c=o.startsWith("scale")?u===1:u===0}if(!c||n){const u=dy(l,Sd[o]);if(!c){r=!1;const h=AS[o]||o;s+=`${h}(${u}) `}n&&(t[o]=u)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function Rd(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Nr.has(c)){o=!0;continue}else if(Og(c)){r[c]=u;continue}else{const h=dy(u,Sd[c]);c.startsWith("origin")?(l=!0,a[c]=h):s[c]=h}}if(t.transform||(o||n?s.transform=MS(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=a;s.transformOrigin=`${c} ${u} ${h}`}}function Sy(e,{style:t,vars:n},s,r){const a=e.style;let o;for(o in t)a[o]=t[o];r==null||r.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function Lm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Mr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(V.test(e))e=parseFloat(e);else return e;const n=Lm(e,t.target.x),s=Lm(e,t.target.y);return`${n}% ${s}%`}},_S={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Vn.parse(e);if(r.length>5)return s;const a=Vn.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=oe(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),a(r)}},Jc={borderRadius:{...Mr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mr,borderTopRightRadius:Mr,borderBottomLeftRadius:Mr,borderBottomRightRadius:Mr,boxShadow:_S};function ky(e,{layout:t,layoutId:n}){return Nr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Jc[e]||e==="opacity")}function Ad(e,t,n){var o;const s=e.style,r=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(De(s[l])||r&&De(r[l])||ky(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function OS(e){return window.getComputedStyle(e)}class LS extends vy{constructor(){super(...arguments),this.type="html",this.renderInstance=Sy}readValueFromInstance(t,n){var s;if(Nr.has(n))return(s=this.projection)!=null&&s.isProjecting?Uc(n):eN(t,n);{const r=OS(t),a=(Og(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ny(t,n)}build(t,n,s){Rd(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Ad(t,n,s)}}const IS={offset:"stroke-dashoffset",array:"stroke-dasharray"},FS={offset:"strokeDashoffset",array:"strokeDasharray"};function VS(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?IS:FS;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const US=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cy(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},c,u,h){if(Rd(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:d}=e;m.transform&&(d.transform=m.transform,delete m.transform),(d.transform||m.transformOrigin)&&(d.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox);for(const x of US)m[x]!==void 0&&(d[x]=m[x],delete m[x]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&VS(m,r,a,o,!1)}const Py=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ey=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BS(e,t,n,s){Sy(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(Py.has(r)?r:Nd(r),t.attrs[r])}function Ty(e,t,n){const s=Ad(e,t,n);for(const r in e)if(De(e[r])||De(t[r])){const a=br.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}class zS extends vy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Nr.has(n)){const s=ly(n);return s&&s.default||0}return n=Py.has(n)?n:Nd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Ty(t,n,s)}build(t,n,s){Cy(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){BS(t,n,s,r)}mount(t){this.isSVGTag=Ey(t.tagName),super.mount(t)}}const $S=Td.length;function Ry(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Ry(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$S;n++){const s=Td[n],r=e.props[s];(wi(r)||r===!1)&&(t[s]=r)}return t}function Ay(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const WS=[...Ed].reverse(),KS=Ed.length;function GS(e){return t=>Promise.all(t.map(({animation:n,options:s})=>zN(e,n,s)))}function HS(e){let t=GS(e),n=Im(),s=!0;const r=c=>(u,h)=>{var d;const m=Xs(e,h,c==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(m){const{transition:x,transitionEnd:y,...v}=m;u={...u,...v,...y}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,h=Ry(e.parent)||{},m=[],d=new Set;let x={},y=1/0;for(let S=0;S<KS;S++){const p=WS[S],g=n[p],f=u[p]!==void 0?u[p]:h[p],b=wi(f),k=p===c?g.isActive:null;k===!1&&(y=S);let C=f===h[p]&&f!==u[p]&&b;if(C&&s&&e.manuallyAnimateOnMount&&(C=!1),g.protectedKeys={...x},!g.isActive&&k===null||!f&&!g.prevProp||Ao(f)||typeof f=="boolean")continue;if(p==="exit"&&g.isActive&&k!==!0){g.prevResolvedValues&&(x={...x,...g.prevResolvedValues});continue}const P=QS(g.prevProp,f);let j=P||p===c&&g.isActive&&!C&&b||S>y&&b,E=!1;const T=Array.isArray(f)?f:[f];let M=T.reduce(r(p),{});k===!1&&(M={});const{prevResolvedValues:I={}}=g,$={...I,...M},H=K=>{j=!0,d.has(K)&&(E=!0,d.delete(K)),g.needsAnimating[K]=!0;const R=e.getValue(K);R&&(R.liveStyle=!1)};for(const K in $){const R=M[K],D=I[K];if(x.hasOwnProperty(K))continue;let L=!1;Gc(R)&&Gc(D)?L=!Ay(R,D):L=R!==D,L?R!=null?H(K):d.add(K):R!==void 0&&d.has(K)?H(K):g.protectedKeys[K]=!0}g.prevProp=f,g.prevResolvedValues=M,g.isActive&&(x={...x,...M}),s&&e.blockInitialAnimation&&(j=!1);const U=C&&P;j&&(!U||E)&&m.push(...T.map(K=>{const R={type:p};if(typeof K=="string"&&s&&!U&&e.manuallyAnimateOnMount&&e.parent){const{parent:D}=e,L=Xs(D,K);if(D.enteringChildren&&L){const{delayChildren:Z}=L.transition||{};R.delay=Jg(D.enteringChildren,e,Z)}}return{animation:K,options:R}}))}if(d.size){const S={};if(typeof u.initial!="boolean"){const p=Xs(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(S.transition=p.transition)}d.forEach(p=>{const g=e.getBaseTarget(p),f=e.getValue(p);f&&(f.liveStyle=!0),S[p]=g??null}),m.push({animation:S})}let v=!!m.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(m):Promise.resolve()}function l(c,u){var m;if(n[c].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(d=>{var x;return(x=d.animationState)==null?void 0:x.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Im()}}}function QS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ay(t,e):!1}function Kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Im(){return{animate:Kn(!0),whileInView:Kn(),whileHover:Kn(),whileTap:Kn(),whileDrag:Kn(),whileFocus:Kn(),exit:Kn()}}function Fm(e,t){e.min=t.min,e.max=t.max}function xt(e,t){Fm(e.x,t.x),Fm(e.y,t.y)}function Vm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Dy=1e-4,XS=1-Dy,YS=1+Dy,My=.01,qS=0-My,ZS=0+My;function Ve(e){return e.max-e.min}function JS(e,t,n){return Math.abs(e-t)<=n}function Um(e,t,n,s=.5){e.origin=s,e.originPoint=oe(t.min,t.max,e.origin),e.scale=Ve(n)/Ve(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=XS&&e.scale<=YS||isNaN(e.scale))&&(e.scale=1),(e.translate>=qS&&e.translate<=ZS||isNaN(e.translate))&&(e.translate=0)}function Zr(e,t,n,s){Um(e.x,t.x,n.x,s?s.originX:void 0),Um(e.y,t.y,n.y,s?s.originY:void 0)}function Bm(e,t,n){e.min=n.min+t.min,e.max=e.min+Ve(t)}function e1(e,t,n){Bm(e.x,t.x,n.x),Bm(e.y,t.y,n.y)}function zm(e,t,n){e.min=t.min-n.min,e.max=e.min+Ve(t)}function co(e,t,n){zm(e.x,t.x,n.x),zm(e.y,t.y,n.y)}function $m(e,t,n,s,r){return e-=t,e=lo(e,1/n,s),r!==void 0&&(e=lo(e,1/r,s)),e}function t1(e,t=0,n=1,s=.5,r,a=e,o=e){if(It.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=oe(a.min,a.max,s);e===a&&(l-=t),e.min=$m(e.min,t,n,l,r),e.max=$m(e.max,t,n,l,r)}function Wm(e,t,[n,s,r],a,o){t1(e,t[n],t[s],t[r],t.scale,a,o)}const n1=["x","scaleX","originX"],s1=["y","scaleY","originY"];function Km(e,t,n,s){Wm(e.x,t,n1,n?n.x:void 0,s?s.x:void 0),Wm(e.y,t,s1,n?n.y:void 0,s?s.y:void 0)}function Gm(e){return e.translate===0&&e.scale===1}function _y(e){return Gm(e.x)&&Gm(e.y)}function Hm(e,t){return e.min===t.min&&e.max===t.max}function r1(e,t){return Hm(e.x,t.x)&&Hm(e.y,t.y)}function Qm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Oy(e,t){return Qm(e.x,t.x)&&Qm(e.y,t.y)}function Xm(e){return Ve(e.x)/Ve(e.y)}function Ym(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Rt(e){return[e("x"),e("y")]}function i1(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:d,skewX:x,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),m&&(s+=`rotateX(${m}deg) `),d&&(s+=`rotateY(${d}deg) `),x&&(s+=`skewX(${x}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Ly=["TopLeft","TopRight","BottomLeft","BottomRight"],a1=Ly.length,qm=e=>typeof e=="string"?parseFloat(e):e,Zm=e=>typeof e=="number"||V.test(e);function o1(e,t,n,s,r,a){r?(e.opacity=oe(0,n.opacity??1,l1(s)),e.opacityExit=oe(t.opacity??1,0,c1(s))):a&&(e.opacity=oe(t.opacity??1,n.opacity??1,s));for(let o=0;o<a1;o++){const l=`border${Ly[o]}Radius`;let c=Jm(t,l),u=Jm(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Zm(c)===Zm(u)?(e[l]=Math.max(oe(qm(c),qm(u),s),0),(It.test(u)||It.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,s))}function Jm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const l1=Iy(0,.5,Tg),c1=Iy(.5,.95,dt);function Iy(e,t,n){return s=>s<e?0:s>t?1:n(yi(e,t,s))}function u1(e,t,n){const s=De(e)?e:xr(e);return s.start(wd("",s,t,n)),s.animation}function bi(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const d1=(e,t)=>e.depth-t.depth;class h1{constructor(){this.children=[],this.isDirty=!1}add(t){id(this.children,t),this.isDirty=!0}remove(t){so(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(d1),this.isDirty=!1,this.children.forEach(t)}}function m1(e,t){const n=Fe.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(Fn(s),e(a-t))};return ee.setup(s,!0),()=>Fn(s)}function Ta(e){return De(e)?e.get():e}class f1{constructor(){this.members=[]}add(t){id(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const r=s.instance;r&&r.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&so(this.members,s)}t.scheduleRender()}remove(t){if(so(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r],o=a.instance;if(a.isPresent!==!1&&(!o||o.isConnected!==!1)){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const r=s.options.layoutDependency,a=t.options.layoutDependency;if(!(r!==void 0&&a!==void 0&&r===a)){const c=s.instance;c&&c.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xl=["","X","Y","Z"],p1=1e3;let x1=0;function gl(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function Fy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ry(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Fy(s)}function Vy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=x1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v1),this.nodes.forEach(N1),this.nodes.forEach(S1),this.nodes.forEach(j1)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new h1)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ld),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Pd(o)&&!yS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,m=0;const d=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{m=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,h&&h(),h=m1(d,250),Ra.hasAnimatedSinceResize&&(Ra.hasAnimatedSinceResize=!1,this.nodes.forEach(nf)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:d,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||T1,{onLayoutAnimationStart:v,onLayoutAnimationComplete:S}=u.getProps(),p=!this.targetLayout||!Oy(this.targetLayout,x),g=!m&&d;if(this.options.layoutRoot||this.resumeFrom||g||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const f={...jd(y,"layout"),onPlay:v,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(f.delay=0,f.type=!1),this.startAnimation(f),this.setAnimationOrigin(h,g)}else m||nf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k1),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ef);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(b1),this.nodes.forEach(g1),this.nodes.forEach(y1)):this.nodes.forEach(tf),this.clearAllSnapshots();const l=Fe.now();ke.delta=Ft(0,1e3/60,l-ke.timestamp),ke.timestamp=l,ke.isProcessing=!0,ll.update.process(ke),ll.preRender.process(ke),ll.render.process(ke),ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w1),this.sharedNodes.forEach(C1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ve(this.snapshot.measuredBox.x)&&!Ve(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_y(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Qn(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),R1(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ge();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(A1))){const{scroll:h}=this.root;h&&(Bs(l.x,h.offset.x),Bs(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=ge();if(xt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:d}=h;h!==this.root&&m&&d.layoutScroll&&(m.wasRoot&&xt(l,o),Bs(l.x,m.offset.x),Bs(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=ge();xt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&zs(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Qn(h.latestValues)&&zs(c,h.latestValues)}return Qn(this.latestValues)&&zs(c,this.latestValues),c}removeTransform(o){const l=ge();xt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Qn(u.latestValues))continue;qc(u.latestValues)&&u.updateSnapshot();const h=ge(),m=u.measurePageBox();xt(h,m),Km(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Qn(this.latestValues)&&Km(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=ke.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xt(this.target,this.layout.layoutBox),by(this.target,this.targetDelta)):xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||qc(this.parent.latestValues)||wy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),co(this.relativeTargetOrigin,l,c),xt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ke.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;xt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,d=this.treeScale.y;TS(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ge());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vm(this.prevProjectionDelta.x,this.projectionDelta.x),Vm(this.prevProjectionDelta.y,this.projectionDelta.y)),Zr(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==d||!Ym(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ym(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Us(),this.projectionDelta=Us(),this.projectionDeltaWithTransform=Us()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},m=Us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=ge(),x=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=x!==y,S=this.getStack(),p=!S||S.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(E1));this.animationProgress=0;let f;this.mixTargetDelta=b=>{const k=b/1e3;sf(m.x,o.x,k),sf(m.y,o.y,k),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P1(this.relativeTarget,this.relativeTargetOrigin,d,k),f&&r1(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=ge()),xt(f,this.relativeTarget)),v&&(this.animationValues=h,o1(h,u,this.latestValues,k,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Ra.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xr(0)),this.currentAnimation=u1(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Uy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ge();const m=Ve(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const d=Ve(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+d}xt(l,c),zs(l,h),Zr(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f1),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&gl("z",o,u,this.animationValues);for(let h=0;h<xl.length;h++)gl(`rotate${xl[h]}`,o,u,this.animationValues),gl(`skew${xl[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ta(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ta(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Qn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=i1(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:d,y:x}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${x.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Jc){if(h[y]===void 0)continue;const{correct:v,applyTo:S,isCSSVariable:p}=Jc[y],g=m==="none"?h[y]:v(h[y],u);if(S){const f=S.length;for(let b=0;b<f;b++)o[S[b]]=g}else p?this.options.visualElement.renderState.vars[y]=g:o[y]=g}this.options.layoutId&&(o.pointerEvents=u===this?Ta(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ef),this.root.sharedNodes.clear()}}}function g1(e){e.updateLayout()}function y1(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Rt(m=>{const d=o?t.measuredBox[m]:t.layoutBox[m],x=Ve(d);d.min=s[m].min,d.max=d.min+x}):Uy(a,t.layoutBox,s)&&Rt(m=>{const d=o?t.measuredBox[m]:t.layoutBox[m],x=Ve(s[m]);d.max=d.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const l=Us();Zr(l,s,t.layoutBox);const c=Us();o?Zr(c,e.applyTransform(r,!0),t.measuredBox):Zr(c,s,t.layoutBox);const u=!_y(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:d,layout:x}=m;if(d&&x){const y=ge();co(y,t.layoutBox,d.layoutBox);const v=ge();co(v,s,x.layoutBox),Oy(y,v)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function v1(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function j1(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function w1(e){e.clearSnapshot()}function ef(e){e.clearMeasurements()}function tf(e){e.isLayoutDirty=!1}function b1(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N1(e){e.resolveTargetDelta()}function S1(e){e.calcProjection()}function k1(e){e.resetSkewAndRotation()}function C1(e){e.removeLeadSnapshot()}function sf(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rf(e,t,n,s){e.min=oe(t.min,n.min,s),e.max=oe(t.max,n.max,s)}function P1(e,t,n,s){rf(e.x,t.x,n.x,s),rf(e.y,t.y,n.y,s)}function E1(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T1={duration:.45,ease:[.4,0,.1,1]},af=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),of=af("applewebkit/")&&!af("chrome/")?Math.round:dt;function lf(e){e.min=of(e.min),e.max=of(e.max)}function R1(e){lf(e.x),lf(e.y)}function Uy(e,t,n){return e==="position"||e==="preserve-aspect"&&!JS(Xm(t),Xm(n),.2)}function A1(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const D1=Vy({attachResizeListener:(e,t)=>bi(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),yl={current:void 0},By=Vy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yl.current){const e=new D1({});e.mount(window),e.setOptions({layoutScroll:!0}),yl.current=e}return yl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zy=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function M1(e=!0){const t=w.useContext(rd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=w.useId();w.useEffect(()=>{if(e)return r(a)},[e]);const o=w.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const $y=w.createContext({strict:!1}),cf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let uf=!1;function _1(){if(uf)return;const e={};for(const t in cf)e[t]={isEnabled:n=>cf[t].some(s=>!!n[s])};yy(e),uf=!0}function Wy(){return _1(),kS()}function O1(e){const t=Wy();for(const n in e)t[n]={...t[n],...e[n]};yy(t)}const L1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function uo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L1.has(e)}let Ky=e=>!uo(e);function I1(e){typeof e=="function"&&(Ky=t=>t.startsWith("on")?!uo(t):e(t))}try{I1(require("@emotion/is-prop-valid").default)}catch{}function F1(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Ky(r)||n===!0&&uo(r)||!t&&!uo(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const Mo=w.createContext({});function V1(e,t){if(Do(e)){const{initial:n,animate:s}=e;return{initial:n===!1||wi(n)?n:void 0,animate:wi(s)?s:void 0}}return e.inherit!==!1?t:{}}function U1(e){const{initial:t,animate:n}=V1(e,w.useContext(Mo));return w.useMemo(()=>({initial:t,animate:n}),[df(t),df(n)])}function df(e){return Array.isArray(e)?e.join(" "):e}const Dd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gy(e,t,n){for(const s in t)!De(t[s])&&!ky(s,n)&&(e[s]=t[s])}function B1({transformTemplate:e},t){return w.useMemo(()=>{const n=Dd();return Rd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function z1(e,t){const n=e.style||{},s={};return Gy(s,n,e),Object.assign(s,B1(e,t)),s}function $1(e,t){const n={},s=z1(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Hy=()=>({...Dd(),attrs:{}});function W1(e,t,n,s){const r=w.useMemo(()=>{const a=Hy();return Cy(a,t,Ey(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Gy(a,e.style,e),r.style={...a,...r.style}}return r}const K1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Md(e){return typeof e!="string"||e.includes("-")?!1:!!(K1.indexOf(e)>-1||/[A-Z]/u.test(e))}function G1(e,t,n,{latestValues:s},r,a=!1,o){const c=(o??Md(e)?W1:$1)(t,s,r,e),u=F1(t,typeof e=="string",a),h=e!==w.Fragment?{...u,...c,ref:n}:{},{children:m}=t,d=w.useMemo(()=>De(m)?m.get():m,[m]);return w.createElement(e,{...h,children:d})}function H1({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:Q1(n,s,r,e),renderState:t()}}function Q1(e,t,n,s){const r={},a=s(e,{});for(const d in a)r[d]=Ta(a[d]);let{initial:o,animate:l}=e;const c=Do(e),u=xy(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Ao(m)){const d=Array.isArray(m)?m:[m];for(let x=0;x<d.length;x++){const y=bd(e,d[x]);if(y){const{transitionEnd:v,transition:S,...p}=y;for(const g in p){let f=p[g];if(Array.isArray(f)){const b=h?f.length-1:0;f=f[b]}f!==null&&(r[g]=f)}for(const g in v)r[g]=v[g]}}}return r}const Qy=e=>(t,n)=>{const s=w.useContext(Mo),r=w.useContext(rd),a=()=>H1(e,t,s,r);return n?a():Yw(a)},X1=Qy({scrapeMotionValuesFromProps:Ad,createRenderState:Dd}),Y1=Qy({scrapeMotionValuesFromProps:Ty,createRenderState:Hy}),q1=Symbol.for("motionComponentSymbol");function Z1(e,t,n){const s=w.useRef(n);w.useInsertionEffect(()=>{s.current=n});const r=w.useRef(null);return w.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(r.current=c)}else r.current?(r.current(),r.current=null):o(a);else o&&(o.current=a)},[t])}const Xy=w.createContext({});function ks(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function J1(e,t,n,s,r,a){var f,b;const{visualElement:o}=w.useContext(Mo),l=w.useContext($y),c=w.useContext(rd),u=w.useContext(zy),h=u.reducedMotion,m=u.skipAnimations,d=w.useRef(null),x=w.useRef(!1);s=s||l.renderer,!d.current&&s&&(d.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:m,isSVG:a}),x.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const y=d.current,v=w.useContext(Xy);y&&!y.projection&&r&&(y.type==="html"||y.type==="svg")&&ek(d.current,n,r,v);const S=w.useRef(!1);w.useInsertionEffect(()=>{y&&S.current&&y.update(n,c)});const p=n[sy],g=w.useRef(!!p&&!((f=window.MotionHandoffIsComplete)!=null&&f.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return qw(()=>{x.current=!0,y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),g.current&&y.animationState&&y.animationState.animateChanges())}),w.useEffect(()=>{y&&(!g.current&&y.animationState&&y.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,p)}),g.current=!1),y.enteringChildren=void 0)}),y}function ek(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yy(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&ks(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function Yy(e){if(e)return e.options.allowProjection!==!1?e.projection:Yy(e.parent)}function vl(e,{forwardMotionProps:t=!1,type:n}={},s,r){s&&O1(s);const a=n?n==="svg":Md(e),o=a?Y1:X1;function l(u,h){let m;const d={...w.useContext(zy),...u,layoutId:tk(u)},{isStatic:x}=d,y=U1(u),v=o(u,x);if(!x&&yg){nk();const S=sk(d);m=S.MeasureLayout,y.visualElement=J1(e,v,d,r,S.ProjectionNode,a)}return i.jsxs(Mo.Provider,{value:y,children:[m&&y.visualElement?i.jsx(m,{visualElement:y.visualElement,...d}):null,G1(e,u,Z1(v,y.visualElement,h),v,x,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=w.forwardRef(l);return c[q1]=e,c}function tk({layoutId:e}){const t=w.useContext(gg).id;return t&&e!==void 0?t+"-"+e:e}function nk(e,t){w.useContext($y).strict}function sk(e){const t=Wy(),{drag:n,layout:s}=t;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rk(e,t){if(typeof Proxy>"u")return vl;const n=new Map,s=(a,o)=>vl(a,o,e,t),r=(a,o)=>s(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,vl(o,void 0,e,t)),n.get(o))})}const ik=(e,t)=>t.isSVG??Md(e)?new zS(t):new LS(t,{allowProjection:e!==w.Fragment});class ak extends $n{constructor(t){super(t),t.animationState||(t.animationState=HS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ao(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ok=0;class lk extends $n{constructor(){super(...arguments),this.id=ok++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ck={animation:{Feature:ak},exit:{Feature:lk}};function Fi(e){return{point:{x:e.pageX,y:e.pageY}}}const uk=e=>t=>Cd(t)&&e(t,Fi(t));function Jr(e,t,n,s){return bi(e,t,uk(n),s)}const qy=({current:e})=>e?e.ownerDocument.defaultView:null,hf=(e,t)=>Math.abs(e-t);function dk(e,t){const n=hf(e.x,t.x),s=hf(e.y,t.y);return Math.sqrt(n**2+s**2)}const mf=new Set(["auto","scroll"]);class Zy{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=wl(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=dk(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:S}=x,{timestamp:p}=ke;this.history.push({...S,timestamp:p});const{onStart:g,onMove:f}=this.handlers;y||(g&&g(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),f&&f(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=jl(y,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:p}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=wl(x.type==="pointercancel"?this.lastMoveEventInfo:jl(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,g),S&&S(x,g)},!Cd(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const c=Fi(t),u=jl(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=ke;this.history=[{...h,timestamp:m}];const{onSessionStart:d}=n;d&&d(t,wl(u,this.history)),this.removeListeners=Oi(Jr(this.contextWindow,"pointermove",this.handlePointerMove),Jr(this.contextWindow,"pointerup",this.handlePointerUp),Jr(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(mf.has(s.overflowX)||mf.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:r.x-n.x,y:r.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,r),ee.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fn(this.updatePoint)}}function jl(e,t){return t?{point:t(e.point)}:e}function ff(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wl({point:e},t){return{point:e,delta:ff(e,Jy(t)),offset:ff(e,hk(t)),velocity:mk(t,.1)}}function hk(e){return e[0]}function Jy(e){return e[e.length-1]}function mk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=Jy(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>kt(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&r.timestamp-s.timestamp>kt(t)*2&&(s=e[1]);const a=ct(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fk(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?oe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?oe(n,e,s.max):Math.min(e,n)),e}function pf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pk(e,{top:t,left:n,bottom:s,right:r}){return{x:pf(e.x,n,r),y:pf(e.y,t,s)}}function xf(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function xk(e,t){return{x:xf(e.x,t.x),y:xf(e.y,t.y)}}function gk(e,t){let n=.5;const s=Ve(e),r=Ve(t);return r>s?n=yi(t.min,t.max-s,e.min):s>r&&(n=yi(e.min,e.max-r,t.min)),Ft(0,1,n)}function yk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eu=.35;function vk(e=eu){return e===!1?e=0:e===!0&&(e=eu),{x:gf(e,"left","right"),y:gf(e,"top","bottom")}}function gf(e,t,n){return{min:yf(e,t),max:yf(e,n)}}function yf(e,t){return typeof e=="number"?e:e[t]||0}const jk=new WeakMap;class wk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{n&&this.snapToCursor(Fi(m).point),this.stopAnimation()},o=(m,d)=>{const{drag:x,dragPropagation:y,onDragStart:v}=this.getProps();if(x&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tS(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rt(p=>{let g=this.getAxisMotionValue(p).get()||0;if(It.test(g)){const{projection:f}=this.visualElement;if(f&&f.layout){const b=f.layout.layoutBox[p];b&&(g=Ve(b)*(parseFloat(g)/100))}}this.originPoint[p]=g}),v&&ee.update(()=>v(m,d),!1,!0),Hc(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d;const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:v,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:p}=d;if(y&&this.currentDirection===null){this.currentDirection=Nk(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,p),this.updateAxis("y",d.point,p),this.visualElement.render(),S&&ee.update(()=>S(m,d),!1,!0)},c=(m,d)=>{this.latestPointerEvent=m,this.latestPanInfo=d,this.stop(m,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new Zy(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:qy(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ee.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!ca(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=fk(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&ks(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=pk(s.layoutBox,t):this.constraints=!1,this.elastic=vk(n),r!==this.constraints&&!ks(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Rt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yk(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ks(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=RS(s,r.root,this.visualElement.getTransformPagePoint());let o=xk(r.layout.layoutBox,a);if(n){const l=n(PS(o));this.hasMutatedConstraints=!!l,l&&(o=jy(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rt(h=>{if(!ca(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const d=r?200:1e6,x=r?40:1e7,y={type:"inertia",velocity:s?t[h]:0,bounceStiffness:d,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Hc(this.visualElement,t),s.start(wd(t,s,0,n,this.visualElement,!1))}stopAnimation(){Rt(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Rt(n=>{const{drag:s}=this.getProps();if(!ca(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n],c=a.get()||0;a.set(t[n]-oe(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ks(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Rt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();r[o]=gk({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Rt(o=>{if(!ca(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(oe(c,u,r[o]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;jk.set(this.visualElement,this);const t=this.visualElement.current,n=Jr(t,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps(),d=u.target,x=d!==t&&oS(d);h&&m&&!x&&this.start(u)});let s;const r=()=>{const{dragConstraints:u}=this.getProps();ks(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),s||(s=bk(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ee.read(r);const l=bi(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Rt(m=>{const d=this.getAxisMotionValue(m);d&&(this.originPoint[m]+=u[m].translate,d.set(d.get()+u[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=eu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function vf(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function bk(e,t,n){const s=Pm(e,vf(n)),r=Pm(t,vf(n));return()=>{s(),r()}}function ca(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Nk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sk extends $n{constructor(t){super(t),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new wk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const bl=e=>(t,n)=>{e&&ee.update(()=>e(t,n),!1,!0)};class kk extends $n{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(t){this.session=new Zy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:bl(t),onStart:bl(n),onMove:bl(s),onEnd:(a,o)=>{delete this.session,r&&ee.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=Jr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Nl=!1;class Ck extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),Nl&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Nl=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ee.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;Nl=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ev(e){const[t,n]=M1(),s=w.useContext(gg);return i.jsx(Ck,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(Xy),isPresent:t,safeToRemove:n})}const Pk={pan:{Feature:kk},drag:{Feature:Sk,ProjectionNode:By,MeasureLayout:ev}};function jf(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&ee.postRender(()=>a(t,Fi(t)))}class Ek extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=sS(t,(n,s)=>(jf(this.node,s,"Start"),r=>jf(this.node,r,"End"))))}unmount(){}}class Tk extends $n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oi(bi(this.node.current,"focus",()=>this.onFocus()),bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wf(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&ee.postRender(()=>a(t,Fi(t)))}class Rk extends $n{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=cS(t,(r,a)=>(wf(this.node,a,"Start"),(o,{success:l})=>wf(this.node,o,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const tu=new WeakMap,Sl=new WeakMap,Ak=e=>{const t=tu.get(e.target);t&&t(e)},Dk=e=>{e.forEach(Ak)};function Mk({root:e,...t}){const n=e||document;Sl.has(n)||Sl.set(n,{});const s=Sl.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(Dk,{root:e,...t})),s[r]}function _k(e,t,n){const s=Mk(t);return tu.set(e,n),s.observe(e),()=>{tu.delete(e),s.unobserve(e)}}const Ok={some:0,all:1};class Lk extends $n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Ok[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),d=u?h:m;d&&d(c)};return _k(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ik(t,n))&&this.startObserver()}unmount(){}}function Ik({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fk={inView:{Feature:Lk},tap:{Feature:Rk},focus:{Feature:Tk},hover:{Feature:Ek}},Vk={layout:{ProjectionNode:By,MeasureLayout:ev}},Uk={...ck,...Fk,...Pk,...Vk},bf=rk(Uk,ik);function Bk({url:e}){const[t,n]=w.useState(null),[s,r]=w.useState(!0),[a,o]=w.useState(!1);if(w.useEffect(()=>{let u=!1;async function h(){r(!0),o(!1);try{const m=await fetch(`/api/oembed?url=${encodeURIComponent(e)}`);if(!m.ok)throw new Error("Failed to load");const d=await m.json();u||(n(d),r(!1))}catch{u||(o(!0),r(!1))}}return h(),()=>{u=!0}},[e]),s)return i.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-theme-tertiary/20 aspect-video mb-4 border border-white/5 backdrop-blur-sm",children:[i.jsx(bf.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[i.jsx("div",{className:"h-4 w-2/3 bg-white/10 rounded animate-pulse"}),i.jsx("div",{className:"h-3 w-1/3 bg-white/10 rounded animate-pulse"})]})]});if(a||!t)return i.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"block p-4 rounded-xl bg-theme-tertiary/20 border border-white/5 hover:border-accent/30 transition-colors mb-4 group",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-theme-muted truncate mr-2",children:e}),i.jsx("span",{className:"text-accent group-hover:translate-x-1 transition-transform",children:""})]})});const l=t.type==="video"||!!t.html,c=e.includes("pin.it")||e.includes("pinterest");return i.jsxs(bf.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-xl bg-theme-tertiary/20 border border-white/5 hover:border-accent/30 transition-all duration-500 mb-4 backdrop-blur-md shadow-2xl",children:[i.jsxs("div",{className:"relative aspect-auto min-h-[100px] overflow-hidden",children:[t.thumbnail_url?i.jsx("img",{src:t.thumbnail_url,alt:t.title||"Social Media Content",className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700",loading:"lazy"}):t.html?i.jsx("div",{className:"w-full preview-html [&>iframe]:w-full [&>iframe]:aspect-video",dangerouslySetInnerHTML:{__html:t.html}}):i.jsx("div",{className:"p-8 text-center text-theme-muted text-xs italic",children:"Visual content not available"}),!l&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),i.jsx("div",{className:"p-3 bg-black/40 backdrop-blur-md border-t border-white/5",children:i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"text-xs font-bold text-white truncate mb-0.5",children:t.title||(c?"Pinterest Content":"Shared Link")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] text-accent uppercase tracking-wider font-semibold",children:t.provider_name||(c?"Pinterest":"Social")}),t.author_name&&i.jsxs("span",{className:"text-[10px] text-theme-muted truncate",children:["by ",t.author_name]})]})]}),i.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"flex-shrink-0 w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-accent hover:text-black transition-all duration-300",children:i.jsx("span",{className:"text-sm",children:""})})]})})]})}function zk(){an();const[e,t]=w.useState([]),[n,s]=w.useState(!0),[r,a]=w.useState("all"),[o,l]=w.useState(!1),[c,u]=w.useState(null),[h,m]=w.useState(""),[d,x]=w.useState(null),[y,v]=w.useState(null),[S,p]=w.useState([]),g=w.useRef(null),{uploadFile:f}=Xw({onSuccess:A=>{m(A.objectPath)},onError:A=>{console.error("Upload failed:",A)}}),b=()=>{C(),P()},k=["all","ideas","lyrics","inspiration","audio","visual","journal"];w.useEffect(()=>{C(),P()},[r]);async function C(){s(!0);try{const A=await fetch("/api/creative/notes");if(A.ok){const z=await A.json();t(z.notes||[])}}catch(A){console.error("Failed to load notes:",A)}finally{s(!1)}}async function P(){s(!0);try{const A=await fetch("/api/community/my-submissions");if(A.ok){const z=await A.json();p(z.submissions||[])}}catch(A){console.error("Failed to load submissions:",A)}finally{s(!1)}}async function j(A){try{const z=await fetch("/api/community/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:A})});if(z.ok)P(),alert("Note submitted for community sharing! It will be visible once approved.");else{const ue=await z.json();alert(ue.message||"Failed to submit")}}catch(z){console.error("Failed to share note:",z)}}function E(A){const z=S.find(ue=>ue.noteId===A);return(z==null?void 0:z.status)||null}async function T(A){var Ns;A.preventDefault();const z=A.currentTarget,ue=new FormData(z),Vi=ue.get("media_url"),Wn={content:ue.get("content"),category:ue.get("category"),media_url:h||Vi||null,tags:((Ns=ue.get("tags"))==null?void 0:Ns.split(",").map(Ui=>Ui.trim()).filter(Boolean))||[]};Wn.content,Wn.category,Wn.tags;const Ye=c?`/api/creative/notes/${c.id}`:"/api/creative/notes",_e=c?"PUT":"POST";try{(await fetch(Ye,{method:_e,headers:{"Content-Type":"application/json"},body:JSON.stringify(Wn)})).ok&&(l(!1),u(null),m(""),C())}catch(Ui){console.error("Failed to save note:",Ui)}}async function M(A){if(confirm("Delete this note?"))try{(await fetch(`/api/creative/notes/${A}`,{method:"DELETE"})).ok&&C()}catch(z){console.error("Failed to delete note:",z)}}async function I(A){var z;try{const ue=((z=e.find(Ye=>Ye.id===A))==null?void 0:z.sortOrder)+1,Vi=e.map(Ye=>Ye.id===A?{...Ye,sortOrder:ue,is_pinned:!Ye.is_pinned}:Ye);(await fetch(`/api/creative/notes/${A}/pin`,{method:"POST"})).ok||t(Ye=>Ye.map(_e=>_e.id===A?{..._e,sortOrder:ue,is_pinned:!_e.is_pinned}:_e))}catch(ue){console.error("Failed to toggle pin:",ue),C()}}function $(A,z){x(z),A.dataTransfer.effectAllowed="move"}function H(A,z){A.preventDefault(),v(z)}function U(){v(null)}async function te(A,z){if(A.preventDefault(),v(null),!d||d.id===z.id){x(null);return}const ue=[...e],Vi=ue.findIndex(_e=>_e.id===d.id),Wn=ue.findIndex(_e=>_e.id===z.id);ue.splice(Vi,1),ue.splice(Wn,0,d);const Ye=ue.map((_e,Ns)=>({..._e,sort_order:Ns}));t(Ye),x(null);try{(await fetch("/api/creative/notes/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteIds:Ye.map(Ns=>Ns.id)})})).ok||C()}catch(_e){console.error("Failed to reorder notes:",_e),C()}}function K(){x(null),v(null)}const D=[...r==="all"?e:e.filter(A=>A.category===r)].sort((A,z)=>A.is_pinned&&!z.is_pinned?-1:!A.is_pinned&&z.is_pinned?1:(A.sort_order||0)-(z.sort_order||0)),[L,Z]=w.useState(1),[re,bs]=w.useState(12),ft=Math.max(1,Math.ceil(D.length/re));w.useEffect(()=>{Z(1)},[r,e,re]);const Sr=D.slice((L-1)*re,L*re);function Vt(A){return A?A.includes("pinterest.com")||A.includes("pin.it")||A.includes("twitter.com")||A.includes("x.com")||A.includes("youtube.com")||A.includes("youtu.be")||A.includes("spotify.com")||A.includes("soundcloud.com")||A.match(/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i)?i.jsx(Bk,{url:A}):i.jsxs("a",{href:A,target:"_blank",rel:"noreferrer",className:"text-accent text-xs hover:underline block mb-3",children:[A.length>40?A.substring(0,40)+"...":A," "]}):null}return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Private Space"}),i.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Capture ideas, inspiration, and creative notes"})]}),i.jsx("button",{onClick:()=>{u(null),m(""),l(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Note"})]}),i.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:k.map(A=>i.jsx("button",{onClick:()=>a(A),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${r===A?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),n?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):D.length===0?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No notes yet. Start capturing your ideas!"}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Sr.map(A=>i.jsxs("div",{draggable:r==="all",onDragStart:z=>{r==="all"&&$(z,A)},onDragOver:z=>{z.preventDefault(),r==="all"&&H(z,A.id)},onDragLeave:U,onDrop:z=>{r==="all"&&te(z,A)},onDragEnd:K,className:`card p-4 rounded-xl transition-all ${r==="all"?"cursor-move":""} ${A.is_pinned?"border-accent":""} ${(d==null?void 0:d.id)===A.id?"opacity-50 scale-95":""} ${y===A.id?"ring-2 ring-accent scale-105":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-theme-muted uppercase",children:A.category}),A.is_pinned&&i.jsx("span",{className:"text-xs text-accent",children:"[pinned]"})]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[(()=>{const z=E(A.id);return z==="pending"?i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-400",children:"pending"}):z==="approved"?i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"shared"}):z==="rejected"?i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/20 text-red-400",children:"declined"}):i.jsx("button",{type:"button",onClick:()=>j(A.id),className:"text-xs px-2 py-0.5 rounded bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary",title:"Submit to community",children:"share"})})(),i.jsx("button",{type:"button",onClick:()=>I(A.id),className:`text-xs px-2 py-0.5 rounded ${A.is_pinned?"bg-accent text-theme-primary":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,style:A.is_pinned?{color:"var(--bg-primary)"}:{},children:A.is_pinned?"unpin":"pin"}),i.jsx("button",{type:"button",onClick:()=>{u(A),l(!0)},className:"text-theme-muted hover:text-theme-primary text-sm",children:""}),i.jsx("button",{type:"button",onClick:()=>M(A.id),className:"text-theme-muted hover:text-red-400 text-sm",children:""})]})]}),A.media_url&&Vt(A.media_url),i.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3 text-theme-primary",children:A.content}),A.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1",children:A.tags.map(z=>i.jsx("span",{className:"tag-pill",children:z},z))})]},A.id))}),i.jsxs("div",{className:"mt-4 flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-theme-muted",children:[i.jsx("button",{onClick:()=>Z(A=>Math.max(1,A-1)),disabled:L===1,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:" Prev"}),i.jsxs("span",{children:["Page ",L," of ",ft]}),i.jsx("button",{onClick:()=>Z(A=>Math.min(ft,A+1)),disabled:L===ft,className:"px-3 py-1 rounded bg-theme-tertiary disabled:opacity-50",children:"Next "})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("label",{className:"text-theme-muted",children:"Per page:"}),i.jsxs("select",{value:re,onChange:A=>bs(Number(A.target.value)),className:"input-field text-sm",children:[i.jsx("option",{value:6,children:"6"}),i.jsx("option",{value:12,children:"12"}),i.jsx("option",{value:24,children:"24"})]})]})]})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:i.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-accent",children:c?"Edit Note":"New Note"}),i.jsx("button",{onClick:()=>l(!1),className:"text-theme-muted hover:text-theme-primary text-xl p-1",children:""})]}),i.jsxs("form",{onSubmit:T,className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Category"}),i.jsx("select",{name:"category",defaultValue:(c==null?void 0:c.category)||"ideas",className:"input-field w-full p-2 rounded",children:k.filter(A=>A!=="all").map(A=>i.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Content *"}),i.jsx("textarea",{name:"content",defaultValue:c==null?void 0:c.content,required:!0,rows:5,className:"input-field w-full p-2 rounded",placeholder:"Write your thoughts..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Media"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{name:"media_url",defaultValue:(c==null?void 0:c.media_url)||"",className:"input-field w-full p-2 rounded",placeholder:"YouTube, SoundCloud, URL...",disabled:!!h}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-theme-muted",children:"or"}),i.jsx("input",{ref:g,type:"file",accept:"image/*,audio/*,video/*",onChange:A=>{var ue;const z=(ue=A.target.files)==null?void 0:ue[0];z&&f(z)},className:"hidden"}),i.jsx("button",{onClick:b,className:"px-3 py-1 text-xs bg-theme-tertiary rounded hover:bg-theme-secondary",children:"Refresh"}),h&&i.jsx("span",{className:"text-xs text-green-500",children:" Uploaded"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Tags"}),i.jsx("input",{name:"tags",defaultValue:(c==null?void 0:c.tags.join(", "))||"",className:"input-field w-full p-2 rounded",placeholder:"Separate with commas"})]}),i.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:c?"Save Changes":"Create Note"})]})]})})]})}const ua=[{id:"fixation",title:"1. Fix Your Work",fee:"FREE",description:"Record or document in tangible form",fields:[{key:"fixation_date",label:"Date Fixed",type:"date",placeholder:"When was it recorded?"},{key:"fixation_format",label:"Format",type:"text",placeholder:"Audio file, video, manuscript..."}]},{id:"copyright",title:"2. Register Copyright",fee:"$45-65",description:"File with US Copyright Office",fields:[{key:"copyright_reg_number",label:"Registration Number",type:"text",placeholder:"e.g., SR0000123456"},{key:"copyright_date",label:"Registration Date",type:"date",placeholder:""}]},{id:"pro",title:"3. Join a PRO",fee:"FREE-$50",description:"ASCAP, BMI for royalty collection",fields:[{key:"pro_name",label:"PRO Name",type:"select",options:["ASCAP","BMI","SESAC","GMR","Other"]},{key:"pro_member_id",label:"Member ID",type:"text",placeholder:"Your PRO member ID"}]},{id:"register_song",title:"4. Register Composition",fee:"FREE",description:"Get ISWC from your PRO",fields:[{key:"iswc",label:"ISWC",type:"text",placeholder:"e.g., T-123.456.789-0"}]},{id:"distributor",title:"5. Upload to Distributor",fee:"$0-30/yr",description:"Get ISRC and UPC codes",fields:[{key:"distributor",label:"Distributor",type:"text",placeholder:"DistroKid, TuneCore, CD Baby..."},{key:"isrc",label:"ISRC",type:"text",placeholder:"e.g., USRC12345678"},{key:"upc",label:"UPC",type:"text",placeholder:"e.g., 012345678901"}]},{id:"release",title:"6. Release & Monitor",fee:"N/A",description:"Track performance and royalties",fields:[{key:"release_date",label:"Release Date",type:"date",placeholder:""},{key:"release_notes",label:"Notes",type:"text",placeholder:"Streaming links, first week stats..."}]}];function $k(){const{id:e}=To(),[t,n]=w.useState(null),[s,r]=w.useState(!0),[a,o]=w.useState(null),[l,c]=w.useState(!1),[u,h]=w.useState({});w.useEffect(()=>{m()},[e]);async function m(){var y,v;try{const S=await fetch(`/api/projects/${e}`);if(S.ok){const p=await S.json();n(p.project),h(((v=(y=p.project)==null?void 0:y.metadata)==null?void 0:v.workflow)||{})}}catch(S){console.error("Failed to load project:",S)}finally{r(!1)}}async function d(y){if(!t)return;const v={...u,[`${y}_complete`]:!u[`${y}_complete`]};h(v),c(!0);try{const S={...t.metadata,workflow:v},p=await fetch(`/api/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:S})});if(p.ok){const g=await p.json();n(g.project)}}catch(S){console.error("Failed to update workflow:",S)}finally{c(!1)}}function x(y,v,S){h(p=>({...p,[v]:S}))}return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):t?i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[i.jsx("span",{className:`status-${t.status} px-3 py-1 rounded text-xs uppercase`,children:t.status}),i.jsx("span",{className:"text-theme-muted text-sm",children:t.type})]}),i.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.title}),i.jsx("p",{className:"text-theme-secondary",children:t.description||"No description"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-accent",children:"IP Protection Workflow"}),i.jsx("p",{className:"text-theme-muted text-sm",children:"Click each step to track your progress and enter details."})]}),i.jsx(et,{href:"/docs",className:"text-xs text-accent hover:underline whitespace-nowrap",children:"View full guide "})]}),(()=>{const y=ua.filter(S=>u[`${S.id}_complete`]).length,v=Math.round(y/ua.length*100);return i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-sm text-theme-secondary",children:[y," of ",ua.length," steps complete"]}),i.jsxs("span",{className:"text-sm font-bold text-accent",children:[v,"%"]})]}),i.jsx("div",{className:"h-3 bg-theme-tertiary rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${v}%`}})})]})})(),i.jsx("div",{className:"space-y-3",children:ua.map(y=>{const v=u[`${y.id}_complete`],S=a===y.id;return i.jsxs("div",{className:`card rounded-lg border transition-all ${v?"step-complete":"step-pending"}`,children:[i.jsxs("button",{onClick:()=>o(S?null:y.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[i.jsx("div",{className:"step-icon w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:v?"":y.title.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold",children:y.title}),i.jsx("p",{className:"text-theme-muted text-sm truncate",children:y.description})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`text-xs ${v?"text-green-400":"text-theme-muted"}`,children:v?"Complete":y.fee}),i.jsx("svg",{className:`w-4 h-4 text-theme-muted transition-transform ${S?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),S&&i.jsxs("div",{className:"px-4 pb-4 border-t border-theme mt-0 pt-4",children:[i.jsx("div",{className:"space-y-3",children:y.fields.map(p=>i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:p.label}),p.type==="select"&&p.options?i.jsxs("select",{value:u[p.key]||"",onChange:g=>x(y.id,p.key,g.target.value),className:"w-full input-field px-3 py-2 rounded text-sm",disabled:l,children:[i.jsx("option",{value:"",children:"Select..."}),p.options.map(g=>i.jsx("option",{value:g,children:g},g))]}):i.jsx("input",{type:p.type,value:u[p.key]||"",onChange:g=>x(y.id,p.key,g.target.value),placeholder:p.placeholder,className:"w-full input-field px-3 py-2 rounded text-sm",disabled:l})]},p.key))}),i.jsx("button",{onClick:()=>d(y.id),disabled:l,className:`mt-4 w-full py-2 px-4 rounded text-sm font-medium transition-colors ${v?"bg-theme-tertiary text-theme-secondary hover:bg-red-900/30 hover:text-red-400":"bg-accent text-accent-contrast hover:opacity-90"}`,children:l?"Saving...":v?"Mark as Incomplete":"Mark as Complete"})]})]},y.id)})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Identifiers"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"ISRC"}),i.jsx("span",{className:"text-theme-secondary font-mono",children:u.isrc||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"UPC"}),i.jsx("span",{className:"text-theme-secondary font-mono",children:u.upc||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"ISWC"}),i.jsx("span",{className:"text-theme-secondary font-mono",children:u.iswc||"Not set"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"Copyright #"}),i.jsx("span",{className:"text-theme-secondary font-mono",children:u.copyright_reg_number||"Not set"})]})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Tracking Tools"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("a",{href:"https://artists.spotify.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-green-400 hover:underline",children:[i.jsx("span",{children:"Spotify for Artists"}),i.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),i.jsxs("a",{href:"https://artists.apple.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-pink-400 hover:underline",children:[i.jsx("span",{children:"Apple Music"}),i.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),i.jsxs("a",{href:"https://soundexchange.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-blue-400 hover:underline",children:[i.jsx("span",{children:"SoundExchange"}),i.jsx("span",{className:"text-theme-muted text-xs",children:"Monthly"})]})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Timeline"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"Created"}),i.jsx("span",{className:"text-theme-secondary",children:new Date(t.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"Updated"}),i.jsx("span",{className:"text-theme-secondary",children:new Date(t.updated_at).toLocaleDateString()})]}),u.release_date&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-theme-muted",children:"Released"}),i.jsx("span",{className:"text-theme-secondary",children:new Date(u.release_date).toLocaleDateString()})]})]})]})]})]})]})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-theme-muted mb-4",children:"Project not found"}),i.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})})}const kl={"basic-ne":{title:"BASIC NON-EXCLUSIVE LICENSE",idPrefix:"LIC-B",fields:[],terms:"Grant of non-exclusive rights for limited digital streaming and one official music video. Producer retains 100% ownership of composition."},"standard-ne":{title:"STANDARD NON-EXCLUSIVE LICENSE",idPrefix:"LIC-S",fields:[],terms:"Grant of non-exclusive rights for increased streaming limits. Includes high-quality WAV files."},"premium-ne":{title:"PREMIUM NON-EXCLUSIVE LICENSE",idPrefix:"LIC-P",fields:[],terms:"Unlimited non-exclusive rights for streaming and distribution. Includes multi-track stems."},exclusive:{title:"EXCLUSIVE LICENSE AGREEMENT",idPrefix:"LIC-EX",fields:["exclusiveFee","masterShare"],terms:"Transfer of exclusive rights. Producer shall cease further licensing of track. Fee: $[exclusiveFee]. Master Royalty Share: [masterShare]%."},"buyout-addendum":{title:"EXCLUSIVE RIGHTS BUYOUT ADDENDUM",idPrefix:"LIC-BO",fields:["buyoutAmount","originalDate"],terms:"Complete transfer of all rights, title, and interest including publishing and master royalties for a buyout fee of $[buyoutAmount]."},"split-sheet":{title:"SONGWRITER SPLIT SHEET",idPrefix:"SS",fields:[],terms:"Official registration of songwriting and publishing percentages for track [Track Title]."},"producer-agreement":{title:"PRODUCER SERVICE AGREEMENT",idPrefix:"PSA",fields:["exclusiveFee"],terms:"Contract for professional production services as a work-for-hire. Producer fee: $[exclusiveFee]."},nda:{title:"NON-DISCLOSURE AGREEMENT",idPrefix:"NDA",fields:[],terms:"Agreement to maintain strict confidentiality regarding all unreleased files, stems, and project details."},"custom-license":{title:"CUSTOM MUSIC AGREEMENT",idPrefix:"CUST",fields:["exclusiveFee","masterShare"],terms:"Custom agreement for track [Track Title]."}};function Wk(){const[e,t]=w.useState(1),[n,s]=w.useState(""),[r,a]=w.useState({}),[o,l]=w.useState([]),[c,u]=w.useState(""),[h,m]=w.useState(!1);function d(k){s(k),t(2)}function x(k){const C=k.target,P=C.type==="number"?Number(C.value):C.value;a({...r,[C.name]:P})}function y(){const k={id:Date.now().toString(),name:"",role:"",split:""};l([...o,k])}function v(k){l(o.filter(C=>C.id!==k))}function S(k,C,P){l(o.map(j=>j.id===k?{...j,[C]:P}:j))}async function p(k){k.preventDefault(),m(!0),t(3);const C=kl[n],P=o.filter(j=>j.name&&j.role&&j.split).map(j=>`- ${j.name} (${j.role}): ${j.split}%`).join(`
`);setTimeout(()=>{const j=`
        <div class="agreement-document">
          <h2>${C.title}</h2>
          <p><strong>ID:</strong> ${C.idPrefix}-${Date.now()}</p>
          <p><strong>Producer/Company:</strong> ${r.producerName||"TBD"}</p>
          <p><strong>Artist/Client:</strong> ${r.artistName}</p>
          <p><strong>Track:</strong> ${r.trackTitle}</p>
          <p><strong>Project:</strong> ${r.projectName||"N/A"}</p>
          <p><strong>Effective Date:</strong> ${r.effectiveDate||"TBD"}</p>
          <p><strong>Delivery Date:</strong> ${r.deliveryDate||"N/A"}</p>
          <p><strong>BPM:</strong> ${r.bpm||"N/A"}</p>
          <p><strong>Key:</strong> ${r.key||"N/A"}</p>
          <p><strong>Genre:</strong> ${r.genre||"N/A"}</p>
          <p><strong>Producer Address:</strong> ${r.producerAddress||"N/A"}</p>
          <p><strong>Artist Address:</strong> ${r.artistAddress||"N/A"}</p>
          <p><strong>Producer Email:</strong> ${r.producerEmail||"N/A"}</p>
          <p><strong>Artist Email:</strong> ${r.artistEmail||"N/A"}</p>
          <p><strong>Producer Phone:</strong> ${r.producerPhone||"N/A"}</p>
          <p><strong>Artist Phone:</strong> ${r.artistPhone||"N/A"}</p>
          
          ${o.length>0?`
          <h3>Parties/Splits:</h3>
          <pre>${P}</pre>
          `:""}
          
          <h3>Agreement Terms:</h3>
          <p>${C.terms}</p>
          
          ${r.customTerms?`
          <h3>Additional Terms:</h3>
          <p>${r.customTerms}</p>
          `:""}
          
          <h3>SIGNATORIES</h3>
          <div class="signatures">
            <div class="signature-block">
              <p>Producer/Company: _________________________ Date: _________</p>
            </div>
            <div class="signature-block">
              <p>Artist/Client: _________________________ Date: _________</p>
            </div>
            ${o.map(E=>`
              <div class="signature-block">
                <p>${E.name} (${E.role}): _________________________ Date: _________</p>
              </div>
            `).join("")}
          </div>
        </div>
      `;u(j),m(!1)},2e3)}function g(){t(1),s(""),a({}),l([]),u("")}const f=kl[n],b=f&&f.fields.length>0;return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-7xl mx-auto p-6",children:[i.jsx("div",{className:"flex items-center gap-4 mb-8",children:[1,2,3].map(k=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=k?"btn-primary":"bg-theme-tertiary text-theme-muted"}`,children:k}),i.jsx("span",{className:`text-sm ${e>=k?"text-theme-primary":"text-theme-muted"}`,children:k===1?"Select Template":k===2?"Fill Details":"Generate"}),k<3&&i.jsx("div",{className:"w-8 h-px bg-theme-tertiary"})]},k))}),e===1&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Select Agreement Template"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(kl).map(([k,C])=>i.jsxs("div",{onClick:()=>d(k),className:"card p-6 rounded-xl cursor-pointer hover:border-accent transition-colors",children:[i.jsx("h3",{className:"font-bold mb-2",children:C.title}),i.jsx("p",{className:"text-sm text-theme-muted",children:C.terms})]},k))})]}),e===2&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fill Agreement Details"}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Track Title *"}),i.jsx("input",{name:"trackTitle",required:!0,onChange:x,className:"input-field w-full p-3 rounded",placeholder:"e.g. Moonlight"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Template Type"}),i.jsx("div",{className:"input-field w-full p-3 rounded bg-theme-tertiary",children:(f==null?void 0:f.title)||"Not selected"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer/Company *"}),i.jsx("input",{name:"producerName",required:!0,onChange:x,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Company Name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist/Client *"}),i.jsx("input",{name:"artistName",required:!0,onChange:x,className:"input-field w-full p-3 rounded",placeholder:"Legal Name or Artist Name"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Project/Album Name"}),i.jsx("input",{name:"projectName",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"e.g. Midnight Sessions EP"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Effective Date *"}),i.jsx("input",{name:"effectiveDate",type:"date",required:!0,onChange:x,className:"input-field w-full p-3 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Delivery Date"}),i.jsx("input",{name:"deliveryDate",type:"date",onChange:x,className:"input-field w-full p-3 rounded"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"BPM"}),i.jsx("input",{name:"bpm",type:"number",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"120"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Key"}),i.jsxs("select",{name:"key",onChange:x,className:"input-field w-full p-3 rounded",children:[i.jsx("option",{value:"",children:"Select Key"}),i.jsx("option",{value:"C",children:"C Major"}),i.jsx("option",{value:"C#",children:"C# Major"}),i.jsx("option",{value:"D",children:"D Major"}),i.jsx("option",{value:"D#",children:"D# Major"}),i.jsx("option",{value:"E",children:"E Major"}),i.jsx("option",{value:"F",children:"F Major"}),i.jsx("option",{value:"F#",children:"F# Major"}),i.jsx("option",{value:"G",children:"G Major"}),i.jsx("option",{value:"G#",children:"G# Major"}),i.jsx("option",{value:"A",children:"A Major"}),i.jsx("option",{value:"A#",children:"A# Major"}),i.jsx("option",{value:"B",children:"B Major"}),i.jsx("option",{value:"Cm",children:"C Minor"}),i.jsx("option",{value:"Dm",children:"D Minor"}),i.jsx("option",{value:"Em",children:"E Minor"}),i.jsx("option",{value:"Fm",children:"F Minor"}),i.jsx("option",{value:"Gm",children:"G Minor"}),i.jsx("option",{value:"Am",children:"A Minor"}),i.jsx("option",{value:"Bm",children:"B Minor"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Genre"}),i.jsx("input",{name:"genre",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"e.g. Hip Hop, R&B, Pop"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Address"}),i.jsx("input",{name:"producerAddress",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Address"}),i.jsx("input",{name:"artistAddress",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"Full Legal Address"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Email"}),i.jsx("input",{name:"producerEmail",type:"email",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"producer@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Email"}),i.jsx("input",{name:"artistEmail",type:"email",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"artist@example.com"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Producer Phone"}),i.jsx("input",{name:"producerPhone",type:"tel",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Artist Phone"}),i.jsx("input",{name:"artistPhone",type:"tel",onChange:x,className:"input-field w-full p-3 rounded",placeholder:"+1 (555) 123-4567"})]})]}),b&&i.jsxs("div",{className:"card p-4 rounded-lg bg-theme-tertiary",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Additional Fields"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.fields.includes("exclusiveFee")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Fee ($)"}),i.jsx("input",{name:"exclusiveFee",type:"number",onChange:x,className:"input-field w-full p-3 rounded"})]}),f.fields.includes("masterShare")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Master Royalty (%)"}),i.jsx("input",{name:"masterShare",type:"number",onChange:x,className:"input-field w-full p-3 rounded"})]}),f.fields.includes("buyoutAmount")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Buyout Amount ($)"}),i.jsx("input",{name:"buyoutAmount",type:"number",onChange:x,className:"input-field w-full p-3 rounded"})]}),f.fields.includes("originalDate")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Original Agreement Date"}),i.jsx("input",{name:"originalAgreementDate",type:"date",onChange:x,className:"input-field w-full p-3 rounded"})]})]})]}),i.jsxs("div",{className:"card p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-bold text-theme-secondary uppercase",children:"Additional Collaborators"}),i.jsx("button",{type:"button",onClick:y,className:"text-sm bg-theme-accent text-white px-3 py-1 rounded hover:bg-accent/80",children:"+ Add Party"})]}),i.jsx("div",{className:"space-y-2",children:o.map(k=>i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx("input",{type:"text",placeholder:"Full Legal Name",value:k.name,onChange:C=>S(k.id,"name",C.target.value),className:"flex-1 input-field p-2 rounded text-sm"}),i.jsx("input",{type:"text",placeholder:"Role (e.g. Writer)",value:k.role,onChange:C=>S(k.id,"role",C.target.value),className:"w-24 input-field p-2 rounded text-sm"}),i.jsx("input",{type:"number",placeholder:"Split %",value:k.split,onChange:C=>S(k.id,"split",C.target.value),className:"w-16 input-field p-2 rounded text-sm"}),i.jsx("button",{type:"button",onClick:()=>v(k.id),className:"text-red-500 hover:text-red-700",children:""})]},k.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-theme-secondary uppercase mb-2",children:"Custom Clauses / Provisions"}),i.jsx("textarea",{name:"customTerms",rows:3,onChange:x,className:"input-field w-full p-3 rounded resize-none text-sm",placeholder:"Enter any specific terms or modifications..."})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{type:"button",onClick:()=>t(1),className:"px-6 py-3 bg-theme-tertiary rounded",children:"Back"}),i.jsx("button",{type:"submit",className:"flex-1 btn-primary font-bold py-3 rounded",children:"Generate Agreement"})]})]})]}),e===3&&i.jsx("div",{children:i.jsx("div",{className:"card p-8 rounded-xl",children:h?i.jsx("div",{className:"text-center py-12",children:i.jsx("div",{className:"animate-pulse text-accent font-medium",children:"Finalizing legal language..."})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Agreement Generated!"}),i.jsx("button",{className:"btn-primary px-4 py-2 rounded",children:"Download PDF"})]}),i.jsx("div",{className:"bg-white text-gray-800 p-8 rounded-lg font-serif text-sm max-h-96 overflow-y-auto",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:c}})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:g,className:"text-accent hover:underline",children:"Create Another Agreement"})})]})})})]})]})}function Kk(){var P,j;const[e,t]=w.useState(!1),[n,s]=w.useState(""),[r,a]=w.useState(""),[o,l]=w.useState(!0),[c,u]=w.useState([]),[h,m]=w.useState([]),[d,x]=w.useState(null),[y,v]=w.useState([]),[S,p]=w.useState("overview");w.useEffect(()=>{g()},[]);async function g(){try{(await fetch("/api/admin/check")).ok&&(t(!0),k())}catch(E){console.error("Auth check failed:",E)}finally{l(!1)}}async function f(E){E.preventDefault(),a("");try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})})).ok?(t(!0),k()):a("Invalid password")}catch{a("Login failed")}}async function b(){await fetch("/api/admin/logout",{method:"POST"}),t(!1),u([]),m([]),x(null)}async function k(){try{const[E,T,M,I]=await Promise.all([fetch("/api/admin/users"),fetch("/api/admin/projects"),fetch("/api/admin/stats"),fetch("/api/admin/submissions")]);if(E.ok&&u(await E.json()),T.ok&&m(await T.json()),M.ok&&x(await M.json()),I.ok){const $=await I.json();v($.submissions||[])}}catch(E){console.error("Failed to load data:",E)}}async function C(E,T,M){try{(await fetch(`/api/admin/submissions/${E}/review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:T,adminNotes:M})})).ok&&k()}catch(I){console.error("Failed to review submission:",I)}}return o?i.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:i.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):e?i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx("header",{className:"border-b border-theme p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center text-white font-bold text-sm",children:"A"}),i.jsx("span",{className:"text-red-400 font-bold",children:"ADMIN DASHBOARD"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(et,{href:"/",className:"text-gray-500 hover:text-white text-sm",children:"View Site"}),i.jsx("button",{onClick:b,className:"text-gray-500 hover:text-red-400 text-sm",children:"Logout"})]})]})}),i.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[i.jsx("div",{className:"flex gap-2 mb-6",children:["overview","users","projects","submissions"].map(E=>i.jsx("button",{onClick:()=>p(E),className:`px-4 py-2 rounded text-sm ${S===E?"bg-red-500 text-white":"bg-gray-800 text-gray-400"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),S==="overview"&&d&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Platform Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-red-400",children:d.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total Users"})]}),i.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-accent",children:d.totalProjects}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total Projects"})]}),i.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-blue-400",children:((P=d.projectsByStatus)==null?void 0:P.development)||0}),i.jsx("p",{className:"text-xs text-gray-500",children:"In Development"})]}),i.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-green-400",children:((j=d.projectsByStatus)==null?void 0:j.published)||0}),i.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Projects by Status"}),i.jsx("div",{className:"space-y-2",children:Object.entries(d.projectsByStatus||{}).map(([E,T])=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 capitalize",children:E}),i.jsx("span",{className:"text-white",children:T})]},E))})]})]}),S==="users"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-xl font-bold",children:["All Users (",c.length,")"]}),i.jsxs("div",{className:"space-y-2",children:[c.map(E=>i.jsxs("div",{className:"card p-4 rounded-xl flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold",children:[E.firstName," ",E.lastName]}),i.jsx("p",{className:"text-sm text-gray-500",children:E.email})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),i.jsx("p",{className:"text-sm",children:new Date(E.createdAt).toLocaleDateString()})]})]},E.id)),c.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users yet"})]})]}),S==="projects"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-xl font-bold",children:["All Projects (",h.length,")"]}),i.jsxs("div",{className:"space-y-2",children:[h.map(E=>i.jsx("div",{className:"card p-4 rounded-xl",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:`status-${E.status} px-2 py-1 rounded text-xs uppercase`,children:E.status}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold",children:E.title}),i.jsx("p",{className:"text-xs text-gray-500",children:E.type})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["User: ",E.userId.slice(0,8),"..."]}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]})]})},E.id)),h.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No projects yet"})]})]}),S==="submissions"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Community Submissions"}),i.jsxs("div",{className:"space-y-4",children:[y.map(E=>{var T;return i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-400 uppercase",children:E.noteCategory}),i.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${E.status==="pending"?"bg-yellow-500/20 text-yellow-400":E.status==="approved"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:E.status})]}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm mb-4 whitespace-pre-wrap",children:E.noteContent}),((T=E.noteTags)==null?void 0:T.length)>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:E.noteTags.map((M,I)=>i.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["#",M]},I))}),E.status==="pending"&&i.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-700",children:[i.jsx("button",{onClick:()=>C(E.id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve"}),i.jsx("button",{onClick:()=>C(E.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject"})]})]},E.id)}),y.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No submissions yet"})]})]})]})]}):i.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:i.jsxs("div",{className:"card p-8 rounded-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),i.jsx("span",{className:"text-xl font-bold",children:"Admin Access"})]}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Admin Password"}),i.jsx("input",{type:"password",value:n,onChange:E=>s(E.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter admin password",required:!0})]}),r&&i.jsx("p",{className:"text-red-400 text-sm",children:r}),i.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white font-bold py-3 rounded hover:bg-red-600",children:"Login as Admin"})]}),i.jsx(et,{href:"/",className:"block text-center text-gray-500 hover:text-white mt-4 text-sm",children:"Back to Home"})]})})}function Gk(){const{user:e}=an(),[t,n]=w.useState(""),[s,r]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(null),[u,h]=w.useState(!1),[m,d]=w.useState((e==null?void 0:e.firstName)||(e==null?void 0:e.displayName)||""),[x,y]=w.useState(null),[v,S]=w.useState(!1);async function p(f){f.preventDefault(),y(null),S(!0);try{const b=await fetch("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:m})}),k=await b.json();b.ok?(y({type:"success",text:"Profile updated successfully"}),window.location.reload()):y({type:"error",text:k.message||"Failed to update profile"})}catch{y({type:"error",text:"Failed to update profile"})}finally{S(!1)}}async function g(f){if(f.preventDefault(),c(null),s!==a){c({type:"error",text:"New passwords do not match"});return}if(s.length<6){c({type:"error",text:"Password must be at least 6 characters"});return}h(!0);try{const b=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:s})}),k=await b.json();b.ok?(c({type:"success",text:"Password changed successfully"}),n(""),r(""),o("")):c({type:"error",text:k.message||"Failed to change password"})}catch{c({type:"error",text:"Failed to change password"})}finally{h(!1)}}return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-2xl mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-theme-primary",children:"Settings"}),i.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Your BOX Code"}),i.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg mb-4",children:[i.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Share this code for collaborations and connections"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("code",{className:"text-2xl font-mono font-bold text-accent tracking-wider",children:(e==null?void 0:e.boxCode)||"Generating..."}),i.jsx("button",{onClick:()=>{e!=null&&e.boxCode&&(navigator.clipboard.writeText(e.boxCode),alert("BOX code copied to clipboard!"))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),i.jsx("p",{className:"text-xs text-theme-muted mt-3",children:(e==null?void 0:e.role)==="studio"?"Artists can use this code to join your network when they sign up.":"Share this code with studios or other artists to connect and collaborate."})]})]}),i.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Account Information"}),i.jsxs("div",{className:"space-y-2 text-theme-secondary mb-4",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-theme-muted",children:"Email:"})," ",(e==null?void 0:e.email)||"N/A"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-theme-muted",children:"Role:"})," ",(e==null?void 0:e.role)==="studio"?"Studio / Business":"Artist"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-theme-muted",children:"Account Type:"})," ",(e==null?void 0:e.authType)==="email"?"Email/Password":"OAuth"]})]}),x&&i.jsx("div",{className:`p-3 rounded mb-4 ${x.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:x.text}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Display Name"}),i.jsx("input",{type:"text",value:m,onChange:f=>d(f.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter your display name"})]}),i.jsx("button",{type:"submit",disabled:v,className:"btn-primary py-2 px-4 rounded font-bold disabled:opacity-50",children:v?"Saving...":"Save Profile"})]})]}),(e==null?void 0:e.authType)==="email"&&i.jsxs("section",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Change Password"}),l&&i.jsx("div",{className:`p-3 rounded mb-4 ${l.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.text}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Current Password"}),i.jsx("input",{type:"password",value:t,onChange:f=>n(f.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"New Password"}),i.jsx("input",{type:"password",value:s,onChange:f=>r(f.target.value),className:"input-field w-full p-3 rounded",required:!0,minLength:6})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Confirm New Password"}),i.jsx("input",{type:"password",value:a,onChange:f=>o(f.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full py-3 rounded font-bold disabled:opacity-50",children:u?"Changing...":"Change Password"})]})]}),(e==null?void 0:e.authType)!=="email"&&i.jsxs("section",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Password"}),i.jsx("p",{className:"text-theme-muted",children:"You signed in with OAuth (Google, GitHub, etc.). Password management is handled by your OAuth provider."})]})]})]})}function Hk(){const{isAuthenticated:e}=an(),[t,n]=w.useState([]),[s,r]=w.useState(!0),[a,o]=w.useState(null),[l,c]=w.useState([]),[u,h]=w.useState(""),[m,d]=w.useState(new Set);w.useEffect(()=>{x(),e&&y()},[e]);async function x(){try{const f=await fetch("/api/community");if(f.ok){const b=await f.json();n(b.content||[])}}catch(f){console.error("Failed to load community content:",f)}finally{r(!1)}}async function y(){try{const f=await fetch("/api/community/my-favorites");if(f.ok){const b=await f.json();d(new Set(b.favoriteIds||[]))}}catch(f){console.error("Failed to load favorites:",f)}}async function v(f){try{const b=await fetch(`/api/community/${f}/comments`);if(b.ok){const k=await b.json();c(k.comments||[])}}catch(b){console.error("Failed to load comments:",b)}}async function S(f){if(!e){alert("Please sign in to favorite content");return}try{const b=await fetch(`/api/community/${f}/favorite`,{method:"POST"});if(b.ok){const k=await b.json();d(C=>{const P=new Set(C);return k.favorited?P.add(f):P.delete(f),P}),x()}}catch(b){console.error("Failed to toggle favorite:",b)}}async function p(){if(!(!e||!a||!u.trim()))try{(await fetch(`/api/community/${a.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:u.trim()})})).ok&&(h(""),v(a.id),x())}catch(f){console.error("Failed to add comment:",f)}}function g(f){if(!f)return null;if(f.includes("youtube.com")||f.includes("youtu.be")){const b=f.includes("youtu.be")?f.split("/").pop():new URLSearchParams(new URL(f).search).get("v");if(b)return i.jsx("div",{className:"aspect-video mb-3",children:i.jsx("iframe",{src:`https://www.youtube.com/embed/${b}`,className:"w-full h-full rounded",allowFullScreen:!0})})}if(f.includes("spotify.com")){const b=f.replace("spotify.com","spotify.com/embed");return i.jsx("div",{className:"mb-3",children:i.jsx("iframe",{src:b,width:"100%",height:"152",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",className:"rounded"})})}return f.match(/\.(jpg|jpeg|png|gif|webp)$/i)||f.includes("/object-storage/")?i.jsx("div",{className:"mb-3",children:i.jsx("img",{src:f,alt:"Media",className:"w-full h-auto rounded max-h-64 object-cover"})}):null}return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Community"}),i.jsx("p",{className:"text-theme-muted",children:"Creative work shared by BOX members"})]}),s?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):t.length===0?i.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No shared content yet. Be the first to share!"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(f=>{var b,k;return i.jsxs("div",{className:"card p-4 rounded-xl",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"text-xs text-theme-muted uppercase",children:f.noteCategory}),i.jsx("span",{className:"text-xs text-theme-muted",children:new Date(f.approvedAt).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3",children:f.noteContent}),((b=f.noteMediaUrls)==null?void 0:b[0])&&g(f.noteMediaUrls[0]),((k=f.noteTags)==null?void 0:k.length)>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:f.noteTags.map((C,P)=>i.jsxs("span",{className:"text-xs bg-theme-tertiary px-2 py-0.5 rounded",children:["#",C]},P))}),i.jsx("div",{className:"flex justify-between items-center pt-3 border-t border-theme",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>S(f.id),className:`text-sm flex items-center gap-1 ${m.has(f.id)?"text-accent":"text-theme-muted hover:text-theme-primary"}`,children:[m.has(f.id)?"":""," ",f.favoritesCount]}),i.jsxs("button",{onClick:()=>{o(f),v(f.id)},className:"text-sm text-theme-muted hover:text-theme-primary flex items-center gap-1",children:[" ",f.commentsCount]})]})})]},f.id)})}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-theme-secondary rounded-xl w-full max-w-lg max-h-[80vh] overflow-y-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-theme-primary",children:"Comments"}),i.jsx("button",{onClick:()=>o(null),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),i.jsx("div",{className:"mb-4 p-4 bg-theme-tertiary rounded",children:i.jsx("p",{className:"text-sm",children:a.noteContent})}),i.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:l.length===0?i.jsx("p",{className:"text-theme-muted text-sm text-center py-4",children:"No comments yet"}):l.map(f=>i.jsxs("div",{className:"p-3 bg-theme-tertiary rounded",children:[i.jsx("p",{className:"text-sm",children:f.content}),i.jsx("p",{className:"text-xs text-theme-muted mt-1",children:new Date(f.createdAt).toLocaleDateString()})]},f.id))}),e&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:u,onChange:f=>h(f.target.value),placeholder:"Add a comment...",className:"input-field flex-1 p-2 rounded text-sm",onKeyDown:f=>f.key==="Enter"&&p()}),i.jsx("button",{onClick:p,className:"btn-primary px-4 py-2 rounded text-sm",disabled:!u.trim(),children:"Post"})]})]})})]})]})}const Qk=[{id:"overview",label:"Overview"},{id:"copyright",label:"Copyright"},{id:"identifiers",label:"Global IDs"},{id:"pro",label:"PROs"},{id:"workflow",label:"IP Workflow"}];function Xk(){const[e,t]=w.useState("overview");return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Documentation"}),i.jsx("p",{className:"text-theme-secondary",children:"Reference guide for protecting and monetizing your creative work"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",children:Qk.map(n=>i.jsx("button",{onClick:()=>t(n.id),className:`px-4 py-2 rounded text-sm whitespace-nowrap transition-colors ${e===n.id?"btn-primary":"bg-theme-tertiary text-theme-secondary hover:text-theme-primary"}`,children:n.label},n.id))}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[e==="overview"&&i.jsx(Yk,{}),e==="copyright"&&i.jsx(qk,{}),e==="identifiers"&&i.jsx(Zk,{}),e==="pro"&&i.jsx(Jk,{}),e==="workflow"&&i.jsx(eC,{})]})]})]})}function Yk(){return i.jsxs("div",{className:"space-y-6 text-theme-primary",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Protecting Your Creative Work"}),i.jsx("p",{className:"text-theme-secondary leading-relaxed",children:"As an independent music artist, protecting your intellectual property is essential for building a sustainable career. This guide walks you through the key steps to register, protect, and monetize your creative work."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Why This Matters"}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[i.jsx("li",{children:"- Prove ownership of your work"}),i.jsx("li",{children:"- Collect royalties from streams and plays"}),i.jsx("li",{children:"- Protect against unauthorized use"}),i.jsx("li",{children:"- Enable licensing opportunities"})]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Key Components"}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[i.jsx("li",{children:"- Copyright registration"}),i.jsx("li",{children:"- PRO membership (BMI/ASCAP)"}),i.jsx("li",{children:"- Global identifiers (ISRC, UPC, ISWC)"}),i.jsx("li",{children:"- Distribution platform"})]})]})]})]})}function qk(){return i.jsxs("div",{className:"space-y-6 text-theme-primary",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Copyright Registration"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"What is Copyright?"}),i.jsxs("p",{className:"text-theme-secondary leading-relaxed",children:["Copyright is automatic protection that exists the moment you create an original work in a fixed form (recording, written notation, etc.). However, ",i.jsx("strong",{children:"registering"})," your copyright with the U.S. Copyright Office provides additional legal benefits."]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h4",{className:"font-bold mb-2",children:"Benefits of Registration"}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Public Record:"})," Creates official documentation of ownership"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legal Standing:"})," Required to sue for infringement in federal court"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Statutory Damages:"})," Eligible for up to $150,000 per work if registered before infringement"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Attorney's Fees:"})," Can recover legal costs in successful lawsuits"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Two Copyrights Per Song"}),i.jsx("p",{className:"text-theme-secondary mb-3",children:"Every song has two separate copyrights that can be registered:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h4",{className:"font-bold mb-1",children:"PA (Performing Arts)"}),i.jsx("p",{className:"text-sm text-theme-secondary",children:'Covers the underlying musical composition - the melody, lyrics, and arrangement. This is the "song" itself, separate from any recording.'}),i.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $45"})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h4",{className:"font-bold mb-1",children:"SR (Sound Recording)"}),i.jsx("p",{className:"text-sm text-theme-secondary",children:"Covers the specific recorded performance - the actual audio file. This protects the production, vocals, and instrumentation as recorded."}),i.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $65"})]})]})]}),i.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[i.jsx("h4",{className:"font-bold mb-2",children:"How to Register"}),i.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[i.jsxs("li",{children:["1. Visit ",i.jsx("strong",{children:"copyright.gov"})]}),i.jsx("li",{children:"2. Create an account or log in"}),i.jsx("li",{children:'3. Select "Register a Work"'}),i.jsx("li",{children:"4. Choose PA or SR form"}),i.jsx("li",{children:"5. Complete the application and upload your work"}),i.jsx("li",{children:"6. Pay the filing fee ($45-$65)"})]}),i.jsx("p",{className:"text-xs text-theme-muted mt-3",children:"Processing time: 3-10 months"})]})]})]})}function Zk(){return i.jsxs("div",{className:"space-y-6 text-theme-primary",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Global Identifiers"}),i.jsx("p",{className:"text-theme-secondary mb-4",children:"Global identifiers are unique codes that help track, report, and pay royalties for your music across platforms worldwide."}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISRC (International Standard Recording Code)"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A unique 12-character code assigned to each specific recording of a song."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Format:"}),i.jsx("p",{className:"font-mono",children:"CC-XXX-YY-NNNNN"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Example:"}),i.jsx("p",{className:"font-mono",children:"US-S1Z-21-00001"})]})]}),i.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Who assigns:"})," Distributors (DistroKid, TuneCore, CD Baby) or you can register as an ISRC manager"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cost:"})," Usually free through distributors"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Used for:"})," Tracking streams, radio plays, and generating royalty reports"]})]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"UPC (Universal Product Code)"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A barcode for your release (single, EP, or album) - not individual tracks."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Format:"}),i.jsx("p",{className:"font-mono",children:"12-digit number"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Example:"}),i.jsx("p",{className:"font-mono",children:"012345678901"})]})]}),i.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Who assigns:"})," Distributors typically provide these free"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cost:"})," Usually included with distribution"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Used for:"})," Retail tracking, chart reporting, and sales data"]})]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISWC (International Standard Musical Work Code)"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Identifies the underlying composition (not the recording) - the songwriting."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Format:"}),i.jsx("p",{className:"font-mono",children:"T-NNNNNNNNN-C"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted",children:"Example:"}),i.jsx("p",{className:"font-mono",children:"T-070237182-1"})]})]}),i.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Who assigns:"})," Your PRO (BMI, ASCAP, SESAC) when you register the work"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Cost:"})," Free through PRO membership"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Used for:"})," Tracking performance royalties globally"]})]})]}),i.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[i.jsx("h4",{className:"font-bold mb-2",children:"Quick Reference"}),i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-theme-muted",children:[i.jsx("th",{className:"text-left py-1",children:"ID"}),i.jsx("th",{className:"text-left py-1",children:"Covers"}),i.jsx("th",{className:"text-left py-1",children:"Get From"})]})}),i.jsxs("tbody",{className:"text-theme-secondary",children:[i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 font-mono",children:"ISRC"}),i.jsx("td",{className:"py-1",children:"Recording"}),i.jsx("td",{className:"py-1",children:"Distributor"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 font-mono",children:"UPC"}),i.jsx("td",{className:"py-1",children:"Release"}),i.jsx("td",{className:"py-1",children:"Distributor"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-1 font-mono",children:"ISWC"}),i.jsx("td",{className:"py-1",children:"Composition"}),i.jsx("td",{className:"py-1",children:"PRO"})]})]})]})]})]})]})}function Jk(){return i.jsxs("div",{className:"space-y-6 text-theme-primary",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Performance Rights Organizations (PROs)"}),i.jsx("p",{className:"text-theme-secondary mb-4",children:"PROs collect royalties when your music is publicly performed - radio, TV, venues, streaming, and more. You must join one to collect these royalties."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"BMI"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Broadcast Music, Inc. - One of the largest PROs in the US."}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Cost:"})," FREE for songwriters"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Publisher fee:"})," $150 (one-time)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payout:"})," Quarterly"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Website:"})," bmi.com"]})]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"ASCAP"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"American Society of Composers, Authors and Publishers."}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Cost:"})," $50 (one-time)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Publisher fee:"})," $50 (one-time)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payout:"})," Quarterly"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Website:"})," ascap.com"]})]})]})]}),i.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"SESAC"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Invitation-only PRO that represents select artists."}),i.jsxs("ul",{className:"text-sm text-theme-secondary",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Cost:"})," Free (by invitation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Note:"})," Smaller roster, more personalized service"]})]})]}),i.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[i.jsx("h4",{className:"font-bold mb-2",children:"Important Notes"}),i.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Choose one:"})," You can only be a member of ONE PRO at a time"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Register works:"})," After joining, you must register each song to collect royalties"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Co-writers:"})," Each co-writer needs their own PRO membership"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Publishing:"})," Consider registering as your own publisher to collect both writer AND publisher share"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Royalty Types PROs Collect"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Radio Airplay","TV/Film Sync","Live Venues","Streaming","Retail/Restaurants","Digital Radio","Airlines","Hotels"].map(e=>i.jsx("div",{className:"bg-theme-tertiary p-2 rounded text-center text-sm text-theme-secondary",children:e},e))})]})]})}function eC(){const e=[{step:1,title:"Fix Your Work",description:"Record or document your music in a tangible form (audio file, sheet music, written lyrics).",cost:"FREE",time:"Immediate",tips:["Keep dated backups","Email yourself a copy for timestamp","Store securely"]},{step:2,title:"Register Copyright",description:"File with the U.S. Copyright Office to create an official public record of ownership.",cost:"$45-$65",time:"3-10 months",tips:["Register PA for composition","Register SR for recording","Can register multiple works together"]},{step:3,title:"Join a PRO",description:"Sign up with BMI, ASCAP, or SESAC to collect performance royalties.",cost:"FREE-$50",time:"1-2 weeks",tips:["BMI is free for writers","ASCAP is $50 one-time","Only join ONE PRO"]},{step:4,title:"Register Your Composition",description:"Register your songs with your PRO to receive an ISWC and start collecting royalties.",cost:"FREE",time:"2-4 weeks",tips:["Include all co-writers","Add accurate metadata","Update if info changes"]},{step:5,title:"Upload to Distributor",description:"Use a distributor (DistroKid, TuneCore, CD Baby) to get on Spotify, Apple Music, etc.",cost:"$0-$30/year",time:"1-2 weeks",tips:["You'll get ISRC and UPC codes","Set a release date","Prepare artwork (3000x3000)"]},{step:6,title:"Release & Monitor",description:"Track your streams, royalties, and usage across platforms.",cost:"FREE",time:"Ongoing",tips:["Check PRO statements quarterly","Monitor distributor dashboard","Track with BOX"]}];return i.jsxs("div",{className:"space-y-6 text-theme-primary",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"IP Protection Workflow"}),i.jsx("p",{className:"text-theme-secondary mb-6",children:"Follow these 6 steps to fully protect and monetize your music. Each step builds on the previous one."}),i.jsx("div",{className:"space-y-4",children:e.map(t=>i.jsx("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full btn-primary flex items-center justify-center font-bold",children:t.step}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-bold text-lg",children:t.title}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.cost}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.time})]}),i.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:t.description}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.tips.map((n,s)=>i.jsx("span",{className:"text-xs bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:n},s))})]})]})},t.step))}),i.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent mt-6",children:[i.jsx("h4",{className:"font-bold mb-2",children:"Pro Tip: Track Everything in BOX"}),i.jsx("p",{className:"text-sm text-theme-secondary",children:"Use your project pages to store all identifiers (ISRC, UPC, ISWC, copyright registration numbers) and track which steps you've completed for each release."})]})]})}function tC(){const{user:e}=an(),[t,n]=w.useState([]),[s,r]=w.useState(null),[a,o]=w.useState([]),[l,c]=w.useState(""),[u,h]=w.useState(!0),[m,d]=w.useState(!1),[x,y]=w.useState(""),[v,S]=w.useState(""),[p,g]=w.useState("roster");w.useEffect(()=>{f()},[]);async function f(){try{const j=await fetch("/api/studio/artists");if(j.ok){const E=await j.json();n(E.artists||[])}}catch(j){console.error("Failed to load artists:",j)}finally{h(!1)}}async function b(j){try{const E=await fetch(`/api/studio/artists/${j}/projects`);if(E.ok){const T=await E.json();o(T.projects||[])}}catch(E){console.error("Failed to load artist projects:",E)}}async function k(j){j.preventDefault(),y(""),S(""),d(!0);try{const E=await fetch("/api/studio/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l})}),T=await E.json();E.ok?(S("Invitation sent successfully!"),c(""),f()):y(T.message||"Failed to send invitation")}catch{y("Failed to send invitation")}finally{d(!1)}}async function C(j,E){try{(await fetch(`/api/studio/projects/${j}/feature`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featured:!E})})).ok&&s&&b(s.artistId)}catch(T){console.error("Failed to toggle featured status:",T)}}async function P(j){if(confirm("Are you sure you want to remove this artist from your roster?"))try{(await fetch(`/api/studio/artists/${j}`,{method:"DELETE"})).ok&&(f(),r(null),o([]))}catch(E){console.error("Failed to remove artist:",E)}}return(e==null?void 0:e.role)!=="studio"?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-theme-muted mb-4",children:"Studio access only"}),i.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})}):i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.businessName||"Studio Dashboard"}),i.jsx("p",{className:"text-theme-secondary",children:"Manage your artist roster and curate your portfolio"}),i.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg inline-block",children:[i.jsx("p",{className:"text-xs text-theme-muted mb-1",children:"Your Studio Code"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("code",{className:"text-xl font-mono font-bold text-accent tracking-wider",children:e.boxCode||"Loading..."}),i.jsx("button",{onClick:()=>{e.boxCode&&(navigator.clipboard.writeText(e.boxCode),S("Code copied!"),setTimeout(()=>S(""),2e3))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),i.jsx("p",{className:"text-xs text-theme-muted mt-2",children:"Share this code with artists to join your network during signup"})]})]}),i.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme pb-2",children:[i.jsx("button",{onClick:()=>g("roster"),className:`px-4 py-2 rounded-t-lg transition-colors ${p==="roster"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Artist Roster"}),i.jsx("button",{onClick:()=>g("portfolio"),className:`px-4 py-2 rounded-t-lg transition-colors ${p==="portfolio"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Portfolio"}),i.jsx("button",{onClick:()=>g("settings"),className:`px-4 py-2 rounded-t-lg transition-colors ${p==="settings"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Settings"})]}),p==="roster"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Invite Artist"}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsx("input",{type:"email",value:l,onChange:j=>c(j.target.value),className:"input-field w-full p-3 rounded",placeholder:"artist@email.com",required:!0}),x&&i.jsx("p",{className:"text-red-400 text-sm",children:x}),v&&i.jsx("p",{className:"text-green-400 text-sm",children:v}),i.jsx("button",{type:"submit",disabled:m,className:"w-full btn-primary py-3 rounded-lg font-bold disabled:opacity-50",children:m?"Sending...":"Send Invitation"})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsxs("h2",{className:"text-lg font-bold text-accent mb-4",children:["Your Roster (",t.filter(j=>j.status==="accepted").length,")"]}),u?i.jsx("p",{className:"text-theme-muted",children:"Loading..."}):t.length===0?i.jsx("p",{className:"text-theme-muted text-sm",children:"No artists yet. Invite some to get started!"}):i.jsx("div",{className:"space-y-3",children:t.map(j=>i.jsx("div",{onClick:()=>{j.status==="accepted"&&j.artistId&&(r(j),b(j.artistId))},className:`p-3 rounded-lg cursor-pointer transition-colors ${(s==null?void 0:s.id)===j.id?"bg-theme-tertiary border border-accent":"bg-theme-secondary hover:bg-theme-tertiary"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:j.artistName||j.inviteEmail}),i.jsx("p",{className:"text-theme-muted text-xs",children:j.status==="pending"?"Pending invite":`${j.projectCount} projects`})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${j.status==="accepted"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:j.status})]})},j.id))})]})]}),i.jsx("div",{className:"lg:col-span-2",children:s?i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:s.artistName}),i.jsx("p",{className:"text-theme-muted text-sm",children:s.artistEmail})]}),i.jsx("button",{onClick:()=>P(s.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove from roster"})]}),i.jsx("h3",{className:"font-bold text-accent mb-4",children:"Projects"}),a.length===0?i.jsx("p",{className:"text-theme-muted text-sm",children:"No projects yet"}):i.jsx("div",{className:"space-y-3",children:a.map(j=>i.jsxs("div",{className:"p-4 bg-theme-secondary rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold",children:j.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-theme-muted text-xs",children:j.type}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${j.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:j.status})]})]}),i.jsx("button",{onClick:()=>C(j.id,j.isFeatured),className:`px-3 py-1.5 rounded text-sm transition-colors ${j.isFeatured?"bg-accent text-accent-contrast font-bold":"bg-theme-tertiary text-theme-muted hover:text-theme-primary"}`,children:j.isFeatured?"Featured":"Feature"})]},j.id))})]}):i.jsx("div",{className:"card p-6 rounded-xl text-center",children:i.jsx("p",{className:"text-theme-muted",children:"Select an artist to view their projects"})})})]}),p==="portfolio"&&i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Work"}),i.jsx("p",{className:"text-theme-muted text-sm mb-6",children:"These projects will appear on your public portfolio page."}),i.jsx(et,{href:`/portfolio/${e.id}`,className:"text-accent hover:underline text-sm",children:"View public portfolio "})]}),p==="settings"&&i.jsxs("div",{className:"card p-6 rounded-xl max-w-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Studio Settings"}),i.jsx("p",{className:"text-theme-muted text-sm",children:"Update your studio profile in the Settings page."}),i.jsx(et,{href:"/settings",className:"inline-block mt-4 btn-primary px-4 py-2 rounded-lg text-sm",children:"Go to Settings"})]})]})]})}function nC(){const{id:e}=To(),{theme:t,toggleTheme:n}=Mi(),[s,r]=w.useState(null),[a,o]=w.useState([]),[l,c]=w.useState([]),[u,h]=w.useState(!0);w.useEffect(()=>{m()},[e]);async function m(){try{const d=await fetch(`/api/portfolio/${e}`);if(d.ok){const x=await d.json();r(x.studio),o(x.featuredProjects||[]),c(x.roster||[])}}catch(d){console.error("Failed to load portfolio:",d)}finally{h(!1)}}return u?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):s?i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx("header",{className:"border-b border-theme p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(et,{href:"/",children:i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"})}),i.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),i.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]})]})}),i.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.businessName}),s.businessBio&&i.jsx("p",{className:"text-theme-secondary max-w-2xl mx-auto",children:s.businessBio})]}),l.length>0&&i.jsxs("section",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Artist Roster"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(d=>{var x;return i.jsxs("div",{className:"card p-4 rounded-xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-theme-tertiary mx-auto mb-3 flex items-center justify-center",children:i.jsx("span",{className:"text-2xl font-bold text-accent",children:((x=d.displayName)==null?void 0:x.charAt(0))||"?"})}),i.jsx("p",{className:"font-bold",children:d.displayName}),i.jsxs("p",{className:"text-theme-muted text-xs",children:[d.projectCount," projects"]})]},d.id)})})]}),a.length>0&&i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Featured Work"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(d=>i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:d.type}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${d.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:d.status})]}),i.jsx("h3",{className:"text-lg font-bold mb-2",children:d.title}),i.jsxs("p",{className:"text-theme-muted text-sm mb-3",children:["by ",d.artistName]}),d.description&&i.jsx("p",{className:"text-theme-secondary text-sm line-clamp-3",children:d.description})]},d.id))})]}),a.length===0&&l.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-theme-muted",children:"No content to display yet"})})]}),i.jsx("footer",{className:"border-t border-theme p-6 mt-12",children:i.jsx("div",{className:"max-w-6xl mx-auto text-center text-theme-muted text-sm",children:i.jsx("p",{children:"Powered by BOX | luctheleo.com"})})})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-theme-muted mb-4",children:"Portfolio not found"}),i.jsx(et,{href:"/",className:"text-accent hover:underline",children:"Back to Home"})]})})}const da={mlc:{name:"The MLC",fullName:"The Mechanical Licensing Collective",description:"Bulk Work Registration for digital mechanical royalties in the U.S.",format:"csv",fields:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID","Alternative Titles"]},ascap_bmi:{name:"ASCAP/BMI",fullName:"MusicMark Electronic Batch Registration",description:"Performance royalties registration via MusicMark EBR system.",format:"csv",fields:["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"]},music_reports:{name:"Music Reports",fullName:"Songdex Catalog Template",description:"Licensing registration for platforms like TikTok and Amazon Music.",format:"csv",fields:["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"]},soundexchange:{name:"SoundExchange",fullName:"ISRC Ingest Form",description:"Digital performance royalties for master recordings.",format:"csv",fields:["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"]},hfa:{name:"Harry Fox Agency",fullName:"eSong Bulk Registration Template",description:"Mechanical royalties for reproductions (streaming, downloads, CDs). Excel template for bulk uploads.",format:"csv",fields:["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"]}};function sC(){const{user:e}=an(),[t,n]=w.useState([]),[s,r]=w.useState([]),[a,o]=w.useState(null),[l,c]=w.useState(!0),[u,h]=w.useState("select-platform");w.useEffect(()=>{m()},[]);async function m(){try{const P=await fetch("/api/projects");if(P.ok){const j=await P.json();n(j.projects||[])}}catch(P){console.error("Failed to load projects:",P)}finally{c(!1)}}function d(P){r(j=>j.includes(P)?j.filter(E=>E!==P):[...j,P])}function x(){r(t.map(P=>P.id))}function y(){r([])}function v(){if(!a)return"";const P=t.filter(E=>s.includes(E.id));let j="";switch(a){case"mlc":j=S(P);break;case"ascap_bmi":j=p(P);break;case"music_reports":j=g(P);break;case"soundexchange":j=f(P);break;case"hfa":j=b(P);break}return j}function S(P){const j=["Work Title","ISWC","Writers","Publishers","Ownership Percentage","PRO Work ID","Alternative Titles"],E=P.map(T=>{var M,I,$,H;return[T.title,((M=T.metadata)==null?void 0:M.iswc)||"",(((I=T.metadata)==null?void 0:I.writers)||[]).join("; "),((($=T.metadata)==null?void 0:$.publishers)||[]).join("; "),"100",((H=T.metadata)==null?void 0:H.proWorkId)||"",""]});return[j.join(","),...E.map(T=>T.map(M=>`"${M}"`).join(","))].join(`
`)}function p(P){const j=["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"],E=P.map(T=>{var M,I,$,H,U;return[T.title,(((M=T.metadata)==null?void 0:M.writers)||[]).join("; "),(((I=T.metadata)==null?void 0:I.publishers)||[]).join("; "),(($=T.metadata)==null?void 0:$.iswc)||"",((H=T.metadata)==null?void 0:H.duration)||"",((U=T.metadata)==null?void 0:U.genre)||"",""]});return[j.join(","),...E.map(T=>T.map(M=>`"${M}"`).join(","))].join(`
`)}function g(P){const j=["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"],E=P.map(T=>{var M,I,$,H,U,te,K;return[T.title,((M=T.metadata)==null?void 0:M.isrc)||"",((I=T.metadata)==null?void 0:I.iswc)||"",((($=T.metadata)==null?void 0:$.writers)||[]).join("; "),(((H=T.metadata)==null?void 0:H.publishers)||[]).join("; "),((U=T.metadata)==null?void 0:U.releaseDate)||"",((te=T.metadata)==null?void 0:te.duration)||"",((K=T.metadata)==null?void 0:K.upc)||""]});return[j.join(","),...E.map(T=>T.map(M=>`"${M}"`).join(","))].join(`
`)}function f(P){const j=["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"],E=P.map(T=>{var M,I,$,H;return[T.title,((M=T.metadata)==null?void 0:M.isrc)||"",(e==null?void 0:e.displayName)||"","",((I=T.metadata)==null?void 0:I.releaseDate)||"",(($=T.metadata)==null?void 0:$.duration)||"","",((H=T.metadata)==null?void 0:H.upc)||""]});return[j.join(","),...E.map(T=>T.map(M=>`"${M}"`).join(","))].join(`
`)}function b(P){const j=["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"],E=[];return P.forEach(T=>{var I,$;const M=((I=T.metadata)==null?void 0:I.writers)||[];if(M.length===0)E.push([T.title,"","","100",(($=T.metadata)==null?void 0:$.isrc)||"",(e==null?void 0:e.displayName)||"","",""]);else{const H=Math.floor(100/M.length);M.forEach((U,te)=>{var L;const K=U.trim().split(" "),R=K[0]||"",D=K.slice(1).join(" ")||"";E.push([T.title,R,D,String(H),((L=T.metadata)==null?void 0:L.isrc)||"",(e==null?void 0:e.displayName)||"","",""])})}}),[j.join(","),...E.map(T=>T.map(M=>`"${M}"`).join(","))].join(`
`)}function k(){if(!a)return;const P=v(),j=da[a],E=new Blob([P],{type:"text/csv;charset=utf-8;"}),T=URL.createObjectURL(E),M=document.createElement("a");M.href=T,M.download=`${j.name.replace(/\//g,"_")}_submission_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(T)}function C(){if(!a)return{headers:[],rows:[]};const P=t.filter(j=>s.includes(j.id));switch(a){case"mlc":return{headers:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID"],rows:P.map(j=>{var E,T,M,I;return[j.title,((E=j.metadata)==null?void 0:E.iswc)||"-",(((T=j.metadata)==null?void 0:T.writers)||[]).join("; ")||"-",(((M=j.metadata)==null?void 0:M.publishers)||[]).join("; ")||"-","100%",((I=j.metadata)==null?void 0:I.proWorkId)||"-"]})};case"ascap_bmi":return{headers:["Work Title","Writers","Publishers","ISWC","Duration","Genre"],rows:P.map(j=>{var E,T,M,I,$;return[j.title,(((E=j.metadata)==null?void 0:E.writers)||[]).join("; ")||"-",(((T=j.metadata)==null?void 0:T.publishers)||[]).join("; ")||"-",((M=j.metadata)==null?void 0:M.iswc)||"-",((I=j.metadata)==null?void 0:I.duration)||"-",(($=j.metadata)==null?void 0:$.genre)||"-"]})};case"music_reports":return{headers:["Song Title","ISRC","ISWC","Writers","Release Date","UPC"],rows:P.map(j=>{var E,T,M,I,$;return[j.title,((E=j.metadata)==null?void 0:E.isrc)||"-",((T=j.metadata)==null?void 0:T.iswc)||"-",(((M=j.metadata)==null?void 0:M.writers)||[]).join("; ")||"-",((I=j.metadata)==null?void 0:I.releaseDate)||"-",(($=j.metadata)==null?void 0:$.upc)||"-"]})};case"soundexchange":return{headers:["Recording Title","ISRC","Artist","Release Date","Duration","UPC"],rows:P.map(j=>{var E,T,M,I;return[j.title,((E=j.metadata)==null?void 0:E.isrc)||"-",(e==null?void 0:e.displayName)||"-",((T=j.metadata)==null?void 0:T.releaseDate)||"-",((M=j.metadata)==null?void 0:M.duration)||"-",((I=j.metadata)==null?void 0:I.upc)||"-"]})};case"hfa":return{headers:["Song Title","Writer First","Writer Last","Share","ISRC","Artist"],rows:P.flatMap(j=>{var M,I;const E=((M=j.metadata)==null?void 0:M.writers)||[];if(E.length===0)return[[j.title,"-","-","100",((I=j.metadata)==null?void 0:I.isrc)||"-",(e==null?void 0:e.displayName)||"-"]];const T=Math.floor(100/E.length);return E.map($=>{var U;const H=$.trim().split(" ");return[j.title,H[0]||"-",H.slice(1).join(" ")||"-",String(T),((U=j.metadata)==null?void 0:U.isrc)||"-",(e==null?void 0:e.displayName)||"-"]})})};default:return{headers:[],rows:[]}}}return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submission File Generator"}),i.jsx("p",{className:"text-theme-secondary",children:"Export your project data in industry-standard formats for royalty and rights platforms"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center md:justify-start",children:[i.jsx("button",{onClick:()=>h("select-platform"),className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="select-platform"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"}`,children:"1. Platform"}),i.jsx("button",{onClick:()=>a&&h("select-projects"),disabled:!a,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="select-projects"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"2. Projects"}),i.jsx("button",{onClick:()=>s.length>0&&h("preview"),disabled:s.length===0,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${u==="preview"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"3. Download"})]}),u==="select-platform"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Destination Platform"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(da).map(([P,j])=>i.jsxs("button",{onClick:()=>{o(P),h("select-projects")},className:`card p-6 rounded-xl text-left transition-all hover:border-accent ${a===P?"border-2 border-accent":"border border-theme"}`,children:[i.jsx("h3",{className:"text-lg font-bold text-accent mb-1",children:j.name}),i.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:j.fullName}),i.jsx("p",{className:"text-xs text-theme-muted mb-3",children:j.description}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.fields.slice(0,4).map((E,T)=>i.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:E},T)),j.fields.length>4&&i.jsxs("span",{className:"text-xs text-theme-muted",children:["+",j.fields.length-4," more"]})]})]},P))}),i.jsxs("div",{className:"card p-6 rounded-xl mt-8",children:[i.jsx("h3",{className:"text-lg font-bold mb-3",children:"About File Formats"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-accent mb-1",children:"CSV (Comma-Separated Values)"}),i.jsx("p",{className:"text-theme-muted",children:"User-friendly format for bulk uploads. Opens in Excel or Google Sheets. Recommended for independent artists and small publishers."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-accent mb-1",children:"CWR (Common Works Registration)"}),i.jsx("p",{className:"text-theme-muted",children:'Industry "gold standard" for large publishers. Machine-readable format requiring specialized software. Used for automated catalog registration.'})]})]})]})]}),u==="select-projects"&&a&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Select Projects to Export"}),i.jsxs("p",{className:"text-sm text-theme-muted",children:["Exporting for: ",i.jsx("span",{className:"text-accent",children:da[a].name})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:x,className:"text-sm text-accent hover:underline",children:"Select All"}),i.jsx("span",{className:"text-theme-muted",children:"|"}),i.jsx("button",{onClick:y,className:"text-sm text-theme-muted hover:underline",children:"Deselect All"})]})]}),l?i.jsx("p",{className:"text-theme-muted",children:"Loading projects..."}):t.length===0?i.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[i.jsx("p",{className:"text-theme-muted mb-4",children:"No projects found. Create some projects first to export."}),i.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Go to Dashboard"})]}):i.jsx("div",{className:"space-y-2",children:t.map(P=>{var j,E,T;return i.jsxs("div",{onClick:()=>d(P.id),className:`card p-4 rounded-lg cursor-pointer transition-all flex items-center gap-4 ${s.includes(P.id)?"border-2 border-accent bg-theme-secondary":"border border-theme hover:border-theme-muted"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${s.includes(P.id)?"border-accent bg-accent":"border-theme-muted bg-transparent"}`,children:s.includes(P.id)&&i.jsx("span",{className:"text-black text-xs font-bold",children:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold",children:P.title}),i.jsxs("div",{className:"flex gap-3 text-xs text-theme-muted mt-1",children:[i.jsx("span",{children:P.type}),i.jsx("span",{children:""}),i.jsx("span",{children:P.status}),((j=P.metadata)==null?void 0:j.isrc)&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsxs("span",{children:["ISRC: ",P.metadata.isrc]})]})]})]}),i.jsxs("div",{className:"text-xs text-theme-muted",children:[(E=P.metadata)!=null&&E.iswc?" ISWC":"",(T=P.metadata)!=null&&T.isrc?"  ISRC":""]})]},P.id)})}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx("button",{onClick:()=>h("select-platform"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),i.jsxs("button",{onClick:()=>h("preview"),disabled:s.length===0,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:["Preview (",s.length," selected) "]})]})]}),u==="preview"&&a&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Preview & Download"}),i.jsxs("p",{className:"text-sm text-theme-muted",children:[i.jsx("span",{className:"text-accent",children:da[a].name})," format ",s.length," project",s.length!==1?"s":""," selected"]})]}),i.jsxs("div",{className:"card p-6 rounded-xl mb-6 overflow-x-auto",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Data Preview"}),(()=>{const{headers:P,rows:j}=C();return i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsx("tr",{className:"border-b border-theme",children:P.map((E,T)=>i.jsx("th",{className:"text-left py-2 px-3 text-accent font-bold",children:E},T))})}),i.jsx("tbody",{children:j.map((E,T)=>i.jsx("tr",{className:"border-b border-theme-tertiary hover:bg-theme-secondary",children:E.map((M,I)=>i.jsx("td",{className:"py-2 px-3 text-theme-secondary",children:M},I))},T))})]})})()]}),i.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Missing Data Notice"}),i.jsx("p",{className:"text-sm text-theme-muted mb-4",children:'Fields marked with "-" are empty. Complete your project metadata for accurate submissions.'}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Tip: Add ISRC, ISWC, writers, and publishers in each project's details page before exporting."})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:()=>h("select-projects"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),i.jsx("button",{onClick:k,className:"btn-primary px-8 py-3 rounded-lg font-bold",children:"Download CSV File"})]})]})]})]})}const Cl={shortBio:"",mediumBio:"",longBio:"",genre:"",location:"",photoUrls:[],videoUrls:[],featuredTracks:[],achievements:[],pressQuotes:[],socialLinks:{},contactEmail:"",contactName:"",bookingEmail:"",technicalRider:"",stagePlot:"",isPublished:!1};function rC(){const{user:e}=an(),[t,n]=w.useState(Cl),[s,r]=w.useState(!0),[a,o]=w.useState(!1),[l,c]=w.useState(null),[u,h]=w.useState("bio"),[m,d]=w.useState(""),[x,y]=w.useState(""),[v,S]=w.useState({title:"",url:"",platform:"spotify"}),[p,g]=w.useState(""),[f,b]=w.useState({quote:"",source:""});w.useEffect(()=>{k()},[]);async function k(){try{const R=await fetch("/api/epk");if(R.ok){const D=await R.json();D.epk&&n({...Cl,...D.epk,photoUrls:D.epk.photoUrls||[],videoUrls:D.epk.videoUrls||[],featuredTracks:D.epk.featuredTracks||[],achievements:D.epk.achievements||[],pressQuotes:D.epk.pressQuotes||[],socialLinks:D.epk.socialLinks||{}})}}catch(R){console.error("Failed to load EPK:",R)}finally{r(!1)}}async function C(R=!1){o(!0),c(null);try{const D=await fetch("/api/epk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,isPublished:R?!0:t.isPublished})});if(D.ok){const L=await D.json();n({...Cl,...L.epk,photoUrls:L.epk.photoUrls||[],videoUrls:L.epk.videoUrls||[],featuredTracks:L.epk.featuredTracks||[],achievements:L.epk.achievements||[],pressQuotes:L.epk.pressQuotes||[],socialLinks:L.epk.socialLinks||{}}),c({type:"success",text:R?"EPK published!":"EPK saved!"})}else c({type:"error",text:"Failed to save EPK"})}catch{c({type:"error",text:"Failed to save EPK"})}finally{o(!1)}}function P(){m.trim()&&(n({...t,photoUrls:[...t.photoUrls,m.trim()]}),d(""))}function j(R){n({...t,photoUrls:t.photoUrls.filter((D,L)=>L!==R)})}function E(){x.trim()&&(n({...t,videoUrls:[...t.videoUrls,x.trim()]}),y(""))}function T(R){n({...t,videoUrls:t.videoUrls.filter((D,L)=>L!==R)})}function M(){v.title.trim()&&v.url.trim()&&(n({...t,featuredTracks:[...t.featuredTracks,{...v}]}),S({title:"",url:"",platform:"spotify"}))}function I(R){n({...t,featuredTracks:t.featuredTracks.filter((D,L)=>L!==R)})}function $(){p.trim()&&(n({...t,achievements:[...t.achievements,p.trim()]}),g(""))}function H(R){n({...t,achievements:t.achievements.filter((D,L)=>L!==R)})}function U(){f.quote.trim()&&(n({...t,pressQuotes:[...t.pressQuotes,{...f}]}),b({quote:"",source:""}))}function te(R){n({...t,pressQuotes:t.pressQuotes.filter((D,L)=>L!==R)})}function K(R,D){n({...t,socialLinks:{...t.socialLinks,[R]:D}})}return s?i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("p",{className:"text-theme-muted",children:"Loading your EPK..."})})]}):i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx(Pt,{}),i.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Electronic Press Kit"}),i.jsx("p",{className:"text-theme-secondary",children:"Your professional resume for the music industry"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[t.isPublished&&(e==null?void 0:e.boxCode)&&i.jsx("a",{href:`/epk/${e.boxCode}`,target:"_blank",className:"text-xs text-accent hover:underline",children:"View Public EPK"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.isPublished?"bg-green-500/20 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:t.isPublished?"Published":"Draft"})]})]}),l&&i.jsx("div",{className:`p-3 rounded mb-6 ${l.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:l.text}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-theme pb-2",children:["bio","media","achievements","contact","technical"].map(R=>i.jsx("button",{onClick:()=>h(R),className:`px-4 py-2 rounded-t-lg text-sm transition-colors ${u===R?"bg-theme-tertiary text-accent font-bold":"text-theme-muted hover:text-theme-primary"}`,children:R==="bio"?"Biography":R==="media"?"Media & Music":R==="achievements"?"Press & Awards":R==="contact"?"Contact":"Technical"},R))}),u==="bio"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Artist Biography"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Write in third person so journalists can copy/paste. Create three versions for different contexts."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Short Bio (50-100 words) - Elevator pitch"}),i.jsx("textarea",{value:t.shortBio,onChange:R=>n({...t,shortBio:R.target.value}),className:"input-field w-full p-3 rounded h-24",placeholder:"[Artist Name] is a [genre] artist from [location]..."}),i.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.shortBio.split(/\s+/).filter(Boolean).length," words"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Medium Bio (150-250 words) - For press"}),i.jsx("textarea",{value:t.mediumBio,onChange:R=>n({...t,mediumBio:R.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Expand on your story, influences, and recent work..."}),i.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.mediumBio.split(/\s+/).filter(Boolean).length," words"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Long Bio - For in-depth features"}),i.jsx("textarea",{value:t.longBio,onChange:R=>n({...t,longBio:R.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:"Your complete artist story..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Genre"}),i.jsx("input",{type:"text",value:t.genre,onChange:R=>n({...t,genre:R.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Hip-Hop, R&B, Electronic..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Location"}),i.jsx("input",{type:"text",value:t.location,onChange:R=>n({...t,location:R.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Los Angeles, CA"})]})]})]})]})}),u==="media"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Tracks"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 of your best tracks. Lead with your strongest song."}),i.jsx("div",{className:"space-y-3 mb-4",children:t.featuredTracks.map((R,D)=>i.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[i.jsxs("span",{className:"text-accent font-bold",children:[D+1,"."]}),i.jsx("span",{className:"flex-1",children:R.title}),i.jsx("span",{className:"text-xs text-theme-muted",children:R.platform}),i.jsx("button",{onClick:()=>I(D),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},D))}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx("input",{type:"text",value:v.title,onChange:R=>S({...v,title:R.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Track title"}),i.jsx("input",{type:"text",value:v.url,onChange:R=>S({...v,url:R.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Streaming URL"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:v.platform,onChange:R=>S({...v,platform:R.target.value}),className:"input-field p-2 rounded text-sm flex-1",children:[i.jsx("option",{value:"spotify",children:"Spotify"}),i.jsx("option",{value:"apple",children:"Apple Music"}),i.jsx("option",{value:"soundcloud",children:"SoundCloud"}),i.jsx("option",{value:"youtube",children:"YouTube"}),i.jsx("option",{value:"other",children:"Other"})]}),i.jsx("button",{onClick:M,className:"btn-primary px-3 py-2 rounded text-sm",children:"Add"})]})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Photos"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 high-resolution photo URLs. Include landscape, portrait, and square formats."}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:t.photoUrls.map((R,D)=>i.jsxs("div",{className:"relative group",children:[i.jsx("img",{src:R,alt:`Photo ${D+1}`,className:"w-full h-32 object-cover rounded"}),i.jsx("button",{onClick:()=>j(D),className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]},D))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:m,onChange:R=>d(R.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Photo URL (https://...)"}),i.jsx("button",{onClick:P,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Photo"})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Videos"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 2-3 video links: live performances and official music videos."}),i.jsx("div",{className:"space-y-2 mb-4",children:t.videoUrls.map((R,D)=>i.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[i.jsx("span",{className:"flex-1 text-sm truncate",children:R}),i.jsx("button",{onClick:()=>T(D),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},D))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:x,onChange:R=>y(R.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Video URL (YouTube, Vimeo...)"}),i.jsx("button",{onClick:E,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Video"})]})]})]}),u==="achievements"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Achievements & Stats"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Awards, streaming milestones, notable performances, chart positions."}),i.jsx("div",{className:"space-y-2 mb-4",children:t.achievements.map((R,D)=>i.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[i.jsx("span",{className:"flex-1",children:R}),i.jsx("button",{onClick:()=>H(D),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},D))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:p,onChange:R=>g(R.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"1M+ streams on Spotify, Winner of XYZ Award..."}),i.jsx("button",{onClick:$,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add"})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Press Quotes"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Notable quotes from press, reviews, or industry professionals."}),i.jsx("div",{className:"space-y-3 mb-4",children:t.pressQuotes.map((R,D)=>i.jsxs("div",{className:"bg-theme-secondary p-4 rounded",children:[i.jsxs("p",{className:"italic text-theme-primary",children:['"',R.quote,'"']}),R.source&&i.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:[" ",R.source]}),i.jsx("button",{onClick:()=>te(D),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]},D))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("textarea",{value:f.quote,onChange:R=>b({...f,quote:R.target.value}),className:"input-field w-full p-2 rounded text-sm h-20",placeholder:"Quote text..."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:f.source,onChange:R=>b({...f,source:R.target.value}),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Source (Rolling Stone, Billboard...)"}),i.jsx("button",{onClick:U,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Quote"})]})]})]})]}),u==="contact"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Contact Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Contact Name"}),i.jsx("input",{type:"text",value:t.contactName,onChange:R=>n({...t,contactName:R.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Manager, publicist, or artist name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Press/General Inquiries Email"}),i.jsx("input",{type:"email",value:t.contactEmail,onChange:R=>n({...t,contactEmail:R.target.value}),className:"input-field w-full p-3 rounded",placeholder:"press@artist.com"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Booking Email"}),i.jsx("input",{type:"email",value:t.bookingEmail,onChange:R=>n({...t,bookingEmail:R.target.value}),className:"input-field w-full p-3 rounded",placeholder:"booking@artist.com"})]})]})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Social Links"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["instagram","twitter","tiktok","youtube","spotify","soundcloud","website"].map(R=>i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-theme-secondary mb-1 capitalize",children:R}),i.jsx("input",{type:"text",value:t.socialLinks[R]||"",onChange:D=>K(R,D.target.value),className:"input-field w-full p-3 rounded",placeholder:`https://${R}.com/...`})]},R))})]})]}),u==="technical"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Technical Rider"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Equipment needs, input list, and stage requirements for venues."}),i.jsx("textarea",{value:t.technicalRider,onChange:R=>n({...t,technicalRider:R.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:`Input List:
- Vocal Mic (SM58 or equivalent)
- DI Box for backing tracks
- 2 Monitor wedges

Equipment Provided:
- Laptop with backing tracks
- ...`})]}),i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Stage Plot"}),i.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Describe your stage setup or link to a stage plot image."}),i.jsx("textarea",{value:t.stagePlot,onChange:R=>n({...t,stagePlot:R.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Stage setup description or URL to stage plot diagram..."})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-theme",children:[i.jsx("div",{className:"text-sm text-theme-muted",children:(e==null?void 0:e.boxCode)&&i.jsxs("span",{children:["Your EPK URL: ",i.jsxs("code",{className:"text-accent",children:["/epk/",e.boxCode]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>C(!1),disabled:a,className:"bg-theme-secondary px-6 py-3 rounded-lg font-bold hover:opacity-80 disabled:opacity-50",children:a?"Saving...":"Save Draft"}),i.jsx("button",{onClick:()=>C(!0),disabled:a,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:a?"Publishing...":t.isPublished?"Update & Publish":"Publish EPK"})]})]})]})]})}function iC(){const{boxCode:e}=To(),{theme:t,toggleTheme:n}=Mi(),[s,r]=w.useState(null),[a,o]=w.useState(!0),[l,c]=w.useState(""),[u,h]=w.useState("bio");w.useEffect(()=>{m()},[e]);async function m(){try{const v=await fetch(`/api/epk/${e}`);if(v.ok){const S=await v.json();r(S)}else c("Press kit not found or not published")}catch{c("Failed to load press kit")}finally{o(!1)}}if(a)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),i.jsx("p",{className:"text-theme-muted",children:"Loading press kit..."})]})});if(l||!s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Press Kit Not Found"}),i.jsx("p",{className:"text-theme-muted mb-6",children:l}),i.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Return to BOX"})]})});const{epk:d,artist:x,projects:y}=s;return i.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[i.jsx("header",{className:"border-b border-theme p-4",children:i.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[i.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),i.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),i.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono",children:["[",t,"]"]})]})}),i.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[i.jsxs("section",{className:"text-center mb-12",children:[x.profileImageUrl&&i.jsx("img",{src:x.profileImageUrl,alt:x.displayName,className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-accent"}),i.jsx("h1",{className:"text-4xl font-bold mb-2",children:x.displayName}),d.genre&&i.jsx("p",{className:"text-accent text-lg mb-1",children:d.genre}),d.location&&i.jsx("p",{className:"text-theme-muted",children:d.location}),Object.keys(d.socialLinks).length>0&&i.jsx("div",{className:"flex justify-center gap-4 mt-6",children:Object.entries(d.socialLinks).filter(([v,S])=>S).map(([v,S])=>i.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-theme-muted hover:text-accent transition-colors capitalize text-sm",children:v},v))})]}),i.jsx("nav",{className:"flex flex-wrap justify-center gap-2 mb-8 border-b border-theme pb-4",children:["bio","music","media","press","contact"].map(v=>i.jsx("button",{onClick:()=>h(v),className:`px-4 py-2 rounded-lg text-sm transition-colors ${u===v?"bg-accent text-accent-contrast font-bold":"text-theme-muted hover:text-theme-primary"}`,children:v==="bio"?"About":v==="music"?"Music":v==="media"?"Photos & Videos":v==="press"?"Press":"Contact"},v))}),u==="bio"&&i.jsxs("section",{className:"max-w-3xl mx-auto",children:[i.jsx("div",{className:"prose prose-invert max-w-none",children:d.mediumBio?i.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.mediumBio}):d.shortBio?i.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.shortBio}):i.jsx("p",{className:"text-theme-muted",children:"No biography available."})}),d.longBio&&i.jsxs("details",{className:"mt-8",children:[i.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"Read full bio"}),i.jsx("p",{className:"mt-4 text-theme-secondary whitespace-pre-wrap",children:d.longBio})]})]}),u==="music"&&i.jsxs("section",{children:[d.featuredTracks.length>0?i.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.featuredTracks.map((v,S)=>i.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"card p-6 rounded-xl flex items-center gap-4 hover:border-accent transition-colors",children:[i.jsx("span",{className:"text-2xl font-bold text-accent",children:S+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-lg",children:v.title}),i.jsx("p",{className:"text-xs text-theme-muted capitalize",children:v.platform})]}),i.jsx("span",{className:"text-accent",children:"Listen"})]},S))}):i.jsx("p",{className:"text-center text-theme-muted",children:"No featured tracks available."}),y.length>0&&i.jsxs("div",{className:"mt-12",children:[i.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Published Projects"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:y.map(v=>i.jsxs("div",{className:"card p-4 rounded-xl",children:[i.jsx("h3",{className:"font-bold",children:v.title}),i.jsx("p",{className:"text-xs text-theme-muted capitalize",children:v.type})]},v.id))})]})]}),u==="media"&&i.jsxs("section",{className:"space-y-12",children:[d.photoUrls.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Photos"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.photoUrls.map((v,S)=>i.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",children:i.jsx("img",{src:v,alt:`Photo ${S+1}`,className:"w-full h-48 object-cover rounded-lg hover:opacity-80 transition-opacity"})},S))})]}),d.videoUrls.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Videos"}),i.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.videoUrls.map((v,S)=>i.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"card p-4 rounded-xl hover:border-accent transition-colors flex items-center gap-4",children:i.jsxs("span",{className:"text-2xl",children:["Watch Video ",S+1]})},S))})]}),d.photoUrls.length===0&&d.videoUrls.length===0&&i.jsx("p",{className:"text-center text-theme-muted",children:"No media available."})]}),u==="press"&&i.jsxs("section",{className:"max-w-3xl mx-auto space-y-8",children:[d.achievements.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Achievements"}),i.jsx("ul",{className:"space-y-2",children:d.achievements.map((v,S)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-accent",children:""}),i.jsx("span",{children:v})]},S))})]}),d.pressQuotes.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Press Quotes"}),i.jsx("div",{className:"space-y-6",children:d.pressQuotes.map((v,S)=>i.jsxs("blockquote",{className:"card p-6 rounded-xl border-l-4 border-accent",children:[i.jsxs("p",{className:"text-lg italic",children:['"',v.quote,'"']}),v.source&&i.jsxs("footer",{className:"mt-3 text-theme-muted text-sm",children:[" ",v.source]})]},S))})]}),d.achievements.length===0&&d.pressQuotes.length===0&&i.jsx("p",{className:"text-center text-theme-muted",children:"No press information available."})]}),u==="contact"&&i.jsxs("section",{className:"max-w-2xl mx-auto space-y-8",children:[i.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[i.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get In Touch"}),i.jsxs("div",{className:"space-y-4",children:[d.contactName&&i.jsx("p",{className:"text-lg",children:d.contactName}),d.contactEmail&&i.jsxs("div",{children:[i.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Press & General Inquiries"}),i.jsx("a",{href:`mailto:${d.contactEmail}`,className:"text-accent hover:underline text-lg",children:d.contactEmail})]}),d.bookingEmail&&i.jsxs("div",{className:"mt-6",children:[i.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Booking"}),i.jsx("a",{href:`mailto:${d.bookingEmail}`,className:"text-accent hover:underline text-lg",children:d.bookingEmail})]})]})]}),(d.technicalRider||d.stagePlot)&&i.jsxs("div",{className:"card p-6 rounded-xl",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",children:"Technical Information"}),d.technicalRider&&i.jsxs("details",{className:"mb-4",children:[i.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Technical Rider"}),i.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.technicalRider})]}),d.stagePlot&&i.jsxs("details",{children:[i.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Stage Plot"}),i.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.stagePlot})]})]})]})]}),i.jsxs("footer",{className:"border-t border-theme p-6 mt-12 text-center",children:[i.jsxs("p",{className:"text-theme-muted text-sm",children:["Electronic Press Kit powered by ",i.jsx("a",{href:"/",className:"text-accent hover:underline",children:"BOX"})," by luctheleo.com"]}),i.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["BOX Code: ",x.boxCode]})]})]})}function aC(){const{theme:e,toggleTheme:t}=Mi(),[n,s]=w.useState("routes"),[r,a]=w.useState({auth:!0,projects:!0,notes:!0,community:!0,admin:!0,studio:!0,epk:!0,uploads:!0,blog:!0});function o(d){a(x=>({...x,[d]:!x[d]}))}const l=[{id:"auth",label:"Authentication",description:"Google OAuth, email/password login, registration, verification",routes:[{method:"GET",path:"/api/auth/google",desc:"Redirect to Google OAuth",auth:!1},{method:"GET",path:"/api/auth/google/callback",desc:"Google OAuth callback handler",auth:!1},{method:"POST",path:"/api/auth/register",desc:"Register new user (email/password)",auth:!1},{method:"POST",path:"/api/auth/login",desc:"Login with email/password",auth:!1},{method:"GET",path:"/api/auth/verify",desc:"Verify email address via token",auth:!1},{method:"POST",path:"/api/auth/resend-verification",desc:"Resend verification email",auth:!1},{method:"GET",path:"/api/auth/user",desc:"Get current authenticated user",auth:!0},{method:"POST",path:"/api/auth/change-password",desc:"Change user password",auth:!0},{method:"POST",path:"/api/auth/update-profile",desc:"Update display name / profile",auth:!0},{method:"GET",path:"/api/logout",desc:"End session and logout",auth:!1}]},{id:"projects",label:"Projects",description:"CRUD operations for creative projects (tracks, albums, EPs)",routes:[{method:"GET",path:"/api/projects",desc:"List all user projects",auth:!0},{method:"POST",path:"/api/projects",desc:"Create a new project",auth:!0},{method:"GET",path:"/api/projects/:id",desc:"Get project details by ID",auth:!0},{method:"PUT",path:"/api/projects/:id",desc:"Update a project",auth:!0},{method:"DELETE",path:"/api/projects/:id",desc:"Delete a project",auth:!0}]},{id:"notes",label:"Creative Notes",description:"Private notes for inspiration, ideas, and media links",routes:[{method:"GET",path:"/api/creative/notes",desc:"List all user notes",auth:!0},{method:"POST",path:"/api/creative/notes",desc:"Create a new note",auth:!0},{method:"PUT",path:"/api/creative/notes/:id",desc:"Update a note",auth:!0},{method:"DELETE",path:"/api/creative/notes/:id",desc:"Delete a note",auth:!0},{method:"POST",path:"/api/creative/notes/:id/pin",desc:"Toggle pin status",auth:!0},{method:"POST",path:"/api/creative/notes/reorder",desc:"Reorder notes (drag & drop)",auth:!0}]},{id:"community",label:"Community",description:"Share notes publicly, favorites, and comments",routes:[{method:"POST",path:"/api/community/submit",desc:"Submit note for community sharing",auth:!0},{method:"GET",path:"/api/community/my-submissions",desc:"Get user's submission status",auth:!0},{method:"GET",path:"/api/community",desc:"Get all approved shared content",auth:!1},{method:"POST",path:"/api/community/:id/favorite",desc:"Toggle favorite on content",auth:!0},{method:"POST",path:"/api/community/:id/comment",desc:"Add comment to content",auth:!0},{method:"GET",path:"/api/community/:id/comments",desc:"Get comments for content",auth:!1},{method:"GET",path:"/api/community/my-favorites",desc:"Get user's favorited items",auth:!0}]},{id:"admin",label:"Admin",description:"Admin panel for managing users, submissions, and blog posts",routes:[{method:"POST",path:"/api/admin/login",desc:"Admin login (password)",auth:!1},{method:"POST",path:"/api/admin/logout",desc:"Admin logout",auth:!1},{method:"GET",path:"/api/admin/check",desc:"Check admin session",auth:!1},{method:"GET",path:"/api/admin/users",desc:"Get all users",auth:!0},{method:"GET",path:"/api/admin/projects",desc:"Get all projects",auth:!0},{method:"GET",path:"/api/admin/stats",desc:"Get system statistics",auth:!0},{method:"GET",path:"/api/admin/submissions",desc:"Get community submissions",auth:!0},{method:"POST",path:"/api/admin/submissions/:id/review",desc:"Approve/reject submission",auth:!0},{method:"POST",path:"/api/admin/blog",desc:"Create blog post",auth:!0},{method:"POST",path:"/api/admin/blog/:id/publish",desc:"Toggle blog publish status",auth:!0}]},{id:"blog",label:"Blog",description:"Public blog posts created from community content",routes:[{method:"GET",path:"/api/blog",desc:"Get published blog posts",auth:!1}]},{id:"studio",label:"Studio",description:"Studio management - artist roster, invitations, portfolio",routes:[{method:"GET",path:"/api/studio/artists",desc:"Get studio's artist roster",auth:!0},{method:"POST",path:"/api/studio/invite",desc:"Invite artist by email",auth:!0},{method:"GET",path:"/api/studio/artists/:artistId/projects",desc:"Get artist's projects",auth:!0},{method:"POST",path:"/api/studio/projects/:projectId/feature",desc:"Toggle project featured",auth:!0},{method:"DELETE",path:"/api/studio/artists/:relationId",desc:"Remove artist from roster",auth:!0},{method:"GET",path:"/api/portfolio/:studioId",desc:"Get public studio portfolio",auth:!1},{method:"POST",path:"/api/studio/invitations/:invitationId/accept",desc:"Accept studio invitation",auth:!0},{method:"GET",path:"/api/artist/invitations",desc:"Get pending invitations",auth:!0}]},{id:"epk",label:"Electronic Press Kit (EPK)",description:"Create and share professional press kits",routes:[{method:"GET",path:"/api/epk",desc:"Get current user's EPK",auth:!0},{method:"POST",path:"/api/epk",desc:"Create or update EPK",auth:!0},{method:"GET",path:"/api/epk/:boxCode",desc:"Get public EPK by BOX code",auth:!1}]},{id:"uploads",label:"File Uploads",description:"Object storage for media files",routes:[{method:"POST",path:"/api/uploads/request-url",desc:"Get presigned upload URL",auth:!0},{method:"GET",path:"/objects/:objectPath(*)",desc:"Serve uploaded files",auth:!1}]}],c={GET:"bg-green-600",POST:"bg-blue-600",PUT:"bg-yellow-600",DELETE:"bg-red-600"},u=[{name:"Users",color:"#3b82f6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"email",type:"String",key:"UQ"},{name:"passwordHash",type:"String",key:""},{name:"displayName",type:"String",key:""},{name:"firstName",type:"String",key:""},{name:"lastName",type:"String",key:""},{name:"profileImageUrl",type:"String",key:""},{name:"role",type:"String",key:""},{name:"businessName",type:"String",key:""},{name:"businessBio",type:"String",key:""},{name:"boxCode",type:"String",key:"UQ"},{name:"emailVerified",type:"Boolean",key:""},{name:"verificationToken",type:"String",key:""},{name:"verificationTokenExpires",type:"Date",key:""},{name:"googleId",type:"String",key:""},{name:"githubId",type:"String",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"Projects",color:"#10b981",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"title",type:"String",key:""},{name:"type",type:"String",key:""},{name:"status",type:"String",key:""},{name:"description",type:"String",key:""},{name:"metadata",type:"Mixed (JSON)",key:""},{name:"isFeatured",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"CreativeNotes",color:"#f59e0b",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"category",type:"String",key:""},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"mediaUrls",type:"String[]",key:""},{name:"tags",type:"String[]",key:""},{name:"isPinned",type:"Boolean",key:""},{name:"sortOrder",type:"Number",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]},{name:"SharedContent",color:"#8b5cf6",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"noteId",type:"ObjectId",key:"FK -> CreativeNotes"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"adminNotes",type:"String",key:""},{name:"blogPostId",type:"ObjectId",key:"FK -> BlogPosts"},{name:"approvedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityFavorites",color:"#ec4899",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"createdAt",type:"Date",key:""}]},{name:"CommunityComments",color:"#ef4444",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"userId",type:"ObjectId",key:"FK -> Users"},{name:"content",type:"String",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"BlogPosts",color:"#06b6d4",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"sharedContentId",type:"ObjectId",key:"FK -> SharedContent"},{name:"title",type:"String",key:""},{name:"content",type:"String",key:""},{name:"authorId",type:"ObjectId",key:"FK -> Users"},{name:"isPublished",type:"Boolean",key:""},{name:"publishedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"StudioArtists",color:"#f97316",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"studioId",type:"ObjectId",key:"FK -> Users"},{name:"artistId",type:"ObjectId",key:"FK -> Users"},{name:"status",type:"String",key:""},{name:"inviteEmail",type:"String",key:""},{name:"acceptedAt",type:"Date",key:""},{name:"createdAt",type:"Date",key:""}]},{name:"Sessions",color:"#64748b",fields:[{name:"_id",type:"String",key:"PK"},{name:"expires",type:"Date",key:""},{name:"session",type:"Mixed (JSON)",key:""}]},{name:"PressKits",color:"#84cc16",fields:[{name:"_id",type:"ObjectId",key:"PK"},{name:"userId",type:"ObjectId",key:"FK -> Users (unique)"},{name:"shortBio",type:"String",key:""},{name:"mediumBio",type:"String",key:""},{name:"longBio",type:"String",key:""},{name:"genre",type:"String",key:""},{name:"location",type:"String",key:""},{name:"photoUrls",type:"String[]",key:""},{name:"videoUrls",type:"String[]",key:""},{name:"featuredTracks",type:"Mixed[]",key:""},{name:"achievements",type:"Mixed[]",key:""},{name:"pressQuotes",type:"Mixed[]",key:""},{name:"socialLinks",type:"Mixed",key:""},{name:"contactEmail",type:"String",key:""},{name:"contactName",type:"String",key:""},{name:"bookingEmail",type:"String",key:""},{name:"technicalRider",type:"String",key:""},{name:"stagePlot",type:"String",key:""},{name:"isPublished",type:"Boolean",key:""},{name:"createdAt",type:"Date",key:""},{name:"updatedAt",type:"Date",key:""}]}],h=[{from:"Users",to:"Projects",label:"1 : N",desc:"User owns many Projects"},{from:"Users",to:"CreativeNotes",label:"1 : N",desc:"User owns many Notes"},{from:"Users",to:"PressKits",label:"1 : 1",desc:"User has one Press Kit"},{from:"Users",to:"StudioArtists",label:"1 : N",desc:"Studio has many Artist relationships"},{from:"CreativeNotes",to:"SharedContent",label:"1 : 1",desc:"Note can be shared once"},{from:"Users",to:"SharedContent",label:"1 : N",desc:"User submits content"},{from:"SharedContent",to:"CommunityFavorites",label:"1 : N",desc:"Content has many Favorites"},{from:"SharedContent",to:"CommunityComments",label:"1 : N",desc:"Content has many Comments"},{from:"SharedContent",to:"BlogPosts",label:"1 : 1",desc:"Content becomes Blog Post"},{from:"Users",to:"BlogPosts",label:"1 : N",desc:"Admin authors Blog Posts"},{from:"Users",to:"CommunityFavorites",label:"1 : N",desc:"User has many Favorites"},{from:"Users",to:"CommunityComments",label:"1 : N",desc:"User has many Comments"}],m=l.reduce((d,x)=>d+x.routes.length,0);return i.jsxs("div",{className:"min-h-screen bg-theme-primary text-theme-primary",children:[i.jsx("div",{className:"border-b border-theme p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold",children:"BOX - Capstone Documentation"}),i.jsx("p",{className:"text-xs text-theme-muted",children:"Backend Route Tree & Entity Relationship Diagram"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:t,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",e,"]"]}),i.jsx("a",{href:"/",className:"text-xs text-accent hover:underline",children:"Back to App"})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[i.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme",children:[i.jsx("button",{onClick:()=>s("routes"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="routes"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Backend Route Tree"}),i.jsx("button",{onClick:()=>s("erd"),className:`px-4 py-2 text-sm font-bold transition-colors border-b-2 ${n==="erd"?"border-accent text-accent":"border-transparent text-theme-muted hover:text-theme-primary"}`,children:"Entity Relationship Diagram"})]}),n==="routes"&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Backend Route Tree"}),i.jsxs("p",{className:"text-sm text-theme-secondary mb-3",children:["Express.js REST API running on port 3000, proxied through Vite on port 5000. Most routes prefixed with ",i.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/api"}),". Object storage served at ",i.jsx("code",{className:"bg-theme-tertiary px-1 rounded",children:"/objects"}),"."]}),i.jsxs("div",{className:"flex gap-4 text-xs text-theme-muted flex-wrap",children:[i.jsxs("span",{children:[l.length," route groups"]}),i.jsxs("span",{children:[m," total endpoints"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded bg-green-600 inline-block"})," GET"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded bg-blue-600 inline-block"})," POST"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded bg-yellow-600 inline-block"})," PUT"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded bg-red-600 inline-block"})," DELETE"]})]})]})]}),i.jsxs("div",{className:"font-mono text-sm",children:[i.jsxs("div",{className:"p-3 bg-theme-secondary rounded-t-lg border border-theme",children:[i.jsx("span",{className:"text-accent font-bold",children:"EXPRESS APP"}),i.jsx("span",{className:"text-theme-muted ml-2",children:"server/index.ts"})]}),l.map((d,x)=>i.jsxs("div",{className:`border-x border-theme ${x===l.length-1?"border-b rounded-b-lg":""}`,children:[i.jsxs("button",{onClick:()=>o(d.id),className:"w-full text-left p-3 flex items-center gap-2 hover:bg-theme-secondary transition-colors border-b border-theme",children:[i.jsx("span",{className:"text-theme-muted w-4 text-center",children:r[d.id]?"v":">"}),i.jsxs("span",{className:"text-accent font-bold",children:["/api/",d.id==="blog"?"blog":d.id==="uploads"?"uploads":d.id]}),i.jsxs("span",{className:"text-theme-muted text-xs ml-2",children:[d.label," (",d.routes.length," routes)"]})]}),r[d.id]&&i.jsxs("div",{className:"bg-theme-primary",children:[i.jsx("div",{className:"px-4 py-2 text-xs text-theme-muted border-b border-theme bg-theme-secondary/50",children:d.description}),d.routes.map((y,v)=>i.jsxs("div",{className:"flex items-start gap-3 px-4 py-2 border-b border-theme/50 last:border-b-0 hover:bg-theme-secondary/30",children:[i.jsx("span",{className:"text-theme-muted w-6 flex-shrink-0 pt-0.5",children:v===d.routes.length-1?"":""}),i.jsx("span",{className:`${c[y.method]} text-white text-xs px-2 py-0.5 rounded font-bold w-16 text-center flex-shrink-0`,children:y.method}),i.jsx("span",{className:"text-theme-primary flex-1 break-all",children:y.path}),i.jsx("span",{className:"text-theme-muted text-xs flex-shrink-0 hidden sm:block max-w-48",children:y.desc}),y.auth&&i.jsx("span",{className:"text-yellow-500 text-xs flex-shrink-0",title:"Requires authentication",children:""})]},v))]})]},d.id))]}),i.jsxs("div",{className:"mt-6 p-4 bg-theme-secondary rounded-lg border border-theme",children:[i.jsx("h3",{className:"font-bold text-sm mb-2",children:"Middleware Stack"}),i.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[i.jsx("p",{children:"1. express.json() - Parse JSON request bodies"}),i.jsx("p",{children:"2. express-session + connect-mongo - Session management (MongoDB store)"}),i.jsx("p",{children:"3. passport.initialize() + passport.session() - Authentication"}),i.jsx("p",{children:"4. isAuthenticated - Route-level auth guard (checks session + token expiry)"}),i.jsx("p",{children:"5. isAdmin - Admin-only route guard (checks session.isAdmin)"})]})]}),i.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg border border-theme",children:[i.jsx("h3",{className:"font-bold text-sm mb-2",children:"Authentication Flow"}),i.jsxs("div",{className:"font-mono text-xs space-y-1 text-theme-secondary",children:[i.jsxs("p",{children:["Google OAuth: Client ","->"," /api/auth/google ","->"," Google Consent ","->"," /api/auth/google/callback ","->"," Create/Find User ","->"," Set Session ","->"," Redirect /"]}),i.jsxs("p",{children:["Email/Pass: Client ","->"," POST /api/auth/register ","->"," Hash Password ","->"," Send Verification Email ","->"," GET /api/auth/verify?token=... ","->"," Activate Account"]}),i.jsxs("p",{children:["Login: Client ","->"," POST /api/auth/login ","->"," Verify Email + Password ","->"," Set Session ","->"," Return User"]})]})]})]}),n==="erd"&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Entity Relationship Diagram"}),i.jsx("p",{className:"text-sm text-theme-secondary mb-1",children:"MongoDB (Atlas) with Mongoose ODM. 10 collections with referential relationships."}),i.jsx("p",{className:"text-xs text-theme-muted",children:"PK = Primary Key | FK = Foreign Key | UQ = Unique Constraint"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"font-bold text-sm mb-3 text-accent",children:"Relationships"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:h.map((d,x)=>i.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 bg-theme-secondary rounded border border-theme",children:[i.jsx("span",{className:"font-bold text-theme-primary",children:d.from}),i.jsx("span",{className:"text-accent font-mono",children:d.label}),i.jsx("span",{className:"font-bold text-theme-primary",children:d.to}),i.jsx("span",{className:"text-theme-muted ml-auto hidden sm:block",children:d.desc})]},x))})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:u.map(d=>i.jsxs("div",{className:"border border-theme rounded-lg overflow-hidden",children:[i.jsx("div",{className:"px-3 py-2 font-bold text-sm text-white",style:{backgroundColor:d.color},children:d.name}),i.jsx("div",{className:"divide-y divide-theme/50",children:d.fields.map((x,y)=>i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 text-xs ${x.key?"bg-theme-secondary":"bg-theme-primary"}`,children:[i.jsx("span",{className:"font-mono text-theme-primary flex-1",children:x.name}),i.jsx("span",{className:"text-theme-muted",children:x.type}),x.key&&i.jsx("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded ${x.key==="PK"?"bg-yellow-500/20 text-yellow-500":x.key==="UQ"?"bg-purple-500/20 text-purple-500":"bg-blue-500/20 text-blue-500"}`,children:x.key})]},y))})]},d.name))}),i.jsxs("div",{className:"mt-8 p-4 bg-theme-secondary rounded-lg border border-theme",children:[i.jsx("h3",{className:"font-bold text-sm mb-3",children:"Data Flow Summary"}),i.jsxs("div",{className:"font-mono text-xs space-y-3 text-theme-secondary",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-accent font-bold mb-1",children:"User Registration & Auth Flow:"}),i.jsxs("p",{children:["New User ","->"," Users collection (email, passwordHash or googleId) ","->"," Sessions collection (express-session)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-accent font-bold mb-1",children:"Project Management Flow:"}),i.jsxs("p",{children:["User ","->"," Creates Projects (userId FK) ","->"," Tracks status: concept ","->"," development ","->"," review ","->"," published"]}),i.jsx("p",{children:"Project.metadata stores: ISRC, UPC, copyright #, PRO registration, distributor info"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-accent font-bold mb-1",children:"Creative & Community Flow:"}),i.jsxs("p",{children:["User ","->"," CreativeNotes (private) ","->"," SharedContent (submit for review) ","->"," Admin approves ","->"," Public community"]}),i.jsxs("p",{children:["SharedContent ","->"," CommunityFavorites + CommunityComments (user engagement)"]}),i.jsxs("p",{children:["SharedContent ","->"," BlogPosts (admin curates into blog)"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-accent font-bold mb-1",children:"Studio & Portfolio Flow:"}),i.jsxs("p",{children:["Studio User ","->"," StudioArtists (invite by email) ","->"," Artist accepts ","->"," Studio views artist Projects"]}),i.jsxs("p",{children:["Studio User ","->"," Toggle isFeatured on artist Projects ","->"," Public Portfolio page"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-accent font-bold mb-1",children:"EPK Flow:"}),i.jsxs("p",{children:["User ","->"," PressKits (1:1, unique userId) ","->"," Public view via /epk/:boxCode"]})]})]})]})]}),i.jsx("div",{className:"mt-8 pt-4 border-t border-theme text-center text-xs text-theme-muted",children:i.jsx("p",{children:"BOX by luctheleo.com | MERN Stack (MongoDB, Express, React, Node.js) | Capstone Project Documentation"})})]})]})}const _r=["/background_gif/Box1.gif","/background_gif/Box2.gif","/background_gif/Box3.gif","/background_gif/Box4.gif","/background_gif/Box5.gif"];function Bt({opacity:e=.08}){const[t,n]=w.useState(null);if(w.useEffect(()=>{if(!_r||_r.length===0)return;const r=sessionStorage.getItem("bg_gif_last"),a=r?parseInt(r,10):-1;let o=0;if(_r.length===1)o=0;else{const l=_r.map((c,u)=>u).filter(c=>c!==a);o=l[Math.floor(Math.random()*l.length)]}return n(o),sessionStorage.setItem("bg_gif_last",String(o)),document.body.classList.add("has-bg-gif"),()=>{document.body.classList.remove("has-bg-gif")}},[]),t===null)return null;const s=_r[t];return i.jsx("div",{className:"background-gif-container","aria-hidden":"true",children:i.jsx("img",{src:s,alt:"",className:"background-gif",style:{opacity:e}})})}function oC(){const{isLoading:e,isAuthenticated:t}=an(),[n]=fg(),[s,r]=w.useState(!1);return w.useEffect(()=>{sessionStorage.getItem("bios_passed")==="true"&&r(!0)},[]),s?n==="/admin"?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(Kk,{})]}):n==="/community"?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(Hk,{})]}):n==="/docs"?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(Xk,{})]}):n==="/capstone"?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(aC,{})]}):n.startsWith("/portfolio/")?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(nC,{})]}):n.startsWith("/epk/")?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(iC,{})]}):e?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),i.jsx("p",{className:"text-gray-500",children:"Loading..."})]})})]}):t?i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsxs(Ww,{children:[i.jsx(Ut,{path:"/",component:Qw}),i.jsx(Ut,{path:"/creative",component:zk}),i.jsx(Ut,{path:"/project/:id",component:$k}),i.jsx(Ut,{path:"/generator",component:Wk}),i.jsx(Ut,{path:"/submissions",component:sC}),i.jsx(Ut,{path:"/epk",component:rC}),i.jsx(Ut,{path:"/settings",component:Gk}),i.jsx(Ut,{path:"/studio",component:tC}),i.jsx(Ut,{children:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-gray-500",children:"Page not found"})]})})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Bt,{}),i.jsx(Gw,{})]}):i.jsx(Kw,{onComplete:()=>{sessionStorage.setItem("bios_passed","true"),r(!0)}})}const lC=new Jj({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});Pl.createRoot(document.getElementById("root")).render(i.jsx(Wf.StrictMode,{children:i.jsx(ew,{client:lC,children:i.jsx(fw,{children:i.jsx(oC,{})})})}));
