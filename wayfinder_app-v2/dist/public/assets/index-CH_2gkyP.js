var Qo=e=>{throw TypeError(e)};var ri=(e,t,n)=>t.has(e)||Qo("Cannot "+n);var p=(e,t,n)=>(ri(e,t,"read from private field"),n?n.call(e):t.get(e)),$=(e,t,n)=>t.has(e)?Qo("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),F=(e,t,n,r)=>(ri(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Q=(e,t,n)=>(ri(e,t,"access private method"),n);var Os=(e,t,n,r)=>({set _(l){F(e,t,l,n)},get _(){return p(e,t,r)}});function uh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(r,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pu={exports:{}},Ml={},Eu={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),mh=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),xh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),gh=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),Wo=Symbol.iterator;function wh(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var Ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tu=Object.assign,Ou={};function Rr(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Ru}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _u(){}_u.prototype=Rr.prototype;function $a(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Ru}var Ba=$a.prototype=new _u;Ba.constructor=$a;Tu(Ba,Rr.prototype);Ba.isPureReactComponent=!0;var Vo=Array.isArray,Du=Object.prototype.hasOwnProperty,Qa={current:null},Lu={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Du.call(t,r)&&!Lu.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Ss,type:e,key:i,ref:a,props:l,_owner:Qa.current}}function bh(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function Sh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ho=/\/+/g;function si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sh(""+e.key):t.toString(36)}function Js(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ss:case mh:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+si(a,0):r,Vo(l)?(n="",e!=null&&(n=e.replace(Ho,"$&/")+"/"),Js(l,t,n,"",function(m){return m})):l!=null&&(Wa(l)&&(l=bh(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Ho,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Vo(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+si(i,o);a+=Js(i,t,n,c,l)}else if(c=wh(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+si(i,o++),a+=Js(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _s(e,t,n){if(e==null)return e;var r=[],l=0;return Js(e,r,"","",function(i){return t.call(n,i,l++)}),r}function kh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Zs={transition:null},Ch={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Zs,ReactCurrentOwner:Qa};function Iu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:_s,forEach:function(e,t,n){_s(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Wa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Rr;W.Fragment=hh;W.Profiler=ph;W.PureComponent=$a;W.StrictMode=fh;W.Suspense=vh;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ch;W.act=Iu;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tu({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Qa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Du.call(t,c)&&!Lu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var m=0;m<c;m++)o[m]=arguments[m+2];r.children=o}return{$$typeof:Ss,type:e.type,key:l,ref:i,props:r,_owner:a}};W.createContext=function(e){return e={$$typeof:yh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xh,_context:e},e.Consumer=e};W.createElement=Fu;W.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:gh,render:e}};W.isValidElement=Wa;W.lazy=function(e){return{$$typeof:Nh,_payload:{_status:-1,_result:e},_init:kh}};W.memo=function(e,t){return{$$typeof:jh,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Zs.transition;Zs.transition={};try{e()}finally{Zs.transition=t}};W.unstable_act=Iu;W.useCallback=function(e,t){return Te.current.useCallback(e,t)};W.useContext=function(e){return Te.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};W.useEffect=function(e,t){return Te.current.useEffect(e,t)};W.useId=function(){return Te.current.useId()};W.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Te.current.useMemo(e,t)};W.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};W.useRef=function(e){return Te.current.useRef(e)};W.useState=function(e){return Te.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Te.current.useTransition()};W.version="18.3.1";Eu.exports=W;var w=Eu.exports;const Mu=dh(w),Ph=uh({__proto__:null,default:Mu},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh=w,Rh=Symbol.for("react.element"),Th=Symbol.for("react.fragment"),Oh=Object.prototype.hasOwnProperty,_h=Eh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dh={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Oh.call(t,r)&&!Dh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Rh,type:e,key:i,ref:a,props:l,_owner:_h.current}}Ml.Fragment=Th;Ml.jsx=Au;Ml.jsxs=Au;Pu.exports=Ml;var s=Pu.exports,Di={},Uu={exports:{}},Ve={},zu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,L){var M=C.length;C.push(L);e:for(;0<M;){var ne=M-1>>>1,O=C[ne];if(0<l(O,L))C[ne]=L,C[M]=O,M=ne;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],M=C.pop();if(M!==L){C[0]=M;e:for(var ne=0,O=C.length,z=O>>>1;ne<z;){var G=2*(ne+1)-1,oe=C[G],_e=G+1,Ke=C[_e];if(0>l(oe,M))_e<O&&0>l(Ke,oe)?(C[ne]=Ke,C[_e]=M,ne=_e):(C[ne]=oe,C[G]=M,ne=G);else if(_e<O&&0>l(Ke,M))C[ne]=Ke,C[_e]=M,ne=_e;else break e}}return L}function l(C,L){var M=C.sortIndex-L.sortIndex;return M!==0?M:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],m=[],v=1,x=null,d=3,N=!1,S=!1,y=!1,R=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(C){for(var L=n(m);L!==null;){if(L.callback===null)r(m);else if(L.startTime<=C)r(m),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(m)}}function j(C){if(y=!1,u(C),!S)if(n(c)!==null)S=!0,ee(T);else{var L=n(m);L!==null&&ue(j,L.startTime-C)}}function T(C,L){S=!1,y&&(y=!1,h(g),g=-1),N=!0;var M=d;try{for(u(L),x=n(c);x!==null&&(!(x.expirationTime>L)||C&&!D());){var ne=x.callback;if(typeof ne=="function"){x.callback=null,d=x.priorityLevel;var O=ne(x.expirationTime<=L);L=e.unstable_now(),typeof O=="function"?x.callback=O:x===n(c)&&r(c),u(L)}else r(c);x=n(c)}if(x!==null)var z=!0;else{var G=n(m);G!==null&&ue(j,G.startTime-L),z=!1}return z}finally{x=null,d=M,N=!1}}var E=!1,P=null,g=-1,b=5,k=-1;function D(){return!(e.unstable_now()-k<b)}function A(){if(P!==null){var C=e.unstable_now();k=C;var L=!0;try{L=P(!0,C)}finally{L?B():(E=!1,P=null)}}else E=!1}var B;if(typeof f=="function")B=function(){f(A)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,U=K.port2;K.port1.onmessage=A,B=function(){U.postMessage(null)}}else B=function(){R(A,0)};function ee(C){P=C,E||(E=!0,B())}function ue(C,L){g=R(function(){C(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){S||N||(S=!0,ee(T))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var M=d;d=L;try{return C()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=d;d=C;try{return L()}finally{d=M}},e.unstable_scheduleCallback=function(C,L,M){var ne=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?ne+M:ne):M=ne,C){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,C={id:v++,callback:L,priorityLevel:C,startTime:M,expirationTime:O,sortIndex:-1},M>ne?(C.sortIndex=M,t(m,C),n(c)===null&&C===n(m)&&(y?(h(g),g=-1):y=!0,ue(j,M-ne))):(C.sortIndex=O,t(c,C),S||N||(S=!0,ee(T))),C},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(C){var L=d;return function(){var M=d;d=L;try{return C.apply(this,arguments)}finally{d=M}}}})($u);zu.exports=$u;var Lh=zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=w,We=Lh;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bu=new Set,ts={};function $n(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(ts[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=Object.prototype.hasOwnProperty,Ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ko={},Go={};function Mh(e){return Li.call(Go,e)?!0:Li.call(Ko,e)?!1:Ih.test(e)?Go[e]=!0:(Ko[e]=!0,!1)}function Ah(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uh(e,t,n,r){if(t===null||typeof t>"u"||Ah(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Va=/[\-:]([a-z])/g;function Ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Va,Ha);je[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Va,Ha);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Va,Ha);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ka(e,t,n,r){var l=je.hasOwnProperty(t)?je[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uh(t,n,l,r)&&(n=null),r||l===null?Mh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mt=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),Ga=Symbol.for("react.strict_mode"),Fi=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Wu=Symbol.for("react.context"),Xa=Symbol.for("react.forward_ref"),Ii=Symbol.for("react.suspense"),Mi=Symbol.for("react.suspense_list"),Ya=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Vu=Symbol.for("react.offscreen"),Xo=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=Xo&&e[Xo]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,li;function $r(e){if(li===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);li=t&&t[1]||""}return`
`+li+e}var ii=!1;function ai(e,t){if(!e||ii)return"";ii=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{ii=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$r(e):""}function zh(e){switch(e.tag){case 5:return $r(e.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 2:case 15:return e=ai(e.type,!1),e;case 11:return e=ai(e.type.render,!1),e;case 1:return e=ai(e.type,!0),e;default:return""}}function Ai(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hn:return"Fragment";case Vn:return"Portal";case Fi:return"Profiler";case Ga:return"StrictMode";case Ii:return"Suspense";case Mi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case Xa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ya:return t=e.displayName||null,t!==null?t:Ai(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return Ai(e(t))}catch{}}return null}function $h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ai(t);case 8:return t===Ga?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bh(e){var t=Hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ls(e){e._valueTracker||(e._valueTracker=Bh(e))}function Ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ui(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gu(e,t){t=t.checked,t!=null&&Ka(e,"checked",t,!1)}function zi(e,t){Gu(e,t);var n=mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,n):t.hasOwnProperty("defaultValue")&&$i(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $i(e,t,n){(t!=="number"||dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Br=Array.isArray;function rr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Bi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(Br(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function Xu(e,t){var n=mn(t.value),r=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qh=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Qh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hr[t]=Hr[e]})});function Ju(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+t).trim():t+"px"}function Zu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Ju(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Wh=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,t){if(t){if(Wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,sr=null,lr=null;function ec(e){if(e=Ps(e)){if(typeof Ki!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Bl(t),Ki(e.stateNode,e.type,t))}}function ed(e){sr?lr?lr.push(e):lr=[e]:sr=e}function td(){if(sr){var e=sr,t=lr;if(lr=sr=null,ec(e),t)for(e=0;e<t.length;e++)ec(t[e])}}function nd(e,t){return e(t)}function rd(){}var oi=!1;function sd(e,t,n){if(oi)return e(t,n);oi=!0;try{return nd(e,t,n)}finally{oi=!1,(sr!==null||lr!==null)&&(rd(),td())}}function rs(e,t){var n=e.stateNode;if(n===null)return null;var r=Bl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var Gi=!1;if(Dt)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Gi=!1}function Vh(e,t,n,r,l,i,a,o,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(v){this.onError(v)}}var Kr=!1,ml=null,hl=!1,Xi=null,Hh={onError:function(e){Kr=!0,ml=e}};function Kh(e,t,n,r,l,i,a,o,c){Kr=!1,ml=null,Vh.apply(Hh,arguments)}function Gh(e,t,n,r,l,i,a,o,c){if(Kh.apply(this,arguments),Kr){if(Kr){var m=ml;Kr=!1,ml=null}else throw Error(_(198));hl||(hl=!0,Xi=m)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tc(e){if(Bn(e)!==e)throw Error(_(188))}function Xh(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return tc(l),e;if(i===r)return tc(l),t;i=i.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function id(e){return e=Xh(e),e!==null?ad(e):null}function ad(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ad(e);if(t!==null)return t;e=e.sibling}return null}var od=We.unstable_scheduleCallback,nc=We.unstable_cancelCallback,Yh=We.unstable_shouldYield,qh=We.unstable_requestPaint,ce=We.unstable_now,Jh=We.unstable_getCurrentPriorityLevel,Ja=We.unstable_ImmediatePriority,cd=We.unstable_UserBlockingPriority,fl=We.unstable_NormalPriority,Zh=We.unstable_LowPriority,ud=We.unstable_IdlePriority,Al=null,vt=null;function ef(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:rf,tf=Math.log,nf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(tf(e)/nf|0)|0}var Is=64,Ms=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=Qr(o):(i&=a,i!==0&&(r=Qr(i)))}else a=n&~l,a!==0?r=Qr(a):i!==0&&(r=Qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),l=1<<n,r|=e[n],t&=~l;return r}function sf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&r)&&(l[a]=sf(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Yi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function ci(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ks(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function af(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ot(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function Za(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hd,eo,fd,pd,xd,qi=!1,As=[],nn=null,rn=null,sn=null,ss=new Map,ls=new Map,Qt=[],of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rc(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function Fr(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Ps(t),t!==null&&eo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function cf(e,t,n,r,l){switch(t){case"focusin":return nn=Fr(nn,e,t,n,r,l),!0;case"dragenter":return rn=Fr(rn,e,t,n,r,l),!0;case"mouseover":return sn=Fr(sn,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return ss.set(i,Fr(ss.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,ls.set(i,Fr(ls.get(i)||null,e,t,n,r,l)),!0}return!1}function yd(e){var t=vn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,xd(e.priority,function(){fd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ji(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hi=r,n.target.dispatchEvent(r),Hi=null}else return t=Ps(n),t!==null&&eo(t),e.blockedOn=n,!1;t.shift()}return!0}function sc(e,t,n){el(e)&&n.delete(t)}function uf(){qi=!1,nn!==null&&el(nn)&&(nn=null),rn!==null&&el(rn)&&(rn=null),sn!==null&&el(sn)&&(sn=null),ss.forEach(sc),ls.forEach(sc)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,qi||(qi=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,uf)))}function is(e){function t(l){return Ir(l,e)}if(0<As.length){Ir(As[0],e);for(var n=1;n<As.length;n++){var r=As[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&Ir(nn,e),rn!==null&&Ir(rn,e),sn!==null&&Ir(sn,e),ss.forEach(t),ls.forEach(t),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)yd(n),n.blockedOn===null&&Qt.shift()}var ir=Mt.ReactCurrentBatchConfig,xl=!0;function df(e,t,n,r){var l=Y,i=ir.transition;ir.transition=null;try{Y=1,to(e,t,n,r)}finally{Y=l,ir.transition=i}}function mf(e,t,n,r){var l=Y,i=ir.transition;ir.transition=null;try{Y=4,to(e,t,n,r)}finally{Y=l,ir.transition=i}}function to(e,t,n,r){if(xl){var l=Ji(e,t,n,r);if(l===null)vi(e,t,r,yl,n),rc(e,r);else if(cf(l,e,t,n,r))r.stopPropagation();else if(rc(e,r),t&4&&-1<of.indexOf(e)){for(;l!==null;){var i=Ps(l);if(i!==null&&hd(i),i=Ji(e,t,n,r),i===null&&vi(e,t,r,yl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else vi(e,t,r,null,n)}}var yl=null;function Ji(e,t,n,r){if(yl=null,e=qa(r),e=vn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yl=e,null}function gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case Ja:return 1;case cd:return 4;case fl:case Zh:return 16;case ud:return 536870912;default:return 16}default:return 16}}var en=null,no=null,tl=null;function vd(){if(tl)return tl;var e,t=no,n=t.length,r,l="value"in en?en.value:en.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return tl=l.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function lc(){return!1}function He(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:lc,this.isPropagationStopped=lc,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=He(Tr),Cs=le({},Tr,{view:0,detail:0}),hf=He(Cs),ui,di,Mr,Ul=le({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(ui=e.screenX-Mr.screenX,di=e.screenY-Mr.screenY):di=ui=0,Mr=e),ui)},movementY:function(e){return"movementY"in e?e.movementY:di}}),ic=He(Ul),ff=le({},Ul,{dataTransfer:0}),pf=He(ff),xf=le({},Cs,{relatedTarget:0}),mi=He(xf),yf=le({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),gf=He(yf),vf=le({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=He(vf),Nf=le({},Tr,{data:0}),ac=He(Nf),wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sf[e])?!!t[e]:!1}function so(){return kf}var Cf=le({},Cs,{key:function(e){if(e.key){var t=wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pf=He(Cf),Ef=le({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=He(Ef),Rf=le({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),Tf=He(Rf),Of=le({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_f=He(Of),Df=le({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lf=He(Df),Ff=[9,13,27,32],lo=Dt&&"CompositionEvent"in window,Gr=null;Dt&&"documentMode"in document&&(Gr=document.documentMode);var If=Dt&&"TextEvent"in window&&!Gr,jd=Dt&&(!lo||Gr&&8<Gr&&11>=Gr),cc=" ",uc=!1;function Nd(e,t){switch(e){case"keyup":return Ff.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function Mf(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(uc=!0,cc);case"textInput":return e=t.data,e===cc&&uc?null:e;default:return null}}function Af(e,t){if(Kn)return e==="compositionend"||!lo&&Nd(e,t)?(e=vd(),tl=no=en=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var Uf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uf[e.type]:t==="textarea"}function bd(e,t,n,r){ed(r),t=gl(t,"onChange"),0<t.length&&(n=new ro("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xr=null,as=null;function zf(e){Ld(e,0)}function zl(e){var t=Yn(e);if(Ku(t))return e}function $f(e,t){if(e==="change")return t}var Sd=!1;if(Dt){var hi;if(Dt){var fi="oninput"in document;if(!fi){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),fi=typeof mc.oninput=="function"}hi=fi}else hi=!1;Sd=hi&&(!document.documentMode||9<document.documentMode)}function hc(){Xr&&(Xr.detachEvent("onpropertychange",kd),as=Xr=null)}function kd(e){if(e.propertyName==="value"&&zl(as)){var t=[];bd(t,as,e,qa(e)),sd(zf,t)}}function Bf(e,t,n){e==="focusin"?(hc(),Xr=t,as=n,Xr.attachEvent("onpropertychange",kd)):e==="focusout"&&hc()}function Qf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(as)}function Wf(e,t){if(e==="click")return zl(t)}function Vf(e,t){if(e==="input"||e==="change")return zl(t)}function Hf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Hf;function os(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Li.call(t,l)||!ut(e[l],t[l]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pc(e,t){var n=fc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fc(n)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kf(e){var t=Pd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cd(n.ownerDocument.documentElement,n)){if(r!==null&&io(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=pc(n,i);var a=pc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gf=Dt&&"documentMode"in document&&11>=document.documentMode,Gn=null,Zi=null,Yr=null,ea=!1;function xc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ea||Gn==null||Gn!==dl(r)||(r=Gn,"selectionStart"in r&&io(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&os(Yr,r)||(Yr=r,r=gl(Zi,"onSelect"),0<r.length&&(t=new ro("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gn)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},pi={},Ed={};Dt&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function $l(e){if(pi[e])return pi[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ed)return pi[e]=t[n];return e}var Rd=$l("animationend"),Td=$l("animationiteration"),Od=$l("animationstart"),_d=$l("transitionend"),Dd=new Map,yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){Dd.set(e,t),$n(t,[e])}for(var xi=0;xi<yc.length;xi++){var yi=yc[xi],Xf=yi.toLowerCase(),Yf=yi[0].toUpperCase()+yi.slice(1);fn(Xf,"on"+Yf)}fn(Rd,"onAnimationEnd");fn(Td,"onAnimationIteration");fn(Od,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(_d,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function gc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gh(r,t,void 0,e),e.currentTarget=null}function Ld(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,m=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;gc(l,o,m),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,m=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;gc(l,o,m),i=c}}}if(hl)throw e=Xi,hl=!1,Xi=null,e}function J(e,t){var n=t[la];n===void 0&&(n=t[la]=new Set);var r=e+"__bubble";n.has(r)||(Fd(t,e,2,!1),n.add(r))}function gi(e,t,n){var r=0;t&&(r|=4),Fd(n,e,r,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[$s]){e[$s]=!0,Bu.forEach(function(n){n!=="selectionchange"&&(qf.has(n)||gi(n,!1,e),gi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,gi("selectionchange",!1,t))}}function Fd(e,t,n,r){switch(gd(t)){case 1:var l=df;break;case 4:l=mf;break;default:l=to}n=l.bind(null,t,n,e),l=void 0,!Gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function vi(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=vn(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}sd(function(){var m=i,v=qa(n),x=[];e:{var d=Dd.get(e);if(d!==void 0){var N=ro,S=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":N=Pf;break;case"focusin":S="focus",N=mi;break;case"focusout":S="blur",N=mi;break;case"beforeblur":case"afterblur":N=mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Tf;break;case Rd:case Td:case Od:N=gf;break;case _d:N=_f;break;case"scroll":N=hf;break;case"wheel":N=Lf;break;case"copy":case"cut":case"paste":N=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=oc}var y=(t&4)!==0,R=!y&&e==="scroll",h=y?d!==null?d+"Capture":null:d;y=[];for(var f=m,u;f!==null;){u=f;var j=u.stateNode;if(u.tag===5&&j!==null&&(u=j,h!==null&&(j=rs(f,h),j!=null&&y.push(us(f,j,u)))),R)break;f=f.return}0<y.length&&(d=new N(d,S,null,n,v),x.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",d&&n!==Hi&&(S=n.relatedTarget||n.fromElement)&&(vn(S)||S[Lt]))break e;if((N||d)&&(d=v.window===v?v:(d=v.ownerDocument)?d.defaultView||d.parentWindow:window,N?(S=n.relatedTarget||n.toElement,N=m,S=S?vn(S):null,S!==null&&(R=Bn(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(N=null,S=m),N!==S)){if(y=ic,j="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=oc,j="onPointerLeave",h="onPointerEnter",f="pointer"),R=N==null?d:Yn(N),u=S==null?d:Yn(S),d=new y(j,f+"leave",N,n,v),d.target=R,d.relatedTarget=u,j=null,vn(v)===m&&(y=new y(h,f+"enter",S,n,v),y.target=u,y.relatedTarget=R,j=y),R=j,N&&S)t:{for(y=N,h=S,f=0,u=y;u;u=Wn(u))f++;for(u=0,j=h;j;j=Wn(j))u++;for(;0<f-u;)y=Wn(y),f--;for(;0<u-f;)h=Wn(h),u--;for(;f--;){if(y===h||h!==null&&y===h.alternate)break t;y=Wn(y),h=Wn(h)}y=null}else y=null;N!==null&&vc(x,d,N,y,!1),S!==null&&R!==null&&vc(x,R,S,y,!0)}}e:{if(d=m?Yn(m):window,N=d.nodeName&&d.nodeName.toLowerCase(),N==="select"||N==="input"&&d.type==="file")var T=$f;else if(dc(d))if(Sd)T=Vf;else{T=Qf;var E=Bf}else(N=d.nodeName)&&N.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Wf);if(T&&(T=T(e,m))){bd(x,T,n,v);break e}E&&E(e,d,m),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&$i(d,"number",d.value)}switch(E=m?Yn(m):window,e){case"focusin":(dc(E)||E.contentEditable==="true")&&(Gn=E,Zi=m,Yr=null);break;case"focusout":Yr=Zi=Gn=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,xc(x,n,v);break;case"selectionchange":if(Gf)break;case"keydown":case"keyup":xc(x,n,v)}var P;if(lo)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Kn?Nd(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(jd&&n.locale!=="ko"&&(Kn||g!=="onCompositionStart"?g==="onCompositionEnd"&&Kn&&(P=vd()):(en=v,no="value"in en?en.value:en.textContent,Kn=!0)),E=gl(m,g),0<E.length&&(g=new ac(g,e,null,n,v),x.push({event:g,listeners:E}),P?g.data=P:(P=wd(n),P!==null&&(g.data=P)))),(P=If?Mf(e,n):Af(e,n))&&(m=gl(m,"onBeforeInput"),0<m.length&&(v=new ac("onBeforeInput","beforeinput",null,n,v),x.push({event:v,listeners:m}),v.data=P))}Ld(x,t)})}function us(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=rs(e,n),i!=null&&r.unshift(us(e,i,l)),i=rs(e,t),i!=null&&r.push(us(e,i,l))),e=e.return}return r}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,m=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&m!==null&&(o=m,l?(c=rs(n,i),c!=null&&a.unshift(us(n,c,o))):l||(c=rs(n,i),c!=null&&a.push(us(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Jf=/\r\n?/g,Zf=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(Jf,`
`).replace(Zf,"")}function Bs(e,t,n){if(t=jc(t),jc(e)!==t&&n)throw Error(_(425))}function vl(){}var ta=null,na=null;function ra(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sa=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(e){return Nc.resolve(null).then(e).catch(np)}:sa;function np(e){setTimeout(function(){throw e})}function ji(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),is(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);is(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),gt="__reactFiber$"+Or,ds="__reactProps$"+Or,Lt="__reactContainer$"+Or,la="__reactEvents$"+Or,rp="__reactListeners$"+Or,sp="__reactHandles$"+Or;function vn(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wc(e);e!==null;){if(n=e[gt])return n;e=wc(e)}return t}e=n,n=e.parentNode}return null}function Ps(e){return e=e[gt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Bl(e){return e[ds]||null}var ia=[],qn=-1;function pn(e){return{current:e}}function Z(e){0>qn||(e.current=ia[qn],ia[qn]=null,qn--)}function q(e,t){qn++,ia[qn]=e.current,e.current=t}var hn={},ke=pn(hn),Me=pn(!1),Ln=hn;function wr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ae(e){return e=e.childContextTypes,e!=null}function jl(){Z(Me),Z(ke)}function bc(e,t,n){if(ke.current!==hn)throw Error(_(168));q(ke,t),q(Me,n)}function Id(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,$h(e)||"Unknown",l));return le({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Ln=ke.current,q(ke,e),q(Me,Me.current),!0}function Sc(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Id(e,t,Ln),r.__reactInternalMemoizedMergedChildContext=e,Z(Me),Z(ke),q(ke,e)):Z(Me),q(Me,n)}var St=null,Ql=!1,Ni=!1;function Md(e){St===null?St=[e]:St.push(e)}function lp(e){Ql=!0,Md(e)}function xn(){if(!Ni&&St!==null){Ni=!0;var e=0,t=Y;try{var n=St;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,Ql=!1}catch(l){throw St!==null&&(St=St.slice(e+1)),od(Ja,xn),l}finally{Y=t,Ni=!1}}return null}var Jn=[],Zn=0,wl=null,bl=0,Ye=[],qe=0,Fn=null,Rt=1,Tt="";function yn(e,t){Jn[Zn++]=bl,Jn[Zn++]=wl,wl=e,bl=t}function Ad(e,t,n){Ye[qe++]=Rt,Ye[qe++]=Tt,Ye[qe++]=Fn,Fn=e;var r=Rt;e=Tt;var l=32-ot(r)-1;r&=~(1<<l),n+=1;var i=32-ot(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Rt=1<<32-ot(t)+l|n<<l|r,Tt=i+e}else Rt=1<<i|n<<l|r,Tt=e}function ao(e){e.return!==null&&(yn(e,1),Ad(e,1,0))}function oo(e){for(;e===wl;)wl=Jn[--Zn],Jn[Zn]=null,bl=Jn[--Zn],Jn[Zn]=null;for(;e===Fn;)Fn=Ye[--qe],Ye[qe]=null,Tt=Ye[--qe],Ye[qe]=null,Rt=Ye[--qe],Ye[qe]=null}var Be=null,$e=null,te=!1,at=null;function Ud(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,$e=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fn!==null?{id:Rt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,$e=null,!0):!1;default:return!1}}function aa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oa(e){if(te){var t=$e;if(t){var n=t;if(!kc(e,t)){if(aa(e))throw Error(_(418));t=ln(n.nextSibling);var r=Be;t&&kc(e,t)?Ud(r,n):(e.flags=e.flags&-4097|2,te=!1,Be=e)}}else{if(aa(e))throw Error(_(418));e.flags=e.flags&-4097|2,te=!1,Be=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Qs(e){if(e!==Be)return!1;if(!te)return Cc(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ra(e.type,e.memoizedProps)),t&&(t=$e)){if(aa(e))throw zd(),Error(_(418));for(;t;)Ud(e,t),t=ln(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Be?ln(e.stateNode.nextSibling):null;return!0}function zd(){for(var e=$e;e;)e=ln(e.nextSibling)}function br(){$e=Be=null,te=!1}function co(e){at===null?at=[e]:at.push(e)}var ip=Mt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pc(e){var t=e._init;return t(e._payload)}function $d(e){function t(h,f){if(e){var u=h.deletions;u===null?(h.deletions=[f],h.flags|=16):u.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=un(h,f),h.index=0,h.sibling=null,h}function i(h,f,u){return h.index=u,e?(u=h.alternate,u!==null?(u=u.index,u<f?(h.flags|=2,f):u):(h.flags|=2,f)):(h.flags|=1048576,f)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,u,j){return f===null||f.tag!==6?(f=Ei(u,h.mode,j),f.return=h,f):(f=l(f,u),f.return=h,f)}function c(h,f,u,j){var T=u.type;return T===Hn?v(h,f,u.props.children,j,u.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$t&&Pc(T)===f.type)?(j=l(f,u.props),j.ref=Ar(h,f,u),j.return=h,j):(j=cl(u.type,u.key,u.props,null,h.mode,j),j.ref=Ar(h,f,u),j.return=h,j)}function m(h,f,u,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==u.containerInfo||f.stateNode.implementation!==u.implementation?(f=Ri(u,h.mode,j),f.return=h,f):(f=l(f,u.children||[]),f.return=h,f)}function v(h,f,u,j,T){return f===null||f.tag!==7?(f=Dn(u,h.mode,j,T),f.return=h,f):(f=l(f,u),f.return=h,f)}function x(h,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ei(""+f,h.mode,u),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ds:return u=cl(f.type,f.key,f.props,null,h.mode,u),u.ref=Ar(h,null,f),u.return=h,u;case Vn:return f=Ri(f,h.mode,u),f.return=h,f;case $t:var j=f._init;return x(h,j(f._payload),u)}if(Br(f)||Dr(f))return f=Dn(f,h.mode,u,null),f.return=h,f;Ws(h,f)}return null}function d(h,f,u,j){var T=f!==null?f.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return T!==null?null:o(h,f,""+u,j);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Ds:return u.key===T?c(h,f,u,j):null;case Vn:return u.key===T?m(h,f,u,j):null;case $t:return T=u._init,d(h,f,T(u._payload),j)}if(Br(u)||Dr(u))return T!==null?null:v(h,f,u,j,null);Ws(h,u)}return null}function N(h,f,u,j,T){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(u)||null,o(f,h,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ds:return h=h.get(j.key===null?u:j.key)||null,c(f,h,j,T);case Vn:return h=h.get(j.key===null?u:j.key)||null,m(f,h,j,T);case $t:var E=j._init;return N(h,f,u,E(j._payload),T)}if(Br(j)||Dr(j))return h=h.get(u)||null,v(f,h,j,T,null);Ws(f,j)}return null}function S(h,f,u,j){for(var T=null,E=null,P=f,g=f=0,b=null;P!==null&&g<u.length;g++){P.index>g?(b=P,P=null):b=P.sibling;var k=d(h,P,u[g],j);if(k===null){P===null&&(P=b);break}e&&P&&k.alternate===null&&t(h,P),f=i(k,f,g),E===null?T=k:E.sibling=k,E=k,P=b}if(g===u.length)return n(h,P),te&&yn(h,g),T;if(P===null){for(;g<u.length;g++)P=x(h,u[g],j),P!==null&&(f=i(P,f,g),E===null?T=P:E.sibling=P,E=P);return te&&yn(h,g),T}for(P=r(h,P);g<u.length;g++)b=N(P,h,g,u[g],j),b!==null&&(e&&b.alternate!==null&&P.delete(b.key===null?g:b.key),f=i(b,f,g),E===null?T=b:E.sibling=b,E=b);return e&&P.forEach(function(D){return t(h,D)}),te&&yn(h,g),T}function y(h,f,u,j){var T=Dr(u);if(typeof T!="function")throw Error(_(150));if(u=T.call(u),u==null)throw Error(_(151));for(var E=T=null,P=f,g=f=0,b=null,k=u.next();P!==null&&!k.done;g++,k=u.next()){P.index>g?(b=P,P=null):b=P.sibling;var D=d(h,P,k.value,j);if(D===null){P===null&&(P=b);break}e&&P&&D.alternate===null&&t(h,P),f=i(D,f,g),E===null?T=D:E.sibling=D,E=D,P=b}if(k.done)return n(h,P),te&&yn(h,g),T;if(P===null){for(;!k.done;g++,k=u.next())k=x(h,k.value,j),k!==null&&(f=i(k,f,g),E===null?T=k:E.sibling=k,E=k);return te&&yn(h,g),T}for(P=r(h,P);!k.done;g++,k=u.next())k=N(P,h,g,k.value,j),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?g:k.key),f=i(k,f,g),E===null?T=k:E.sibling=k,E=k);return e&&P.forEach(function(A){return t(h,A)}),te&&yn(h,g),T}function R(h,f,u,j){if(typeof u=="object"&&u!==null&&u.type===Hn&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case Ds:e:{for(var T=u.key,E=f;E!==null;){if(E.key===T){if(T=u.type,T===Hn){if(E.tag===7){n(h,E.sibling),f=l(E,u.props.children),f.return=h,h=f;break e}}else if(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===$t&&Pc(T)===E.type){n(h,E.sibling),f=l(E,u.props),f.ref=Ar(h,E,u),f.return=h,h=f;break e}n(h,E);break}else t(h,E);E=E.sibling}u.type===Hn?(f=Dn(u.props.children,h.mode,j,u.key),f.return=h,h=f):(j=cl(u.type,u.key,u.props,null,h.mode,j),j.ref=Ar(h,f,u),j.return=h,h=j)}return a(h);case Vn:e:{for(E=u.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===u.containerInfo&&f.stateNode.implementation===u.implementation){n(h,f.sibling),f=l(f,u.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Ri(u,h.mode,j),f.return=h,h=f}return a(h);case $t:return E=u._init,R(h,f,E(u._payload),j)}if(Br(u))return S(h,f,u,j);if(Dr(u))return y(h,f,u,j);Ws(h,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,u),f.return=h,h=f):(n(h,f),f=Ei(u,h.mode,j),f.return=h,h=f),a(h)):n(h,f)}return R}var Sr=$d(!0),Bd=$d(!1),Sl=pn(null),kl=null,er=null,uo=null;function mo(){uo=er=kl=null}function ho(e){var t=Sl.current;Z(Sl),e._currentValue=t}function ca(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ar(e,t){kl=e,uo=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(uo!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(kl===null)throw Error(_(308));er=e,kl.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var jn=null;function fo(e){jn===null?jn=[e]:jn.push(e)}function Qd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,fo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ft(e,n)}return l=r.interleaved,l===null?(t.next=t,fo(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ft(e,n)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Za(e,n)}}function Ec(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var l=e.updateQueue;Bt=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,m=c.next;c.next=null,a===null?i=m:a.next=m,a=c;var v=e.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==a&&(o===null?v.firstBaseUpdate=m:o.next=m,v.lastBaseUpdate=c))}if(i!==null){var x=l.baseState;a=0,v=m=c=null,o=i;do{var d=o.lane,N=o.eventTime;if((r&d)===d){v!==null&&(v=v.next={eventTime:N,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,y=o;switch(d=t,N=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){x=S.call(N,x,d);break e}x=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,d=typeof S=="function"?S.call(N,x,d):S,d==null)break e;x=le({},x,d);break e;case 2:Bt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=l.effects,d===null?l.effects=[o]:d.push(o))}else N={eventTime:N,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(m=v=N,c=x):v=v.next=N,a|=d;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;d=o,o=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(!0);if(v===null&&(c=x),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=v,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Mn|=a,e.lanes=a,e.memoizedState=x}}function Rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Es={},jt=pn(Es),ms=pn(Es),hs=pn(Es);function Nn(e){if(e===Es)throw Error(_(174));return e}function xo(e,t){switch(q(hs,t),q(ms,e),q(jt,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qi(t,e)}Z(jt),q(jt,t)}function kr(){Z(jt),Z(ms),Z(hs)}function Vd(e){Nn(hs.current);var t=Nn(jt.current),n=Qi(t,e.type);t!==n&&(q(ms,e),q(jt,n))}function yo(e){ms.current===e&&(Z(jt),Z(ms))}var re=pn(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wi=[];function go(){for(var e=0;e<wi.length;e++)wi[e]._workInProgressVersionPrimary=null;wi.length=0}var sl=Mt.ReactCurrentDispatcher,bi=Mt.ReactCurrentBatchConfig,In=0,se=null,me=null,xe=null,El=!1,qr=!1,fs=0,ap=0;function Ne(){throw Error(_(321))}function vo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ut(e[n],t[n]))return!1;return!0}function jo(e,t,n,r,l,i){if(In=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=e===null||e.memoizedState===null?dp:mp,e=n(r,l),qr){i=0;do{if(qr=!1,fs=0,25<=i)throw Error(_(301));i+=1,xe=me=null,t.updateQueue=null,sl.current=hp,e=n(r,l)}while(qr)}if(sl.current=Rl,t=me!==null&&me.next!==null,In=0,xe=me=se=null,El=!1,t)throw Error(_(300));return e}function No(){var e=fs!==0;return fs=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?se.memoizedState=xe=e:xe=xe.next=e,xe}function tt(){if(me===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=xe===null?se.memoizedState:xe.next;if(t!==null)xe=t,me=e;else{if(e===null)throw Error(_(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?se.memoizedState=xe=e:xe=xe.next=e}return xe}function ps(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=tt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=me,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,c=null,m=i;do{var v=m.lane;if((In&v)===v)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var x={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(o=c=x,a=r):c=c.next=x,se.lanes|=v,Mn|=v}m=m.next}while(m!==null&&m!==i);c===null?a=r:c.next=o,ut(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,se.lanes|=i,Mn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=tt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);ut(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Hd(){}function Kd(e,t){var n=se,r=tt(),l=t(),i=!ut(r.memoizedState,l);if(i&&(r.memoizedState=l,Ie=!0),r=r.queue,wo(Yd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,xs(9,Xd.bind(null,n,r,l,t),void 0,null),ye===null)throw Error(_(349));In&30||Gd(n,t,l)}return l}function Gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xd(e,t,n,r){t.value=n,t.getSnapshot=r,qd(t)&&Jd(e)}function Yd(e,t,n){return n(function(){qd(t)&&Jd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ut(e,n)}catch{return!0}}function Jd(e){var t=Ft(e,1);t!==null&&ct(t,e,1,-1)}function Tc(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,se,e),[t.memoizedState,e]}function xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zd(){return tt().memoizedState}function ll(e,t,n,r){var l=ft();se.flags|=e,l.memoizedState=xs(1|t,n,void 0,r===void 0?null:r)}function Wl(e,t,n,r){var l=tt();r=r===void 0?null:r;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,r!==null&&vo(r,a.deps)){l.memoizedState=xs(t,n,i,r);return}}se.flags|=e,l.memoizedState=xs(1|t,n,i,r)}function Oc(e,t){return ll(8390656,8,e,t)}function wo(e,t){return Wl(2048,8,e,t)}function em(e,t){return Wl(4,2,e,t)}function tm(e,t){return Wl(4,4,e,t)}function nm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,n){return n=n!=null?n.concat([e]):null,Wl(4,4,nm.bind(null,t,e),n)}function bo(){}function sm(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function lm(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function im(e,t,n){return In&21?(ut(n,t)||(n=dd(),se.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function op(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=bi.transition;bi.transition={};try{e(!1),t()}finally{Y=n,bi.transition=r}}function am(){return tt().memoizedState}function cp(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},om(e))cm(t,n);else if(n=Qd(e,t,n,r),n!==null){var l=Re();ct(n,e,r,l),um(n,t,r)}}function up(e,t,n){var r=cn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(e))cm(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,ut(o,a)){var c=t.interleaved;c===null?(l.next=l,fo(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Qd(e,t,l,r),n!==null&&(l=Re(),ct(n,e,r,l),um(n,t,r))}}function om(e){var t=e.alternate;return e===se||t!==null&&t===se}function cm(e,t){qr=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function um(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Za(e,n)}}var Rl={readContext:et,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},dp={readContext:et,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ll(4194308,4,nm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return ll(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cp.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:bo,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=op.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,l=ft();if(te){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),ye===null)throw Error(_(349));In&30||Gd(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Oc(Yd.bind(null,r,i,e),[e]),r.flags|=2048,xs(9,Xd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ft(),t=ye.identifierPrefix;if(te){var n=Tt,r=Rt;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ap++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mp={readContext:et,useCallback:sm,useContext:et,useEffect:wo,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:Si,useRef:Zd,useState:function(){return Si(ps)},useDebugValue:bo,useDeferredValue:function(e){var t=tt();return im(t,me.memoizedState,e)},useTransition:function(){var e=Si(ps)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Kd,useId:am,unstable_isNewReconciler:!1},hp={readContext:et,useCallback:sm,useContext:et,useEffect:wo,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:lm,useReducer:ki,useRef:Zd,useState:function(){return ki(ps)},useDebugValue:bo,useDeferredValue:function(e){var t=tt();return me===null?t.memoizedState=e:im(t,me.memoizedState,e)},useTransition:function(){var e=ki(ps)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Hd,useSyncExternalStore:Kd,useId:am,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ua(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vl={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),l=cn(e),i=Ot(r,l);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,l),t!==null&&(ct(t,e,l,r),rl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),l=cn(e),i=Ot(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,l),t!==null&&(ct(t,e,l,r),rl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=cn(e),l=Ot(n,r);l.tag=2,t!=null&&(l.callback=t),t=an(e,l,r),t!==null&&(ct(t,e,r,n),rl(t,e,r))}};function _c(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!os(n,r)||!os(l,i):!0}function dm(e,t,n){var r=!1,l=hn,i=t.contextType;return typeof i=="object"&&i!==null?i=et(i):(l=Ae(t)?Ln:ke.current,r=t.contextTypes,i=(r=r!=null)?wr(e,l):hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Dc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vl.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},po(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=et(i):(i=Ae(t)?Ln:ke.current,l.context=wr(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ua(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Vl.enqueueReplaceState(l,l.state,null),Cl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,t){try{var n="",r=t;do n+=zh(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function Ci(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fp=typeof WeakMap=="function"?WeakMap:Map;function mm(e,t,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,wa=r),ma(e,t)},n}function hm(e,t,n){n=Ot(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ma(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ma(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fp;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Ep.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ot(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var pp=Mt.ReactCurrentOwner,Ie=!1;function Pe(e,t,n,r){t.child=e===null?Bd(t,null,n,r):Sr(t,e.child,n,r)}function Mc(e,t,n,r,l){n=n.render;var i=t.ref;return ar(t,l),r=jo(e,t,n,r,i,l),n=No(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(te&&n&&ao(t),t.flags|=1,Pe(e,t,r,l),t.child)}function Ac(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Oo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fm(e,t,i,r,l)):(e=cl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(a,r)&&e.ref===t.ref)return It(e,t,l)}return t.flags|=1,e=un(i,r),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(os(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,It(e,t,l)}return ha(e,t,n,r,l)}function pm(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(nr,ze),ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(nr,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(nr,ze),ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,q(nr,ze),ze|=r;return Pe(e,t,l,n),t.child}function xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ha(e,t,n,r,l){var i=Ae(n)?Ln:ke.current;return i=wr(t,i),ar(t,l),n=jo(e,t,n,r,i,l),r=No(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(te&&r&&ao(t),t.flags|=1,Pe(e,t,n,l),t.child)}function Uc(e,t,n,r,l){if(Ae(n)){var i=!0;Nl(t)}else i=!1;if(ar(t,l),t.stateNode===null)il(e,t),dm(t,n,r),da(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=et(m):(m=Ae(n)?Ln:ke.current,m=wr(t,m));var v=n.getDerivedStateFromProps,x=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==m)&&Dc(t,a,r,m),Bt=!1;var d=t.memoizedState;a.state=d,Cl(t,r,a,l),c=t.memoizedState,o!==r||d!==c||Me.current||Bt?(typeof v=="function"&&(ua(t,n,v,r),c=t.memoizedState),(o=Bt||_c(t,n,o,r,d,c,m))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=m,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Wd(e,t),o=t.memoizedProps,m=t.type===t.elementType?o:rt(t.type,o),a.props=m,x=t.pendingProps,d=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=et(c):(c=Ae(n)?Ln:ke.current,c=wr(t,c));var N=n.getDerivedStateFromProps;(v=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==x||d!==c)&&Dc(t,a,r,c),Bt=!1,d=t.memoizedState,a.state=d,Cl(t,r,a,l);var S=t.memoizedState;o!==x||d!==S||Me.current||Bt?(typeof N=="function"&&(ua(t,n,N,r),S=t.memoizedState),(m=Bt||_c(t,n,m,r,d,S,c)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=c,r=m):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return fa(e,t,n,r,i,l)}function fa(e,t,n,r,l,i){xm(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&Sc(t,n,!1),It(e,t,i);r=t.stateNode,pp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Sr(t,e.child,null,i),t.child=Sr(t,null,o,i)):Pe(e,t,o,i),t.memoizedState=r.state,l&&Sc(t,n,!0),t.child}function ym(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),xo(e,t.containerInfo)}function zc(e,t,n,r,l){return br(),co(l),t.flags|=256,Pe(e,t,n,r),t.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function gm(e,t,n){var r=t.pendingProps,l=re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),q(re,l&1),e===null)return oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Gl(a,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=xa(n),t.memoizedState=pa,e):So(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return xp(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=un(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=un(o,i):(i=Dn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?xa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=pa,r}return i=e.child,e=i.sibling,r=un(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function So(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,n,r){return r!==null&&co(r),Sr(t,e.child,null,n),e=So(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xp(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Ci(Error(_(422))),Vs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=Gl({mode:"visible",children:r.children},l,0,null),i=Dn(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Sr(t,e.child,null,a),t.child.memoizedState=xa(a),t.memoizedState=pa,i);if(!(t.mode&1))return Vs(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(_(419)),r=Ci(i,r,void 0),Vs(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ie||o){if(r=ye,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Ft(e,l),ct(r,e,l,-1))}return To(),r=Ci(Error(_(421))),Vs(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Rp.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,$e=ln(l.nextSibling),Be=t,te=!0,at=null,e!==null&&(Ye[qe++]=Rt,Ye[qe++]=Tt,Ye[qe++]=Fn,Rt=e.id,Tt=e.overflow,Fn=t),t=So(t,r.children),t.flags|=4096,t)}function $c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ca(e.return,t,n)}function Pi(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function vm(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Pe(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$c(e,n,t);else if(e.tag===19)$c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(re,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Pi(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Pl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Pi(t,!0,n,null,i);break;case"together":Pi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function yp(e,t,n){switch(t.tag){case 3:ym(t),br();break;case 5:Vd(t);break;case 1:Ae(t.type)&&Nl(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;q(Sl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?gm(e,t,n):(q(re,re.current&1),e=It(e,t,n),e!==null?e.sibling:null);q(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return It(e,t,n)}var jm,ya,Nm,wm;jm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ya=function(){};Nm=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Nn(jt.current);var i=null;switch(n){case"input":l=Ui(e,l),r=Ui(e,r),i=[];break;case"select":l=le({},l,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":l=Bi(e,l),r=Bi(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vl)}Wi(n,r);var a;n=null;for(m in l)if(!r.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var o=l[m];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ts.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in r){var c=r[m];if(o=l!=null?l[m]:void 0,r.hasOwnProperty(m)&&c!==o&&(c!=null||o!=null))if(m==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(m,n)),n=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ts.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&J("scroll",e),i||o===c||(i=[])):(i=i||[]).push(m,c))}n&&(i=i||[]).push("style",n);var m=i;(t.updateQueue=m)&&(t.flags|=4)}};wm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ur(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gp(e,t,n){var r=t.pendingProps;switch(oo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ae(t.type)&&jl(),we(t),null;case 3:return r=t.stateNode,kr(),Z(Me),Z(ke),go(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(ka(at),at=null))),ya(e,t),we(t),null;case 5:yo(t);var l=Nn(hs.current);if(n=t.type,e!==null&&t.stateNode!=null)Nm(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return we(t),null}if(e=Nn(jt.current),Qs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gt]=t,r[ds]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(l=0;l<Wr.length;l++)J(Wr[l],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Yo(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":Jo(r,i),J("invalid",r)}Wi(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Bs(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Bs(r.textContent,o,e),l=["children",""+o]):ts.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&J("scroll",r)}switch(n){case"input":Ls(r),qo(r,i,!0);break;case"textarea":Ls(r),Zo(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[gt]=t,e[ds]=r,jm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Vi(n,r),n){case"dialog":J("cancel",e),J("close",e),l=r;break;case"iframe":case"object":case"embed":J("load",e),l=r;break;case"video":case"audio":for(l=0;l<Wr.length;l++)J(Wr[l],e);l=r;break;case"source":J("error",e),l=r;break;case"img":case"image":case"link":J("error",e),J("load",e),l=r;break;case"details":J("toggle",e),l=r;break;case"input":Yo(e,r),l=Ui(e,r),J("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=le({},r,{value:void 0}),J("invalid",e);break;case"textarea":Jo(e,r),l=Bi(e,r),J("invalid",e);break;default:l=r}Wi(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Zu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ns(e,c):typeof c=="number"&&ns(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ts.hasOwnProperty(i)?c!=null&&i==="onScroll"&&J("scroll",e):c!=null&&Ka(e,i,c,a))}switch(n){case"input":Ls(e),qo(e,r,!1);break;case"textarea":Ls(e),Zo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?rr(e,!!r.multiple,i,!1):r.defaultValue!=null&&rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)wm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=Nn(hs.current),Nn(jt.current),Qs(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:Bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return we(t),null;case 13:if(Z(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&$e!==null&&t.mode&1&&!(t.flags&128))zd(),br(),t.flags|=98560,i=!1;else if(i=Qs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[gt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else at!==null&&(ka(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?fe===0&&(fe=3):To())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return kr(),ya(e,t),e===null&&cs(t.stateNode.containerInfo),we(t),null;case 10:return ho(t.type._context),we(t),null;case 17:return Ae(t.type)&&jl(),we(t),null;case 19:if(Z(re),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ur(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Pl(e),a!==null){for(t.flags|=128,Ur(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>Pr&&(t.flags|=128,r=!0,Ur(i,!1),t.lanes=4194304)}else{if(!r)if(e=Pl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return we(t),null}else 2*ce()-i.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,Ur(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=re.current,q(re,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Ro(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function vp(e,t){switch(oo(t),t.tag){case 1:return Ae(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),Z(Me),Z(ke),go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yo(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return kr(),null;case 10:return ho(t.type._context),null;case 22:case 23:return Ro(),null;case 24:return null;default:return null}}var Hs=!1,Se=!1,jp=typeof WeakSet=="function"?WeakSet:Set,I=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function ga(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Bc=!1;function Np(e,t){if(ta=xl,e=Pd(),io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,m=0,v=0,x=e,d=null;t:for(;;){for(var N;x!==n||l!==0&&x.nodeType!==3||(o=a+l),x!==i||r!==0&&x.nodeType!==3||(c=a+r),x.nodeType===3&&(a+=x.nodeValue.length),(N=x.firstChild)!==null;)d=x,x=N;for(;;){if(x===e)break t;if(d===n&&++m===l&&(o=a),d===i&&++v===r&&(c=a),(N=x.nextSibling)!==null)break;x=d,d=x.parentNode}x=N}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(na={focusedElem:e,selectionRange:n},xl=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,R=S.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:rt(t.type,y),R);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(j){ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return S=Bc,Bc=!1,S}function Jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&ga(t,n,i)}l=l.next}while(l!==r)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bm(e){var t=e.alternate;t!==null&&(e.alternate=null,bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[ds],delete t[la],delete t[rp],delete t[sp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vl));else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}var ge=null,it=!1;function Ut(e,t,n){for(n=n.child;n!==null;)km(e,t,n),n=n.sibling}function km(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:Se||tr(n,t);case 6:var r=ge,l=it;ge=null,Ut(e,t,n),ge=r,it=l,ge!==null&&(it?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(it?(e=ge,n=n.stateNode,e.nodeType===8?ji(e.parentNode,n):e.nodeType===1&&ji(e,n),is(e)):ji(ge,n.stateNode));break;case 4:r=ge,l=it,ge=n.stateNode.containerInfo,it=!0,Ut(e,t,n),ge=r,it=l;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ga(n,t,a),l=l.next}while(l!==r)}Ut(e,t,n);break;case 1:if(!Se&&(tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ae(n,t,o)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Ut(e,t,n),Se=r):Ut(e,t,n);break;default:Ut(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jp),t.forEach(function(r){var l=Tp.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,it=!1;break e;case 3:ge=o.stateNode.containerInfo,it=!0;break e;case 4:ge=o.stateNode.containerInfo,it=!0;break e}o=o.return}if(ge===null)throw Error(_(160));km(i,a,l),ge=null,it=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(m){ae(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cm(t,e),t=t.sibling}function Cm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ht(e),r&4){try{Jr(3,e,e.return),Hl(3,e)}catch(y){ae(e,e.return,y)}try{Jr(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:nt(t,e),ht(e),r&512&&n!==null&&tr(n,n.return);break;case 5:if(nt(t,e),ht(e),r&512&&n!==null&&tr(n,n.return),e.flags&32){var l=e.stateNode;try{ns(l,"")}catch(y){ae(e,e.return,y)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Gu(l,i),Vi(o,a);var m=Vi(o,i);for(a=0;a<c.length;a+=2){var v=c[a],x=c[a+1];v==="style"?Zu(l,x):v==="dangerouslySetInnerHTML"?qu(l,x):v==="children"?ns(l,x):Ka(l,v,x,m)}switch(o){case"input":zi(l,i);break;case"textarea":Xu(l,i);break;case"select":var d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?rr(l,!!i.multiple,N,!1):d!==!!i.multiple&&(i.defaultValue!=null?rr(l,!!i.multiple,i.defaultValue,!0):rr(l,!!i.multiple,i.multiple?[]:"",!1))}l[ds]=i}catch(y){ae(e,e.return,y)}}break;case 6:if(nt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(y){ae(e,e.return,y)}}break;case 3:if(nt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:nt(t,e),ht(e);break;case 13:nt(t,e),ht(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Po=ce())),r&4&&Wc(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(Se=(m=Se)||v,nt(t,e),Se=m):nt(t,e),ht(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(I=e,v=e.child;v!==null;){for(x=I=v;I!==null;){switch(d=I,N=d.child,d.tag){case 0:case 11:case 14:case 15:Jr(4,d,d.return);break;case 1:tr(d,d.return);var S=d.stateNode;if(typeof S.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){ae(r,n,y)}}break;case 5:tr(d,d.return);break;case 22:if(d.memoizedState!==null){Hc(x);continue}}N!==null?(N.return=d,I=N):Hc(x)}v=v.sibling}e:for(v=null,x=e;;){if(x.tag===5){if(v===null){v=x;try{l=x.stateNode,m?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=x.stateNode,c=x.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Ju("display",a))}catch(y){ae(e,e.return,y)}}}else if(x.tag===6){if(v===null)try{x.stateNode.nodeValue=m?"":x.memoizedProps}catch(y){ae(e,e.return,y)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;v===x&&(v=null),x=x.return}v===x&&(v=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:nt(t,e),ht(e),r&4&&Wc(e);break;case 21:break;default:nt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ns(l,""),r.flags&=-33);var i=Qc(e);Na(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Qc(e);ja(e,o,a);break;default:throw Error(_(161))}}catch(c){ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,n){I=e,Pm(e)}function Pm(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var l=I,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Hs;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Se;o=Hs;var m=Se;if(Hs=a,(Se=c)&&!m)for(I=l;I!==null;)a=I,c=a.child,a.tag===22&&a.memoizedState!==null?Kc(l):c!==null?(c.return=a,I=c):Kc(l);for(;i!==null;)I=i,Pm(i),i=i.sibling;I=l,Hs=o,Se=m}Vc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,I=i):Vc(e)}}function Vc(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||Hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Se)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var x=v.dehydrated;x!==null&&is(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Se||t.flags&512&&va(t)}catch(d){ae(t,t.return,d)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Hc(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Kc(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(c){ae(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){ae(t,l,c)}}var i=t.return;try{va(t)}catch(c){ae(t,i,c)}break;case 5:var a=t.return;try{va(t)}catch(c){ae(t,a,c)}}}catch(c){ae(t,t.return,c)}if(t===e){I=null;break}var o=t.sibling;if(o!==null){o.return=t.return,I=o;break}I=t.return}}var bp=Math.ceil,Tl=Mt.ReactCurrentDispatcher,ko=Mt.ReactCurrentOwner,Ze=Mt.ReactCurrentBatchConfig,H=0,ye=null,de=null,ve=0,ze=0,nr=pn(0),fe=0,ys=null,Mn=0,Kl=0,Co=0,Zr=null,Fe=null,Po=0,Pr=1/0,bt=null,Ol=!1,wa=null,on=null,Ks=!1,tn=null,_l=0,es=0,ba=null,al=-1,ol=0;function Re(){return H&6?ce():al!==-1?al:al=ce()}function cn(e){return e.mode&1?H&2&&ve!==0?ve&-ve:ip.transition!==null?(ol===0&&(ol=dd()),ol):(e=Y,e!==0||(e=window.event,e=e===void 0?16:gd(e.type)),e):1}function ct(e,t,n,r){if(50<es)throw es=0,ba=null,Error(_(185));ks(e,n,r),(!(H&2)||e!==ye)&&(e===ye&&(!(H&2)&&(Kl|=n),fe===4&&Wt(e,ve)),Ue(e,r),n===1&&H===0&&!(t.mode&1)&&(Pr=ce()+500,Ql&&xn()))}function Ue(e,t){var n=e.callbackNode;lf(e,t);var r=pl(e,e===ye?ve:0);if(r===0)n!==null&&nc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nc(n),t===1)e.tag===0?lp(Gc.bind(null,e)):Md(Gc.bind(null,e)),tp(function(){!(H&6)&&xn()}),n=null;else{switch(md(r)){case 1:n=Ja;break;case 4:n=cd;break;case 16:n=fl;break;case 536870912:n=ud;break;default:n=fl}n=Fm(n,Em.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Em(e,t){if(al=-1,ol=0,H&6)throw Error(_(327));var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var r=pl(e,e===ye?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dl(e,r);else{t=r;var l=H;H|=2;var i=Tm();(ye!==e||ve!==t)&&(bt=null,Pr=ce()+500,_n(e,t));do try{Cp();break}catch(o){Rm(e,o)}while(!0);mo(),Tl.current=i,H=l,de!==null?t=0:(ye=null,ve=0,t=fe)}if(t!==0){if(t===2&&(l=Yi(e),l!==0&&(r=l,t=Sa(e,l))),t===1)throw n=ys,_n(e,0),Wt(e,r),Ue(e,ce()),n;if(t===6)Wt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Sp(l)&&(t=Dl(e,r),t===2&&(i=Yi(e),i!==0&&(r=i,t=Sa(e,i))),t===1))throw n=ys,_n(e,0),Wt(e,r),Ue(e,ce()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:gn(e,Fe,bt);break;case 3:if(Wt(e,r),(r&130023424)===r&&(t=Po+500-ce(),10<t)){if(pl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=sa(gn.bind(null,e,Fe,bt),t);break}gn(e,Fe,bt);break;case 4:if(Wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-ot(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bp(r/1960))-r,10<r){e.timeoutHandle=sa(gn.bind(null,e,Fe,bt),r);break}gn(e,Fe,bt);break;case 5:gn(e,Fe,bt);break;default:throw Error(_(329))}}}return Ue(e,ce()),e.callbackNode===n?Em.bind(null,e):null}function Sa(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Dl(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&ka(t)),e}function ka(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function Sp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!ut(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Co,t&=~Kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Gc(e){if(H&6)throw Error(_(327));or();var t=pl(e,0);if(!(t&1))return Ue(e,ce()),null;var n=Dl(e,t);if(e.tag!==0&&n===2){var r=Yi(e);r!==0&&(t=r,n=Sa(e,r))}if(n===1)throw n=ys,_n(e,0),Wt(e,t),Ue(e,ce()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Fe,bt),Ue(e,ce()),null}function Eo(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Pr=ce()+500,Ql&&xn())}}function An(e){tn!==null&&tn.tag===0&&!(H&6)&&or();var t=H;H|=1;var n=Ze.transition,r=Y;try{if(Ze.transition=null,Y=1,e)return e()}finally{Y=r,Ze.transition=n,H=t,!(H&6)&&xn()}}function Ro(){ze=nr.current,Z(nr)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ep(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(oo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:kr(),Z(Me),Z(ke),go();break;case 5:yo(r);break;case 4:kr();break;case 13:Z(re);break;case 19:Z(re);break;case 10:ho(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(ye=e,de=e=un(e.current,null),ve=ze=t,fe=0,ys=null,Co=Kl=Mn=0,Fe=Zr=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}jn=null}return e}function Rm(e,t){do{var n=de;try{if(mo(),sl.current=Rl,El){for(var r=se.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}El=!1}if(In=0,xe=me=se=null,qr=!1,fs=0,ko.current=null,n===null||n.return===null){fe=1,ys=t,de=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=ve,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,v=o,x=v.tag;if(!(v.mode&1)&&(x===0||x===11||x===15)){var d=v.alternate;d?(v.updateQueue=d.updateQueue,v.memoizedState=d.memoizedState,v.lanes=d.lanes):(v.updateQueue=null,v.memoizedState=null)}var N=Fc(a);if(N!==null){N.flags&=-257,Ic(N,a,o,i,t),N.mode&1&&Lc(i,m,t),t=N,c=m;var S=t.updateQueue;if(S===null){var y=new Set;y.add(c),t.updateQueue=y}else S.add(c);break e}else{if(!(t&1)){Lc(i,m,t),To();break e}c=Error(_(426))}}else if(te&&o.mode&1){var R=Fc(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Ic(R,a,o,i,t),co(Cr(c,o));break e}}i=c=Cr(c,o),fe!==4&&(fe=2),Zr===null?Zr=[i]:Zr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=mm(i,c,t);Ec(i,h);break e;case 1:o=c;var f=i.type,u=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(on===null||!on.has(u)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=hm(i,o,t);Ec(i,j);break e}}i=i.return}while(i!==null)}_m(n)}catch(T){t=T,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Tm(){var e=Tl.current;return Tl.current=Rl,e===null?Rl:e}function To(){(fe===0||fe===3||fe===2)&&(fe=4),ye===null||!(Mn&268435455)&&!(Kl&268435455)||Wt(ye,ve)}function Dl(e,t){var n=H;H|=2;var r=Tm();(ye!==e||ve!==t)&&(bt=null,_n(e,t));do try{kp();break}catch(l){Rm(e,l)}while(!0);if(mo(),H=n,Tl.current=r,de!==null)throw Error(_(261));return ye=null,ve=0,fe}function kp(){for(;de!==null;)Om(de)}function Cp(){for(;de!==null&&!Yh();)Om(de)}function Om(e){var t=Lm(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?_m(e):de=t,ko.current=null}function _m(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vp(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,de=null;return}}else if(n=gp(n,t,ze),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);fe===0&&(fe=5)}function gn(e,t,n){var r=Y,l=Ze.transition;try{Ze.transition=null,Y=1,Pp(e,t,n,r)}finally{Ze.transition=l,Y=r}return null}function Pp(e,t,n,r){do or();while(tn!==null);if(H&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(af(e,i),e===ye&&(de=ye=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Fm(fl,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var a=Y;Y=1;var o=H;H|=4,ko.current=null,Np(e,n),Cm(n,e),Kf(na),xl=!!ta,na=ta=null,e.current=n,wp(n),qh(),H=o,Y=a,Ze.transition=i}else e.current=n;if(Ks&&(Ks=!1,tn=e,_l=l),i=e.pendingLanes,i===0&&(on=null),ef(n.stateNode),Ue(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ol)throw Ol=!1,e=wa,wa=null,e;return _l&1&&e.tag!==0&&or(),i=e.pendingLanes,i&1?e===ba?es++:(es=0,ba=e):es=0,xn(),null}function or(){if(tn!==null){var e=md(_l),t=Ze.transition,n=Y;try{if(Ze.transition=null,Y=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,_l=0,H&6)throw Error(_(331));var l=H;for(H|=4,I=e.current;I!==null;){var i=I,a=i.child;if(I.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var m=o[c];for(I=m;I!==null;){var v=I;switch(v.tag){case 0:case 11:case 15:Jr(8,v,i)}var x=v.child;if(x!==null)x.return=v,I=x;else for(;I!==null;){v=I;var d=v.sibling,N=v.return;if(bm(v),v===m){I=null;break}if(d!==null){d.return=N,I=d;break}I=N}}}var S=i.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var R=y.sibling;y.sibling=null,y=R}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,I=a;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,I=h;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){a=I;var u=a.child;if(a.subtreeFlags&2064&&u!==null)u.return=a,I=u;else e:for(a=f;I!==null;){if(o=I,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hl(9,o)}}catch(T){ae(o,o.return,T)}if(o===a){I=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,I=j;break e}I=o.return}}if(H=l,xn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Al,e)}catch{}r=!0}return r}finally{Y=n,Ze.transition=t}}return!1}function Xc(e,t,n){t=Cr(n,t),t=mm(e,t,1),e=an(e,t,1),t=Re(),e!==null&&(ks(e,1,t),Ue(e,t))}function ae(e,t,n){if(e.tag===3)Xc(e,e,n);else for(;t!==null;){if(t.tag===3){Xc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=Cr(n,e),e=hm(t,e,1),t=an(t,e,1),e=Re(),t!==null&&(ks(t,1,e),Ue(t,e));break}}t=t.return}}function Ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(ve&n)===n&&(fe===4||fe===3&&(ve&130023424)===ve&&500>ce()-Po?_n(e,0):Co|=n),Ue(e,t)}function Dm(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var n=Re();e=Ft(e,t),e!==null&&(ks(e,t,n),Ue(e,n))}function Rp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dm(e,n)}function Tp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Dm(e,n)}var Lm;Lm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,yp(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,te&&t.flags&1048576&&Ad(t,bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var l=wr(t,ke.current);ar(t,n),l=jo(null,t,r,e,l,n);var i=No();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(i=!0,Nl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,po(t),l.updater=Vl,t.stateNode=l,l._reactInternals=t,da(t,r,e,n),t=fa(null,t,r,!0,i,n)):(t.tag=0,te&&i&&ao(t),Pe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=_p(r),e=rt(r,e),l){case 0:t=ha(null,t,r,e,n);break e;case 1:t=Uc(null,t,r,e,n);break e;case 11:t=Mc(null,t,r,e,n);break e;case 14:t=Ac(null,t,r,rt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),ha(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Uc(e,t,r,l,n);case 3:e:{if(ym(t),e===null)throw Error(_(387));r=t.pendingProps,i=t.memoizedState,l=i.element,Wd(e,t),Cl(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Cr(Error(_(423)),t),t=zc(e,t,r,n,l);break e}else if(r!==l){l=Cr(Error(_(424)),t),t=zc(e,t,r,n,l);break e}else for($e=ln(t.stateNode.containerInfo.firstChild),Be=t,te=!0,at=null,n=Bd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===l){t=It(e,t,n);break e}Pe(e,t,r,n)}t=t.child}return t;case 5:return Vd(t),e===null&&oa(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,ra(r,l)?a=null:i!==null&&ra(r,i)&&(t.flags|=32),xm(e,t),Pe(e,t,a,n),t.child;case 6:return e===null&&oa(t),null;case 13:return gm(e,t,n);case 4:return xo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):Pe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Mc(e,t,r,l,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,q(Sl,r._currentValue),r._currentValue=a,i!==null)if(ut(i.value,a)){if(i.children===l.children&&!Me.current){t=It(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ot(-1,n&-n),c.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?c.next=c:(c.next=v.next,v.next=c),m.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ca(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(_(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ca(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Pe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ar(t,n),l=et(l),r=r(l),t.flags|=1,Pe(e,t,r,n),t.child;case 14:return r=t.type,l=rt(r,t.pendingProps),l=rt(r.type,l),Ac(e,t,r,l,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),il(e,t),t.tag=1,Ae(r)?(e=!0,Nl(t)):e=!1,ar(t,n),dm(t,r,l),da(t,r,l,n),fa(null,t,r,!0,e,n);case 19:return vm(e,t,n);case 22:return pm(e,t,n)}throw Error(_(156,t.tag))};function Fm(e,t){return od(e,t)}function Op(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new Op(e,t,n,r)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _p(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xa)return 11;if(e===Ya)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")Oo(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Hn:return Dn(n.children,l,i,t);case Ga:a=8,l|=8;break;case Fi:return e=Je(12,n,t,l|2),e.elementType=Fi,e.lanes=i,e;case Ii:return e=Je(13,n,t,l),e.elementType=Ii,e.lanes=i,e;case Mi:return e=Je(19,n,t,l),e.elementType=Mi,e.lanes=i,e;case Vu:return Gl(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:a=10;break e;case Wu:a=9;break e;case Xa:a=11;break e;case Ya:a=14;break e;case $t:a=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Je(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function Gl(e,t,n,r){return e=Je(22,e,r,t),e.elementType=Vu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ei(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function Ri(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dp(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _o(e,t,n,r,l,i,a,o,c){return e=new Dp(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},po(i),e}function Lp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Im(e){if(!e)return hn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Id(e,n,t)}return t}function Mm(e,t,n,r,l,i,a,o,c){return e=_o(n,r,!0,e,l,i,a,o,c),e.context=Im(null),n=e.current,r=Re(),l=cn(n),i=Ot(r,l),i.callback=t??null,an(n,i,l),e.current.lanes=l,ks(e,l,r),Ue(e,r),e}function Xl(e,t,n,r){var l=t.current,i=Re(),a=cn(l);return n=Im(n),t.context===null?t.context=n:t.pendingContext=n,t=Ot(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(l,t,a),e!==null&&(ct(e,l,a,i),rl(e,l,a)),a}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Do(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Fp(){return null}var Am=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lo(e){this._internalRoot=e}Yl.prototype.render=Lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Xl(e,t,null,null)};Yl.prototype.unmount=Lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;An(function(){Xl(null,e,null,null)}),t[Lt]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qt.length&&t!==0&&t<Qt[n].priority;n++);Qt.splice(n,0,e),n===0&&yd(e)}};function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function Ip(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var m=Ll(a);i.call(m)}}var a=Mm(t,r,e,0,null,!1,!1,"",qc);return e._reactRootContainer=a,e[Lt]=a.current,cs(e.nodeType===8?e.parentNode:e),An(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var m=Ll(c);o.call(m)}}var c=_o(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=c,e[Lt]=c.current,cs(e.nodeType===8?e.parentNode:e),An(function(){Xl(t,c,n,r)}),c}function Jl(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=Ll(a);o.call(c)}}Xl(t,a,e,l)}else a=Ip(n,t,e,l,r);return Ll(a)}hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(Za(t,n|1),Ue(t,ce()),!(H&6)&&(Pr=ce()+500,xn()))}break;case 13:An(function(){var r=Ft(e,1);if(r!==null){var l=Re();ct(r,e,1,l)}}),Do(e,1)}};eo=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Re();ct(t,e,134217728,n)}Do(e,134217728)}};fd=function(e){if(e.tag===13){var t=cn(e),n=Ft(e,t);if(n!==null){var r=Re();ct(n,e,t,r)}Do(e,t)}};pd=function(){return Y};xd=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};Ki=function(e,t,n){switch(t){case"input":if(zi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Bl(r);if(!l)throw Error(_(90));Ku(r),zi(r,l)}}}break;case"textarea":Xu(e,n);break;case"select":t=n.value,t!=null&&rr(e,!!n.multiple,t,!1)}};nd=Eo;rd=An;var Mp={usingClientEntryPoint:!1,Events:[Ps,Yn,Bl,ed,td,Eo]},zr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ap={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=id(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||Fp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Al=Gs.inject(Ap),vt=Gs}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mp;Ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fo(t))throw Error(_(200));return Lp(e,t,null,n)};Ve.createRoot=function(e,t){if(!Fo(e))throw Error(_(299));var n=!1,r="",l=Am;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=_o(e,1,!1,null,null,n,!1,r,l),e[Lt]=t.current,cs(e.nodeType===8?e.parentNode:e),new Lo(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=id(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return An(e)};Ve.hydrate=function(e,t,n){if(!ql(t))throw Error(_(200));return Jl(null,e,t,!0,n)};Ve.hydrateRoot=function(e,t,n){if(!Fo(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=Am;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mm(t,null,e,1,n??null,l,!1,i,a),e[Lt]=t.current,cs(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Yl(t)};Ve.render=function(e,t,n){if(!ql(t))throw Error(_(200));return Jl(null,e,t,!1,n)};Ve.unmountComponentAtNode=function(e){if(!ql(e))throw Error(_(40));return e._reactRootContainer?(An(function(){Jl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Ve.unstable_batchedUpdates=Eo;Ve.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ql(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Jl(e,t,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function Um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Um)}catch(e){console.error(e)}}Um(),Uu.exports=Ve;var Up=Uu.exports,Jc=Up;Di.createRoot=Jc.createRoot,Di.hydrateRoot=Jc.hydrateRoot;var _r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zp={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vt,za,xu,$p=(xu=class{constructor(){$(this,Vt,zp);$(this,za,!1)}setTimeoutProvider(e){F(this,Vt,e)}setTimeout(e,t){return p(this,Vt).setTimeout(e,t)}clearTimeout(e){p(this,Vt).clearTimeout(e)}setInterval(e,t){return p(this,Vt).setInterval(e,t)}clearInterval(e){p(this,Vt).clearInterval(e)}},Vt=new WeakMap,za=new WeakMap,xu),wn=new $p;function Bp(e){setTimeout(e,0)}var Un=typeof window>"u"||"Deno"in globalThis;function Ee(){}function Qp(e,t){return typeof e=="function"?e(t):e}function Ca(e){return typeof e=="number"&&e>=0&&e!==1/0}function zm(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dn(e,t){return typeof e=="function"?e(t):e}function Xe(e,t){return typeof e=="function"?e(t):e}function Zc(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Io(a,t.options))return!1}else if(!gs(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||l&&l!==t.state.fetchStatus||i&&!i(t))}function eu(e,t){const{exact:n,status:r,predicate:l,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(zn(t.options.mutationKey)!==zn(i))return!1}else if(!gs(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function Io(e,t){return((t==null?void 0:t.queryKeyHashFn)||zn)(e)}function zn(e){return JSON.stringify(e,(t,n)=>Pa(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function gs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gs(e[n],t[n])):!1}var Wp=Object.prototype.hasOwnProperty;function $m(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=tu(e)&&tu(t);if(!r&&!(Pa(e)&&Pa(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,c=r?new Array(o):{};let m=0;for(let v=0;v<o;v++){const x=r?v:a[v],d=e[x],N=t[x];if(d===N){c[x]=d,(r?v<i:Wp.call(e,x))&&m++;continue}if(d===null||N===null||typeof d!="object"||typeof N!="object"){c[x]=N;continue}const S=$m(d,N,n+1);c[x]=S,S===d&&m++}return i===o&&m===i?e:c}function Fl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function tu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pa(e){if(!nu(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!nu(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nu(e){return Object.prototype.toString.call(e)==="[object Object]"}function Vp(e){return new Promise(t=>{wn.setTimeout(t,e)})}function Ea(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$m(e,t):t}function Hp(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Kp(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Mo=Symbol();function Bm(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mo?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ao(e,t){return typeof e=="function"?e(...t):!!e}function Gp(e,t,n){let r=!1,l;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(l??(l=t()),r||(r=!0,l.aborted?n():l.addEventListener("abort",n,{once:!0})),l)}),e}var bn,Ht,cr,yu,Xp=(yu=class extends _r{constructor(){super();$(this,bn);$(this,Ht);$(this,cr);F(this,cr,t=>{if(!Un&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){p(this,Ht)||this.setEventListener(p(this,cr))}onUnsubscribe(){var t;this.hasListeners()||((t=p(this,Ht))==null||t.call(this),F(this,Ht,void 0))}setEventListener(t){var n;F(this,cr,t),(n=p(this,Ht))==null||n.call(this),F(this,Ht,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){p(this,bn)!==t&&(F(this,bn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof p(this,bn)=="boolean"?p(this,bn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bn=new WeakMap,Ht=new WeakMap,cr=new WeakMap,yu),Uo=new Xp;function Ra(){let e,t;const n=new Promise((l,i)=>{e=l,t=i});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}var Yp=Bp;function qp(){let e=[],t=0,n=o=>{o()},r=o=>{o()},l=Yp;const i=o=>{t?e.push(o):l(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&l(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{l=o}}}var he=qp(),ur,Kt,dr,gu,Jp=(gu=class extends _r{constructor(){super();$(this,ur,!0);$(this,Kt);$(this,dr);F(this,dr,t=>{if(!Un&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){p(this,Kt)||this.setEventListener(p(this,dr))}onUnsubscribe(){var t;this.hasListeners()||((t=p(this,Kt))==null||t.call(this),F(this,Kt,void 0))}setEventListener(t){var n;F(this,dr,t),(n=p(this,Kt))==null||n.call(this),F(this,Kt,t(this.setOnline.bind(this)))}setOnline(t){p(this,ur)!==t&&(F(this,ur,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return p(this,ur)}},ur=new WeakMap,Kt=new WeakMap,dr=new WeakMap,gu),Il=new Jp;function Zp(e){return Math.min(1e3*2**e,3e4)}function Qm(e){return(e??"online")==="online"?Il.isOnline():!0}var Ta=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wm(e){let t=!1,n=0,r;const l=Ra(),i=()=>l.status!=="pending",a=y=>{var R;if(!i()){const h=new Ta(y);d(h),(R=e.onCancel)==null||R.call(e,h)}},o=()=>{t=!0},c=()=>{t=!1},m=()=>Uo.isFocused()&&(e.networkMode==="always"||Il.isOnline())&&e.canRun(),v=()=>Qm(e.networkMode)&&e.canRun(),x=y=>{i()||(r==null||r(),l.resolve(y))},d=y=>{i()||(r==null||r(),l.reject(y))},N=()=>new Promise(y=>{var R;r=h=>{(i()||m())&&y(h)},(R=e.onPause)==null||R.call(e)}).then(()=>{var y;r=void 0,i()||(y=e.onContinue)==null||y.call(e)}),S=()=>{if(i())return;let y;const R=n===0?e.initialPromise:void 0;try{y=R??e.fn()}catch(h){y=Promise.reject(h)}Promise.resolve(y).then(x).catch(h=>{var E;if(i())return;const f=e.retry??(Un?0:3),u=e.retryDelay??Zp,j=typeof u=="function"?u(n,h):u,T=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,h);if(t||!T){d(h);return}n++,(E=e.onFail)==null||E.call(e,n,h),Vp(j).then(()=>m()?void 0:N()).then(()=>{t?d(h):S()})})};return{promise:l,status:()=>l.status,cancel:a,continue:()=>(r==null||r(),l),cancelRetry:o,continueRetry:c,canStart:v,start:()=>(v()?S():N().then(S),l)}}var Sn,vu,Vm=(vu=class{constructor(){$(this,Sn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ca(this.gcTime)&&F(this,Sn,wn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Un?1/0:5*60*1e3))}clearGcTimeout(){p(this,Sn)&&(wn.clearTimeout(p(this,Sn)),F(this,Sn,void 0))}},Sn=new WeakMap,vu),kn,mr,Ge,Cn,pe,vs,Pn,st,wt,ju,ex=(ju=class extends Vm{constructor(t){super();$(this,st);$(this,kn);$(this,mr);$(this,Ge);$(this,Cn);$(this,pe);$(this,vs);$(this,Pn);F(this,Pn,!1),F(this,vs,t.defaultOptions),this.setOptions(t.options),this.observers=[],F(this,Cn,t.client),F(this,Ge,p(this,Cn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,F(this,kn,su(this.options)),this.state=t.state??p(this,kn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=p(this,pe))==null?void 0:t.promise}setOptions(t){if(this.options={...p(this,vs),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=su(this.options);n.data!==void 0&&(this.setState(ru(n.data,n.dataUpdatedAt)),F(this,kn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&p(this,Ge).remove(this)}setData(t,n){const r=Ea(this.state.data,t,this.options);return Q(this,st,wt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Q(this,st,wt).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,l;const n=(r=p(this,pe))==null?void 0:r.promise;return(l=p(this,pe))==null||l.cancel(t),n?n.then(Ee).catch(Ee):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,kn))}isActive(){return this.observers.some(t=>Xe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mo||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!zm(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=p(this,pe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=p(this,pe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),p(this,Ge).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(p(this,pe)&&(p(this,Pn)?p(this,pe).cancel({revert:!0}):p(this,pe).cancelRetry()),this.scheduleGc()),p(this,Ge).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Q(this,st,wt).call(this,{type:"invalidate"})}async fetch(t,n){var c,m,v,x,d,N,S,y,R,h,f,u;if(this.state.fetchStatus!=="idle"&&((c=p(this,pe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(p(this,pe))return p(this,pe).continueRetry(),p(this,pe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(T=>T.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,l=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(F(this,Pn,!0),r.signal)})},i=()=>{const j=Bm(this.options,n),E=(()=>{const P={client:p(this,Cn),queryKey:this.queryKey,meta:this.meta};return l(P),P})();return F(this,Pn,!1),this.options.persister?this.options.persister(j,E,this):j(E)},o=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:p(this,Cn),state:this.state,fetchFn:i};return l(j),j})();(m=this.options.behavior)==null||m.onFetch(o,this),F(this,mr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=o.fetchOptions)==null?void 0:v.meta))&&Q(this,st,wt).call(this,{type:"fetch",meta:(x=o.fetchOptions)==null?void 0:x.meta}),F(this,pe,Wm({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof Ta&&j.revert&&this.setState({...p(this,mr),fetchStatus:"idle"}),r.abort()},onFail:(j,T)=>{Q(this,st,wt).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{Q(this,st,wt).call(this,{type:"pause"})},onContinue:()=>{Q(this,st,wt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await p(this,pe).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(N=(d=p(this,Ge).config).onSuccess)==null||N.call(d,j,this),(y=(S=p(this,Ge).config).onSettled)==null||y.call(S,j,this.state.error,this),j}catch(j){if(j instanceof Ta){if(j.silent)return p(this,pe).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Q(this,st,wt).call(this,{type:"error",error:j}),(h=(R=p(this,Ge).config).onError)==null||h.call(R,j,this),(u=(f=p(this,Ge).config).onSettled)==null||u.call(f,this.state.data,j,this),j}finally{this.scheduleGc()}}},kn=new WeakMap,mr=new WeakMap,Ge=new WeakMap,Cn=new WeakMap,pe=new WeakMap,vs=new WeakMap,Pn=new WeakMap,st=new WeakSet,wt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hm(r.data,this.options),fetchMeta:t.meta??null};case"success":const l={...r,...ru(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return F(this,mr,t.manual?l:void 0),l;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),he.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),p(this,Ge).notify({query:this,type:"updated",action:t})})},ju);function Hm(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qm(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ru(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function su(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var De,V,js,Ce,En,hr,kt,Gt,Ns,fr,pr,Rn,Tn,Xt,xr,X,Vr,Oa,_a,Da,La,Fa,Ia,Ma,Km,Nu,tx=(Nu=class extends _r{constructor(t,n){super();$(this,X);$(this,De);$(this,V);$(this,js);$(this,Ce);$(this,En);$(this,hr);$(this,kt);$(this,Gt);$(this,Ns);$(this,fr);$(this,pr);$(this,Rn);$(this,Tn);$(this,Xt);$(this,xr,new Set);this.options=n,F(this,De,t),F(this,Gt,null),F(this,kt,Ra()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,V).addObserver(this),lu(p(this,V),this.options)?Q(this,X,Vr).call(this):this.updateResult(),Q(this,X,La).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Aa(p(this,V),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Aa(p(this,V),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Q(this,X,Fa).call(this),Q(this,X,Ia).call(this),p(this,V).removeObserver(this)}setOptions(t){const n=this.options,r=p(this,V);if(this.options=p(this,De).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xe(this.options.enabled,p(this,V))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Q(this,X,Ma).call(this),p(this,V).setOptions(this.options),n._defaulted&&!Fl(this.options,n)&&p(this,De).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,V),observer:this});const l=this.hasListeners();l&&iu(p(this,V),r,this.options,n)&&Q(this,X,Vr).call(this),this.updateResult(),l&&(p(this,V)!==r||Xe(this.options.enabled,p(this,V))!==Xe(n.enabled,p(this,V))||dn(this.options.staleTime,p(this,V))!==dn(n.staleTime,p(this,V)))&&Q(this,X,Oa).call(this);const i=Q(this,X,_a).call(this);l&&(p(this,V)!==r||Xe(this.options.enabled,p(this,V))!==Xe(n.enabled,p(this,V))||i!==p(this,Xt))&&Q(this,X,Da).call(this,i)}getOptimisticResult(t){const n=p(this,De).getQueryCache().build(p(this,De),t),r=this.createResult(n,t);return rx(this,r)&&(F(this,Ce,r),F(this,hr,this.options),F(this,En,p(this,V).state)),r}getCurrentResult(){return p(this,Ce)}trackResult(t,n){return new Proxy(t,{get:(r,l)=>(this.trackProp(l),n==null||n(l),l==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&p(this,kt).status==="pending"&&p(this,kt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,l))})}trackProp(t){p(this,xr).add(t)}getCurrentQuery(){return p(this,V)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=p(this,De).defaultQueryOptions(t),r=p(this,De).getQueryCache().build(p(this,De),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Q(this,X,Vr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,Ce)))}createResult(t,n){var b;const r=p(this,V),l=this.options,i=p(this,Ce),a=p(this,En),o=p(this,hr),m=t!==r?t.state:p(this,js),{state:v}=t;let x={...v},d=!1,N;if(n._optimisticResults){const k=this.hasListeners(),D=!k&&lu(t,n),A=k&&iu(t,r,n,l);(D||A)&&(x={...x,...Hm(v.data,t.options)}),n._optimisticResults==="isRestoring"&&(x.fetchStatus="idle")}let{error:S,errorUpdatedAt:y,status:R}=x;N=x.data;let h=!1;if(n.placeholderData!==void 0&&N===void 0&&R==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(k=i.data,h=!0):k=typeof n.placeholderData=="function"?n.placeholderData((b=p(this,pr))==null?void 0:b.state.data,p(this,pr)):n.placeholderData,k!==void 0&&(R="success",N=Ea(i==null?void 0:i.data,k,n),d=!0)}if(n.select&&N!==void 0&&!h)if(i&&N===(a==null?void 0:a.data)&&n.select===p(this,Ns))N=p(this,fr);else try{F(this,Ns,n.select),N=n.select(N),N=Ea(i==null?void 0:i.data,N,n),F(this,fr,N),F(this,Gt,null)}catch(k){F(this,Gt,k)}p(this,Gt)&&(S=p(this,Gt),N=p(this,fr),y=Date.now(),R="error");const f=x.fetchStatus==="fetching",u=R==="pending",j=R==="error",T=u&&f,E=N!==void 0,g={status:R,fetchStatus:x.fetchStatus,isPending:u,isSuccess:R==="success",isError:j,isInitialLoading:T,isLoading:T,data:N,dataUpdatedAt:x.dataUpdatedAt,error:S,errorUpdatedAt:y,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>m.dataUpdateCount||x.errorUpdateCount>m.errorUpdateCount,isFetching:f,isRefetching:f&&!u,isLoadingError:j&&!E,isPaused:x.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:j&&E,isStale:zo(t,n),refetch:this.refetch,promise:p(this,kt),isEnabled:Xe(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=g.data!==void 0,D=g.status==="error"&&!k,A=U=>{D?U.reject(g.error):k&&U.resolve(g.data)},B=()=>{const U=F(this,kt,g.promise=Ra());A(U)},K=p(this,kt);switch(K.status){case"pending":t.queryHash===r.queryHash&&A(K);break;case"fulfilled":(D||g.data!==K.value)&&B();break;case"rejected":(!D||g.error!==K.reason)&&B();break}}return g}updateResult(){const t=p(this,Ce),n=this.createResult(p(this,V),this.options);if(F(this,En,p(this,V).state),F(this,hr,this.options),p(this,En).data!==void 0&&F(this,pr,p(this,V)),Fl(n,t))return;F(this,Ce,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!p(this,xr).size)return!0;const a=new Set(i??p(this,xr));return this.options.throwOnError&&a.add("error"),Object.keys(p(this,Ce)).some(o=>{const c=o;return p(this,Ce)[c]!==t[c]&&a.has(c)})};Q(this,X,Km).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Q(this,X,La).call(this)}},De=new WeakMap,V=new WeakMap,js=new WeakMap,Ce=new WeakMap,En=new WeakMap,hr=new WeakMap,kt=new WeakMap,Gt=new WeakMap,Ns=new WeakMap,fr=new WeakMap,pr=new WeakMap,Rn=new WeakMap,Tn=new WeakMap,Xt=new WeakMap,xr=new WeakMap,X=new WeakSet,Vr=function(t){Q(this,X,Ma).call(this);let n=p(this,V).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ee)),n},Oa=function(){Q(this,X,Fa).call(this);const t=dn(this.options.staleTime,p(this,V));if(Un||p(this,Ce).isStale||!Ca(t))return;const r=zm(p(this,Ce).dataUpdatedAt,t)+1;F(this,Rn,wn.setTimeout(()=>{p(this,Ce).isStale||this.updateResult()},r))},_a=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,V)):this.options.refetchInterval)??!1},Da=function(t){Q(this,X,Ia).call(this),F(this,Xt,t),!(Un||Xe(this.options.enabled,p(this,V))===!1||!Ca(p(this,Xt))||p(this,Xt)===0)&&F(this,Tn,wn.setInterval(()=>{(this.options.refetchIntervalInBackground||Uo.isFocused())&&Q(this,X,Vr).call(this)},p(this,Xt)))},La=function(){Q(this,X,Oa).call(this),Q(this,X,Da).call(this,Q(this,X,_a).call(this))},Fa=function(){p(this,Rn)&&(wn.clearTimeout(p(this,Rn)),F(this,Rn,void 0))},Ia=function(){p(this,Tn)&&(wn.clearInterval(p(this,Tn)),F(this,Tn,void 0))},Ma=function(){const t=p(this,De).getQueryCache().build(p(this,De),this.options);if(t===p(this,V))return;const n=p(this,V);F(this,V,t),F(this,js,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Km=function(t){he.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(p(this,Ce))}),p(this,De).getQueryCache().notify({query:p(this,V),type:"observerResultsUpdated"})})},Nu);function nx(e,t){return Xe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lu(e,t){return nx(e,t)||e.state.data!==void 0&&Aa(e,t,t.refetchOnMount)}function Aa(e,t,n){if(Xe(t.enabled,e)!==!1&&dn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&zo(e,t)}return!1}function iu(e,t,n,r){return(e!==t||Xe(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zo(e,n)}function zo(e,t){return Xe(t.enabled,e)!==!1&&e.isStaleByTime(dn(t.staleTime,e))}function rx(e,t){return!Fl(e.getCurrentResult(),t)}function au(e){return{onFetch:(t,n)=>{var v,x,d,N,S;const r=t.options,l=(d=(x=(v=t.fetchOptions)==null?void 0:v.meta)==null?void 0:x.fetchMore)==null?void 0:d.direction,i=((N=t.state.data)==null?void 0:N.pages)||[],a=((S=t.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const m=async()=>{let y=!1;const R=u=>{Gp(u,()=>t.signal,()=>y=!0)},h=Bm(t.options,t.fetchOptions),f=async(u,j,T)=>{if(y)return Promise.reject();if(j==null&&u.pages.length)return Promise.resolve(u);const P=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:j,direction:T?"backward":"forward",meta:t.options.meta};return R(D),D})(),g=await h(P),{maxPages:b}=t.options,k=T?Kp:Hp;return{pages:k(u.pages,g,b),pageParams:k(u.pageParams,j,b)}};if(l&&i.length){const u=l==="backward",j=u?sx:ou,T={pages:i,pageParams:a},E=j(r,T);o=await f(T,E,u)}else{const u=e??i.length;do{const j=c===0?a[0]??r.initialPageParam:ou(r,o);if(c>0&&j==null)break;o=await f(o,j),c++}while(c<u)}return o};t.options.persister?t.fetchFn=()=>{var y,R;return(R=(y=t.options).persister)==null?void 0:R.call(y,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function ou(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function sx(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ws,pt,be,On,xt,zt,wu,lx=(wu=class extends Vm{constructor(t){super();$(this,xt);$(this,ws);$(this,pt);$(this,be);$(this,On);F(this,ws,t.client),this.mutationId=t.mutationId,F(this,be,t.mutationCache),F(this,pt,[]),this.state=t.state||Gm(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){p(this,pt).includes(t)||(p(this,pt).push(t),this.clearGcTimeout(),p(this,be).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){F(this,pt,p(this,pt).filter(n=>n!==t)),this.scheduleGc(),p(this,be).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){p(this,pt).length||(this.state.status==="pending"?this.scheduleGc():p(this,be).remove(this))}continue(){var t;return((t=p(this,On))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,m,v,x,d,N,S,y,R,h,f,u,j,T,E,P;const n=()=>{Q(this,xt,zt).call(this,{type:"continue"})},r={client:p(this,ws),meta:this.options.meta,mutationKey:this.options.mutationKey};F(this,On,Wm({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(g,b)=>{Q(this,xt,zt).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{Q(this,xt,zt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,be).canRun(this)}));const l=this.state.status==="pending",i=!p(this,On).canStart();try{if(l)n();else{Q(this,xt,zt).call(this,{type:"pending",variables:t,isPaused:i}),p(this,be).config.onMutate&&await p(this,be).config.onMutate(t,this,r);const b=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t,r));b!==this.state.context&&Q(this,xt,zt).call(this,{type:"pending",context:b,variables:t,isPaused:i})}const g=await p(this,On).start();return await((m=(c=p(this,be).config).onSuccess)==null?void 0:m.call(c,g,t,this.state.context,this,r)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,g,t,this.state.context,r)),await((N=(d=p(this,be).config).onSettled)==null?void 0:N.call(d,g,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,g,null,t,this.state.context,r)),Q(this,xt,zt).call(this,{type:"success",data:g}),g}catch(g){try{await((h=(R=p(this,be).config).onError)==null?void 0:h.call(R,g,t,this.state.context,this,r))}catch(b){Promise.reject(b)}try{await((u=(f=this.options).onError)==null?void 0:u.call(f,g,t,this.state.context,r))}catch(b){Promise.reject(b)}try{await((T=(j=p(this,be).config).onSettled)==null?void 0:T.call(j,void 0,g,this.state.variables,this.state.context,this,r))}catch(b){Promise.reject(b)}try{await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,g,t,this.state.context,r))}catch(b){Promise.reject(b)}throw Q(this,xt,zt).call(this,{type:"error",error:g}),g}finally{p(this,be).runNext(this)}}},ws=new WeakMap,pt=new WeakMap,be=new WeakMap,On=new WeakMap,xt=new WeakSet,zt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),he.batch(()=>{p(this,pt).forEach(r=>{r.onMutationUpdate(t)}),p(this,be).notify({mutation:this,type:"updated",action:t})})},wu);function Gm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ct,lt,bs,bu,ix=(bu=class extends _r{constructor(t={}){super();$(this,Ct);$(this,lt);$(this,bs);this.config=t,F(this,Ct,new Set),F(this,lt,new Map),F(this,bs,0)}build(t,n,r){const l=new lx({client:t,mutationCache:this,mutationId:++Os(this,bs)._,options:t.defaultMutationOptions(n),state:r});return this.add(l),l}add(t){p(this,Ct).add(t);const n=Xs(t);if(typeof n=="string"){const r=p(this,lt).get(n);r?r.push(t):p(this,lt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(p(this,Ct).delete(t)){const n=Xs(t);if(typeof n=="string"){const r=p(this,lt).get(n);if(r)if(r.length>1){const l=r.indexOf(t);l!==-1&&r.splice(l,1)}else r[0]===t&&p(this,lt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Xs(t);if(typeof n=="string"){const r=p(this,lt).get(n),l=r==null?void 0:r.find(i=>i.state.status==="pending");return!l||l===t}else return!0}runNext(t){var r;const n=Xs(t);if(typeof n=="string"){const l=(r=p(this,lt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){he.batch(()=>{p(this,Ct).forEach(t=>{this.notify({type:"removed",mutation:t})}),p(this,Ct).clear(),p(this,lt).clear()})}getAll(){return Array.from(p(this,Ct))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>eu(n,r))}findAll(t={}){return this.getAll().filter(n=>eu(t,n))}notify(t){he.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return he.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ee))))}},Ct=new WeakMap,lt=new WeakMap,bs=new WeakMap,bu);function Xs(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Pt,Yt,Le,Et,_t,ul,Ua,Su,ax=(Su=class extends _r{constructor(n,r){super();$(this,_t);$(this,Pt);$(this,Yt);$(this,Le);$(this,Et);F(this,Pt,n),this.setOptions(r),this.bindMethods(),Q(this,_t,ul).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=p(this,Pt).defaultMutationOptions(n),Fl(this.options,r)||p(this,Pt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:p(this,Le),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&zn(r.mutationKey)!==zn(this.options.mutationKey)?this.reset():((l=p(this,Le))==null?void 0:l.state.status)==="pending"&&p(this,Le).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=p(this,Le))==null||n.removeObserver(this)}onMutationUpdate(n){Q(this,_t,ul).call(this),Q(this,_t,Ua).call(this,n)}getCurrentResult(){return p(this,Yt)}reset(){var n;(n=p(this,Le))==null||n.removeObserver(this),F(this,Le,void 0),Q(this,_t,ul).call(this),Q(this,_t,Ua).call(this)}mutate(n,r){var l;return F(this,Et,r),(l=p(this,Le))==null||l.removeObserver(this),F(this,Le,p(this,Pt).getMutationCache().build(p(this,Pt),this.options)),p(this,Le).addObserver(this),p(this,Le).execute(n)}},Pt=new WeakMap,Yt=new WeakMap,Le=new WeakMap,Et=new WeakMap,_t=new WeakSet,ul=function(){var r;const n=((r=p(this,Le))==null?void 0:r.state)??Gm();F(this,Yt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ua=function(n){he.batch(()=>{var r,l,i,a,o,c,m,v;if(p(this,Et)&&this.hasListeners()){const x=p(this,Yt).variables,d=p(this,Yt).context,N={client:p(this,Pt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(l=(r=p(this,Et)).onSuccess)==null||l.call(r,n.data,x,d,N)}catch(S){Promise.reject(S)}try{(a=(i=p(this,Et)).onSettled)==null||a.call(i,n.data,null,x,d,N)}catch(S){Promise.reject(S)}}else if((n==null?void 0:n.type)==="error"){try{(c=(o=p(this,Et)).onError)==null||c.call(o,n.error,x,d,N)}catch(S){Promise.reject(S)}try{(v=(m=p(this,Et)).onSettled)==null||v.call(m,void 0,n.error,x,d,N)}catch(S){Promise.reject(S)}}}this.listeners.forEach(x=>{x(p(this,Yt))})})},Su),yt,ku,ox=(ku=class extends _r{constructor(t={}){super();$(this,yt);this.config=t,F(this,yt,new Map)}build(t,n,r){const l=n.queryKey,i=n.queryHash??Io(l,n);let a=this.get(i);return a||(a=new ex({client:t,queryKey:l,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(l)}),this.add(a)),a}add(t){p(this,yt).has(t.queryHash)||(p(this,yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=p(this,yt).get(t.queryHash);n&&(t.destroy(),n===t&&p(this,yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){he.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return p(this,yt).get(t)}getAll(){return[...p(this,yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zc(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Zc(t,r)):n}notify(t){he.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){he.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){he.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yt=new WeakMap,ku),ie,qt,Jt,yr,gr,Zt,vr,jr,Cu,cx=(Cu=class{constructor(e={}){$(this,ie);$(this,qt);$(this,Jt);$(this,yr);$(this,gr);$(this,Zt);$(this,vr);$(this,jr);F(this,ie,e.queryCache||new ox),F(this,qt,e.mutationCache||new ix),F(this,Jt,e.defaultOptions||{}),F(this,yr,new Map),F(this,gr,new Map),F(this,Zt,0)}mount(){Os(this,Zt)._++,p(this,Zt)===1&&(F(this,vr,Uo.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(this,ie).onFocus())})),F(this,jr,Il.subscribe(async e=>{e&&(await this.resumePausedMutations(),p(this,ie).onOnline())})))}unmount(){var e,t;Os(this,Zt)._--,p(this,Zt)===0&&((e=p(this,vr))==null||e.call(this),F(this,vr,void 0),(t=p(this,jr))==null||t.call(this),F(this,jr,void 0))}isFetching(e){return p(this,ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return p(this,qt).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=p(this,ie).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=p(this,ie).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return p(this,ie).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),l=p(this,ie).get(r.queryHash),i=l==null?void 0:l.state.data,a=Qp(t,i);if(a!==void 0)return p(this,ie).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return he.batch(()=>p(this,ie).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=p(this,ie).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=p(this,ie);he.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=p(this,ie);return he.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=he.batch(()=>p(this,ie).findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(Ee).catch(Ee)}invalidateQueries(e,t={}){return he.batch(()=>(p(this,ie).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=he.batch(()=>p(this,ie).findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let i=l.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ee)),l.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ee)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=p(this,ie).build(this,t);return n.isStaleByTime(dn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ee).catch(Ee)}fetchInfiniteQuery(e){return e.behavior=au(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ee).catch(Ee)}ensureInfiniteQueryData(e){return e.behavior=au(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Il.isOnline()?p(this,qt).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,ie)}getMutationCache(){return p(this,qt)}getDefaultOptions(){return p(this,Jt)}setDefaultOptions(e){F(this,Jt,e)}setQueryDefaults(e,t){p(this,yr).set(zn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...p(this,yr).values()],n={};return t.forEach(r=>{gs(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){p(this,gr).set(zn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...p(this,gr).values()],n={};return t.forEach(r=>{gs(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...p(this,Jt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Io(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mo&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...p(this,Jt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){p(this,ie).clear(),p(this,qt).clear()}},ie=new WeakMap,qt=new WeakMap,Jt=new WeakMap,yr=new WeakMap,gr=new WeakMap,Zt=new WeakMap,vr=new WeakMap,jr=new WeakMap,Cu),Xm=w.createContext(void 0),Zl=e=>{const t=w.useContext(Xm);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ux=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Xm.Provider,{value:e,children:t})),Ym=w.createContext(!1),dx=()=>w.useContext(Ym);Ym.Provider;function mx(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hx=w.createContext(mx()),fx=()=>w.useContext(hx),px=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Ao(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},xx=e=>{w.useEffect(()=>{e.clearReset()},[e])},yx=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:l})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(l&&e.data===void 0||Ao(n,[e.error,r])),gx=e=>{if(e.suspense){const n=l=>l==="static"?l:Math.max(l??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...l)=>n(r(...l)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vx=(e,t)=>e.isLoading&&e.isFetching&&!t,jx=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cu=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Nx(e,t,n){var d,N,S,y;const r=dx(),l=fx(),i=Zl(),a=i.defaultQueryOptions(e);(N=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||N.call(d,a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",gx(a),px(a,l,o),xx(l);const c=!i.getQueryCache().get(a.queryHash),[m]=w.useState(()=>new t(i,a)),v=m.getOptimisticResult(a),x=!r&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(R=>{const h=x?m.subscribe(he.batchCalls(R)):Ee;return m.updateResult(),h},[m,x]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),w.useEffect(()=>{m.setOptions(a)},[a,m]),jx(a,v))throw cu(a,m,l);if(yx({result:v,errorResetBoundary:l,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw v.error;if((y=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||y.call(S,a,v),a.experimental_prefetchInRender&&!Un&&vx(v,r)){const R=c?cu(a,m,l):o==null?void 0:o.promise;R==null||R.catch(Ee).finally(()=>{m.updateResult()})}return a.notifyOnChangeProps?v:m.trackResult(v)}function wx(e,t){return Nx(e,tx)}function bx(e,t){const n=Zl(),[r]=w.useState(()=>new ax(n,e));w.useEffect(()=>{r.setOptions(e)},[r,e]);const l=w.useSyncExternalStore(w.useCallback(a=>r.subscribe(he.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=w.useCallback((a,o)=>{r.mutate(a,o).catch(Ee)},[r]);if(l.error&&Ao(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:i,mutateAsync:l.mutate}}const qm=w.createContext(void 0);function Sx({children:e}){const[t,n]=w.useState(()=>localStorage.getItem("box-theme")||"dark");w.useEffect(()=>{localStorage.setItem("box-theme",t),document.documentElement.classList.remove("dark","light"),document.documentElement.classList.add(t)},[t]);const r=()=>{n(l=>l==="dark"?"light":"dark")};return s.jsx(qm.Provider,{value:{theme:t,toggleTheme:r},children:e})}function ei(){const e=w.useContext(qm);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}async function kx(){const e=await fetch("/api/auth/user",{credentials:"include"});if(e.status===401)return null;if(!e.ok)throw new Error(`${e.status}: ${e.statusText}`);return e.json()}async function Cx(){window.location.href="/api/logout"}function At(){const e=Zl(),{data:t,isLoading:n}=wx({queryKey:["/api/auth/user"],queryFn:kx,retry:!1,staleTime:1e3*60*5}),r=bx({mutationFn:Cx,onSuccess:()=>{e.setQueryData(["/api/auth/user"],null)}});return{user:t,isLoading:n,isAuthenticated:!!t,logout:r.mutate,isLoggingOut:r.isPending}}function Px(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,l,i,a=[],o="",c=e.split("/");for(c[0]||c.shift();l=c.shift();)n=l[0],n==="*"?(a.push(n),o+=l[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=l.indexOf("?",1),i=l.indexOf(".",1),a.push(l.substring(1,~r?r:~i?i:l.length)),o+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~r?"?":"")+"\\"+l.substring(i))):o+="/"+l;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var Jm={exports:{}},Zm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=w;function Ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rx=typeof Object.is=="function"?Object.is:Ex,Tx=Er.useState,Ox=Er.useEffect,_x=Er.useLayoutEffect,Dx=Er.useDebugValue;function Lx(e,t){var n=t(),r=Tx({inst:{value:n,getSnapshot:t}}),l=r[0].inst,i=r[1];return _x(function(){l.value=n,l.getSnapshot=t,Ti(l)&&i({inst:l})},[e,n,t]),Ox(function(){return Ti(l)&&i({inst:l}),e(function(){Ti(l)&&i({inst:l})})},[e]),Dx(n),n}function Ti(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rx(e,n)}catch{return!0}}function Fx(e,t){return t()}var Ix=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fx:Lx;Zm.useSyncExternalStore=Er.useSyncExternalStore!==void 0?Er.useSyncExternalStore:Ix;Jm.exports=Zm;var Mx=Jm.exports;const Ax=Ph.useInsertionEffect,Ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zx=Ux?w.useLayoutEffect:w.useEffect,$x=Ax||zx,eh=e=>{const t=w.useRef([e,(...n)=>t[0](...n)]).current;return $x(()=>{t[0]=e}),t[1]},Bx="popstate",$o="pushState",Bo="replaceState",Qx="hashchange",uu=[Bx,$o,Bo,Qx],Wx=e=>{for(const t of uu)addEventListener(t,e);return()=>{for(const t of uu)removeEventListener(t,e)}},th=(e,t)=>Mx.useSyncExternalStore(Wx,e,t),du=()=>location.search,Vx=({ssrSearch:e}={})=>th(du,e!=null?()=>e:du),mu=()=>location.pathname,Hx=({ssrPath:e}={})=>th(mu,e!=null?()=>e:mu),Kx=(e,{replace:t=!1,state:n=null}={})=>history[t?Bo:$o](n,"",e),Gx=(e={})=>[Hx(e),Kx],hu=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hu]>"u"){for(const e of[$o,Bo]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,hu,{value:!0})}const Xx=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",nh=(e="")=>e==="/"?"":e,Yx=(e,t)=>e[0]==="~"?e.slice(1):nh(t)+e,qx=(e="",t)=>Xx(fu(nh(e)),fu(t)),fu=e=>{try{return decodeURI(e)}catch{return e}},rh={hook:Gx,searchHook:Vx,parser:Px,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},sh=w.createContext(rh),Rs=()=>w.useContext(sh),lh={},ih=w.createContext(lh),ti=()=>w.useContext(ih),ni=e=>{const[t,n]=e.hook(e);return[qx(e.base,t),eh((r,l)=>e.aroundNav(n,Yx(r,e.base),l))]},ah=()=>ni(Rs()),oh=(e,t,n,r)=>{const{pattern:l,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=l.exec(n)||[],[o,...c]=a;return o!==void 0?[!0,(()=>{const m=i!==!1?Object.fromEntries(i.map((x,d)=>[x,c[d]])):a.groups;let v={...c};return m&&Object.assign(v,m),v})(),...r?[o]:[]]:[!1,null]},Jx=({children:e,...t})=>{var v,x,d;const n=Rs(),r=t.hook?rh:n;let l=r;const[i,a=t.ssrSearch??""]=((v=t.ssrPath)==null?void 0:v.split("?"))??[];i&&(t.ssrSearch=a,t.ssrPath=i),t.hrefs=t.hrefs??((x=t.hook)==null?void 0:x.hrefs),t.searchHook=t.searchHook??((d=t.hook)==null?void 0:d.searchHook);let o=w.useRef({}),c=o.current,m=c;for(let N in r){const S=N==="base"?r[N]+(t[N]??""):t[N]??r[N];c===m&&S!==m[N]&&(o.current=m={...m}),m[N]=S,(S!==r[N]||S!==l[N])&&(l=m)}return w.createElement(sh.Provider,{value:l,children:e})},pu=({children:e,component:t},n)=>t?w.createElement(t,{params:n}):typeof e=="function"?e(n):e,Zx=e=>{let t=w.useRef(lh);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,l])=>l!==n[r])?e:n},Nt=({path:e,nest:t,match:n,...r})=>{const l=Rs(),[i]=ni(l),[a,o,c]=n??oh(l.parser,e,i,t),m=Zx({...ti(),...o});if(!a)return null;const v=c?w.createElement(Jx,{base:c},pu(r,m)):pu(r,m);return w.createElement(ih.Provider,{value:m,children:v})},Qe=w.forwardRef((e,t)=>{const n=Rs(),[r,l]=ni(n),{to:i="",href:a=i,onClick:o,asChild:c,children:m,className:v,replace:x,state:d,transition:N,...S}=e,y=eh(h=>{h.ctrlKey||h.metaKey||h.altKey||h.shiftKey||h.button!==0||(o==null||o(h),h.defaultPrevented||(h.preventDefault(),l(a,e)))}),R=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return c&&w.isValidElement(m)?w.cloneElement(m,{onClick:y,href:R}):w.createElement("a",{...S,onClick:y,href:R,className:v!=null&&v.call?v(r===a):v,children:m,ref:t})}),ch=e=>Array.isArray(e)?e.flatMap(t=>ch(t&&t.type===w.Fragment?t.props.children:t)):[e],ey=({children:e,location:t})=>{const n=Rs(),[r]=ni(n);for(const l of ch(e)){let i=0;if(w.isValidElement(l)&&(i=oh(n.parser,l.props.path,t||r,l.props.nest))[0])return w.cloneElement(l,{match:i})}return null};function ty(){const e=Zl(),{theme:t,toggleTheme:n}=ei(),[r,l]=w.useState("login"),[i,a]=w.useState(""),[o,c]=w.useState(""),[m,v]=w.useState(""),[x,d]=w.useState(""),[N,S]=w.useState(""),[y,R]=w.useState("artist"),[h,f]=w.useState(""),[u,j]=w.useState(""),[T,E]=w.useState(""),[P,g]=w.useState(""),[b,k]=w.useState(!1),[D,A]=w.useState(!1);async function B(U){U.preventDefault(),E(""),g(""),k(!0);try{const C=await fetch(r==="register"?"/api/auth/register":"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r==="register"?{email:i,password:o,displayName:m,firstName:x,lastName:N,role:y,businessName:y==="studio"?h:null,studioCode:y==="artist"&&u?u:null}:{email:i,password:o})}),L=await C.json();if(!C.ok){if(L.needsVerification){a(L.email||i),l("verify");return}E(L.message||"Something went wrong");return}if(L.needsVerification){l("verify"),g(L.message);return}await e.invalidateQueries({queryKey:["/api/auth/user"]}),window.location.reload()}catch{E("Failed to connect. Please try again.")}finally{k(!1)}}async function K(){A(!0),E(""),g("");try{const U=await fetch("/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),ee=await U.json();U.ok?g("Verification email sent! Check your inbox."):E(ee.message||"Failed to resend email")}catch{E("Failed to resend verification email")}finally{A(!1)}}return r==="verify"?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 sm:mb-6"}),s.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider block mb-3 sm:mb-4",children:"BOX"}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:"Check Your Email"}),s.jsxs("p",{className:"text-sm sm:text-base text-theme-secondary mb-4 sm:mb-6",children:["We've sent a verification link to ",s.jsx("span",{className:"text-accent break-all",children:i})]}),s.jsx("p",{className:"text-theme-muted text-xs sm:text-sm mb-6 sm:mb-8",children:"Click the link in the email to verify your account. The link expires in 24 hours."}),P&&s.jsx("p",{className:"text-green-400 text-xs sm:text-sm mb-4",children:P}),T&&s.jsx("p",{className:"text-red-400 text-xs sm:text-sm mb-4",children:T}),s.jsx("button",{onClick:K,disabled:D,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-3 sm:py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50 mb-4 text-sm sm:text-base",children:D?"Sending...":"Resend Verification Email"}),s.jsx("button",{onClick:()=>l("login"),className:"text-theme-muted hover:text-theme-primary text-xs sm:text-sm",children:"Back to Sign In"})]})}):s.jsxs("div",{className:"min-h-screen flex bg-theme-primary",children:[s.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-theme-primary p-12 flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-16",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-10 h-10"}),s.jsx("span",{className:"text-2xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:["Your Creative Work,"," ",s.jsx("span",{className:"text-accent",children:"Protected."})]}),s.jsx("p",{className:"text-theme-secondary text-lg max-w-md",children:"Track projects from concept to publication. Manage metadata, generate agreements, and protect your intellectual property."})]}),s.jsx("div",{className:"text-theme-muted text-sm",children:s.jsx("p",{children:" 2026 BOX by luctheleo.com | REVERIE | RVR Creative Development"})})]}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-2 sm:gap-3 mb-6 sm:mb-8",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8 sm:w-10 sm:h-10"}),s.jsx("span",{className:"text-xl sm:text-2xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"absolute top-3 sm:top-4 right-3 sm:right-4 text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]}),s.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:r==="login"?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:r==="login"?"Sign in to manage your creative assets":"Join BOX today"})]}),s.jsxs("a",{href:"/api/auth/google",className:"flex items-center justify-center gap-3 w-full bg-white text-black font-bold py-3 px-8 rounded-lg transition-colors hover:bg-gray-100 text-center mb-3",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("a",{href:"/api/auth/github",className:"flex items-center justify-center gap-3 w-full bg-[#333] text-white font-bold py-3 px-8 rounded-lg transition-colors hover:bg-[#444] text-center mb-3",children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:s.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12z"})}),"Continue with GitHub"]}),s.jsxs("div",{className:"flex items-center gap-4 my-6",children:[s.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"}),s.jsx("span",{className:"text-theme-muted text-sm",children:"or use email"}),s.jsx("div",{className:"flex-1 h-px bg-theme-tertiary"})]}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r==="register"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-2",children:"I am a..."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>R("artist"),className:`p-3 rounded-lg border-2 transition-colors text-left ${y==="artist"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[s.jsx("p",{className:"font-bold text-sm",children:"Artist"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Individual creator"})]}),s.jsxs("button",{type:"button",onClick:()=>R("studio"),className:`p-3 rounded-lg border-2 transition-colors text-left ${y==="studio"?"border-accent bg-theme-tertiary":"border-theme-tertiary bg-theme-secondary"}`,children:[s.jsx("p",{className:"font-bold text-sm",children:"Studio"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Manage artists"})]})]})]}),y==="studio"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Business Name *"}),s.jsx("input",{type:"text",value:h,onChange:U=>f(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Your studio or label name",required:!0})]}),y==="artist"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Studio Code (Optional)"}),s.jsx("input",{type:"text",value:u,onChange:U=>j(U.target.value.toUpperCase()),className:"input-field w-full p-3 rounded font-mono",placeholder:"BOX-XXXXXX",maxLength:12}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Have a studio code? Enter it to join their network."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:y==="artist"?"Artist / Stage Name *":"Your Name *"}),s.jsx("input",{type:"text",value:m,onChange:U=>v(U.target.value),className:"input-field w-full p-3 rounded",placeholder:y==="artist"?"Your stage name":"Your name",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"First Name"}),s.jsx("input",{type:"text",value:x,onChange:U=>d(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"John"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Last Name"}),s.jsx("input",{type:"text",value:N,onChange:U=>S(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Doe"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Email"}),s.jsx("input",{type:"email",value:i,onChange:U=>a(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"you@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Password"}),s.jsx("input",{type:"password",value:o,onChange:U=>c(U.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter password",required:!0,minLength:6})]}),T&&s.jsx("p",{className:"text-red-400 text-sm",children:T}),s.jsx("button",{type:"submit",disabled:b,className:"w-full bg-theme-tertiary text-theme-primary font-bold py-4 rounded-lg hover:opacity-80 transition-colors disabled:opacity-50",children:b?"Please wait...":r==="login"?"Sign In":"Create Account"})]}),s.jsx("p",{className:"text-center text-theme-muted text-sm mt-6",children:r==="login"?s.jsxs(s.Fragment,{children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>l("register"),className:"text-accent hover:underline",children:"Sign up"})]}):s.jsxs(s.Fragment,{children:["Already have an account?"," ",s.jsx("button",{onClick:()=>l("login"),className:"text-accent hover:underline",children:"Sign in"})]})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-theme",children:[s.jsx("h3",{className:"text-sm font-bold text-theme-secondary mb-4 text-center",children:"Features"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left",children:[s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Project Tracking"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Concept to publication"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"IP Protection"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Step-by-step guidance"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Agreements"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Generate legal docs"})]}),s.jsxs("div",{className:"p-3 bg-theme-secondary rounded-lg",children:[s.jsx("p",{className:"font-bold text-sm mb-1",children:"Creative Space"}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Private inspiration"})]})]})]})]})})]})}function dt({showNav:e=!0}){const{user:t}=At(),{theme:n,toggleTheme:r}=ei(),[l,i]=w.useState(!1),[a,o]=ah(),[c,m]=w.useState(!1),[v,x]=w.useState(""),[d,N]=w.useState([]),[S,y]=w.useState(!1),R=w.useRef(null),h=[{type:"page",title:"Dashboard",subtitle:"Home",href:"/"},{type:"page",title:"Creative Space",subtitle:"Notes & inspiration",href:"/creative"},{type:"page",title:"Agreements",subtitle:"Generate contracts",href:"/generator"},{type:"page",title:"Submissions",subtitle:"Export for platforms",href:"/submissions"},{type:"page",title:"EPK",subtitle:"Electronic Press Kit",href:"/epk"},{type:"page",title:"Settings",subtitle:"Account settings",href:"/settings"},{type:"page",title:"Documentation",subtitle:"IP & copyright guide",href:"/docs"},{type:"page",title:"Community",subtitle:"Shared content",href:"/community"}];w.useEffect(()=>{function E(P){R.current&&!R.current.contains(P.target)&&m(!1)}return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]),w.useEffect(()=>{if(!v.trim()){N([]);return}const E=v.toLowerCase(),P=h.filter(k=>{var D;return k.title.toLowerCase().includes(E)||((D=k.subtitle)==null?void 0:D.toLowerCase().includes(E))});async function g(){y(!0);const k=[...P];try{const[D,A]=await Promise.all([fetch("/api/projects"),fetch("/api/creative/notes")]);D.ok&&((await D.json()).projects||[]).filter(U=>{var ee;return U.title.toLowerCase().includes(E)||((ee=U.type)==null?void 0:ee.toLowerCase().includes(E))}).slice(0,5).forEach(U=>{k.push({type:"project",id:U.id,title:U.title,subtitle:`${U.type} - ${U.status}`,href:`/project/${U.id}`})}),A.ok&&((await A.json()).notes||[]).filter(U=>{var ee,ue;return((ee=U.content)==null?void 0:ee.toLowerCase().includes(E))||((ue=U.category)==null?void 0:ue.toLowerCase().includes(E))}).slice(0,5).forEach(U=>{var ee,ue;k.push({type:"note",id:U.id,title:((ee=U.content)==null?void 0:ee.substring(0,50))+(((ue=U.content)==null?void 0:ue.length)>50?"...":""),subtitle:U.category,href:"/creative"})})}catch(D){console.error("Search error:",D)}N(k.slice(0,10)),y(!1)}const b=setTimeout(g,300);return()=>clearTimeout(b)},[v]);function f(E){m(!1),x(""),o(E.href)}const j=(t==null?void 0:t.role)==="studio"?[{href:"/",label:"Dashboard"},{href:"/studio",label:"Studio"},{href:"/submissions",label:"Submissions"},{href:"/settings",label:"Settings"}]:[{href:"/",label:"Dashboard"},{href:"/creative",label:"Creative"},{href:"/submissions",label:"Submissions"},{href:"/epk",label:"EPK"},{href:"/settings",label:"Settings"}],T=E=>E==="/"?a==="/":a.startsWith(E);return s.jsxs("header",{className:"border-b border-theme p-3 sm:p-4 relative",children:[s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-2",children:[s.jsx(Qe,{href:"/",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-6 h-6 sm:w-8 sm:h-8"}),s.jsx("span",{className:"text-lg sm:text-xl brand-font tracking-wider text-theme-primary",children:"BOX"})]})}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{ref:R,className:"relative hidden sm:block flex-1 max-w-xs mx-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Search projects, notes, docs...",value:v,onChange:E=>x(E.target.value),onFocus:()=>m(!0),className:"w-full input-field px-3 py-1.5 rounded text-sm pl-8"}),s.jsx("svg",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-theme-muted",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),c&&!v&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 p-3",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Try searching for:"}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsx("button",{onClick:()=>x("docs"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"docs" - Documentation & guides'}),s.jsx("button",{onClick:()=>x("agreements"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"agreements" - Generate contracts'}),s.jsx("button",{onClick:()=>x("community"),className:"block w-full text-left px-2 py-1 rounded hover:bg-theme-tertiary text-theme-secondary",children:'"community" - Shared content'})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3 pt-2 border-t border-theme",children:"Also searches your projects and notes"})]}),c&&v&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-theme-secondary border border-theme rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:[S&&s.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"Searching..."}),!S&&d.length===0&&v&&s.jsx("div",{className:"p-3 text-center text-theme-muted text-sm",children:"No results found"}),!S&&d.map((E,P)=>s.jsxs("button",{onClick:()=>f(E),className:"w-full text-left px-3 py-2 hover:bg-theme-tertiary transition-colors flex items-center gap-3",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${E.type==="project"?"bg-accent text-accent-contrast":E.type==="note"?"bg-theme-tertiary text-theme-muted":"bg-theme-primary text-theme-secondary"}`,children:E.type==="project"?"PRJ":E.type==="note"?"NOTE":"PAGE"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm text-theme-primary truncate",children:E.title}),E.subtitle&&s.jsx("div",{className:"text-xs text-theme-muted truncate",children:E.subtitle})]})]},`${E.type}-${E.id||P}`))]})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-6",children:j.map(E=>s.jsx(Qe,{href:E.href,children:s.jsx("span",{className:`text-sm cursor-pointer transition-colors ${T(E.href)?"text-theme-primary font-bold":"text-theme-muted hover:text-theme-primary"}`,children:E.label})},E.href))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:r,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",title:"Toggle theme",children:["[",n,"]"]}),s.jsx("a",{href:"/api/logout",className:"hidden sm:inline text-theme-muted hover:text-theme-primary text-xs",children:"Logout"}),s.jsx("button",{onClick:()=>i(!l),className:"md:hidden p-1 text-theme-primary","aria-label":"Toggle menu",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})]}),l&&e&&s.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-theme-secondary border-b border-theme z-50",children:s.jsxs("nav",{className:"flex flex-col p-4 space-y-3",children:[j.map(E=>s.jsx(Qe,{href:E.href,children:s.jsx("span",{onClick:()=>i(!1),className:`block text-sm cursor-pointer py-2 px-3 rounded ${T(E.href)?"bg-theme-tertiary text-theme-primary font-bold":"text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary"}`,children:E.label})},E.href)),s.jsxs("div",{className:"border-t border-theme pt-3 mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[(t==null?void 0:t.profileImageUrl)&&s.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-6 h-6 rounded-full"}),s.jsx("span",{className:"text-sm text-theme-secondary",children:(t==null?void 0:t.firstName)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),s.jsx("a",{href:"/api/logout",className:"block text-sm text-red-400 hover:text-red-300 px-3 py-2",onClick:()=>i(!1),children:"Logout"})]})]})})]})}function ny(){var y,R;At();const[e,t]=w.useState([]),[n,r]=w.useState(!0),[l,i]=w.useState(!1),[a,o]=w.useState(null),[c,m]=w.useState("all");w.useEffect(()=>{v()},[]);async function v(){try{const h=await fetch("/api/projects");if(h.ok){const f=await h.json();t(f.projects||[])}}catch(h){console.error("Failed to load projects:",h)}finally{r(!1)}}async function x(h){h.preventDefault();const f=h.currentTarget,u=new FormData(f),j={title:u.get("title"),type:u.get("type"),status:u.get("status"),description:u.get("description"),metadata:{isrc:u.get("isrc")||null,upc:u.get("upc")||null,copyright:u.get("copyright")||null,release_date:u.get("release_date")||null}},T=a?`/api/projects/${a.id}`:"/api/projects",E=a?"PUT":"POST";try{(await fetch(T,{method:E,headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})).ok&&(i(!1),o(null),v())}catch(P){console.error("Failed to save project:",P)}}async function d(h){if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`/api/projects/${h}`,{method:"DELETE"})).ok&&v()}catch(f){console.error("Failed to delete project:",f)}}const N=c==="all"?e:e.filter(h=>h.status===c),S={total:e.length,concept:e.filter(h=>h.status==="concept").length,development:e.filter(h=>h.status==="development").length,published:e.filter(h=>h.status==="published").length};return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Projects"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Track your creative work from concept to publication"})]}),s.jsx("button",{onClick:()=>{o(null),i(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Project"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-accent",children:S.total}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Total"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-theme-secondary",children:S.concept}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Concept"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:S.development}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Development"})]}),s.jsxs("div",{className:"card p-3 sm:p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:S.published}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Published"})]})]}),s.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:["all","concept","development","review","published"].map(h=>s.jsx("button",{onClick:()=>m(h),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${c===h?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))}),n?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):N.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No projects yet. Create your first one!"}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:N.map(h=>s.jsx("div",{className:"card p-3 sm:p-4 rounded-xl hover:border-theme cursor-pointer",onClick:()=>{o(h),i(!0)},children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx("span",{className:`status-${h.status} px-2 py-1 rounded text-xs uppercase`,children:h.status}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm sm:text-base",children:h.title}),s.jsx("p",{className:"text-xs text-theme-muted",children:h.type})]})]}),s.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[s.jsx(Qe,{href:`/project/${h.id}`,onClick:f=>f.stopPropagation(),className:"text-theme-muted hover:text-accent text-xs sm:text-sm",children:"Details"}),s.jsx("button",{onClick:f=>{f.stopPropagation(),d(h.id)},className:"text-theme-muted hover:text-red-400 text-xs sm:text-sm",children:"Delete"})]})]})},h.id))})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:s.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-accent",children:a?"Edit Project":"New Project"}),s.jsx("button",{onClick:()=>i(!1),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Title *"}),s.jsx("input",{name:"title",defaultValue:a==null?void 0:a.title,required:!0,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Type"}),s.jsxs("select",{name:"type",defaultValue:(a==null?void 0:a.type)||"single",className:"input-field w-full p-2 rounded",children:[s.jsx("option",{value:"single",children:"Single"}),s.jsx("option",{value:"ep",children:"EP"}),s.jsx("option",{value:"album",children:"Album"}),s.jsx("option",{value:"beat",children:"Beat"}),s.jsx("option",{value:"sample",children:"Sample Pack"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Status"}),s.jsxs("select",{name:"status",defaultValue:(a==null?void 0:a.status)||"concept",className:"input-field w-full p-2 rounded",children:[s.jsx("option",{value:"concept",children:"Concept"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"published",children:"Published"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Description"}),s.jsx("textarea",{name:"description",defaultValue:(a==null?void 0:a.description)||"",rows:3,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"ISRC"}),s.jsx("input",{name:"isrc",defaultValue:((y=a==null?void 0:a.metadata)==null?void 0:y.isrc)||"",className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"UPC"}),s.jsx("input",{name:"upc",defaultValue:((R=a==null?void 0:a.metadata)==null?void 0:R.upc)||"",className:"input-field w-full p-2 rounded"})]})]}),s.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:a?"Save Changes":"Create Project"})]})]})})]})}function ry(e={}){const[t,n]=w.useState(!1),[r,l]=w.useState(null),[i,a]=w.useState(0),o=w.useCallback(async x=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,size:x.size,contentType:x.type||"application/octet-stream"})});if(!d.ok){const N=await d.json().catch(()=>({}));throw new Error(N.error||"Failed to get upload URL")}return d.json()},[]),c=w.useCallback(async(x,d)=>{if(!(await fetch(d,{method:"PUT",body:x,headers:{"Content-Type":x.type||"application/octet-stream"}})).ok)throw new Error("Failed to upload file to storage")},[]),m=w.useCallback(async x=>{var d,N;n(!0),l(null),a(0);try{a(10);const S=await o(x);return a(30),await c(x,S.uploadURL),a(100),(d=e.onSuccess)==null||d.call(e,S),S}catch(S){const y=S instanceof Error?S:new Error("Upload failed");return l(y),(N=e.onError)==null||N.call(e,y),null}finally{n(!1)}},[o,c,e]),v=w.useCallback(async x=>{const d=await fetch("/api/uploads/request-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,size:x.size,contentType:x.type||"application/octet-stream"})});if(!d.ok)throw new Error("Failed to get upload URL");return{method:"PUT",url:(await d.json()).uploadURL,headers:{"Content-Type":x.type||"application/octet-stream"}}},[]);return{uploadFile:m,getUploadParameters:v,isUploading:t,error:r,progress:i}}function sy(){At();const[e,t]=w.useState([]),[n,r]=w.useState(!0),[l,i]=w.useState("all"),[a,o]=w.useState(!1),[c,m]=w.useState(null),[v,x]=w.useState(""),[d,N]=w.useState(null),[S,y]=w.useState(null),[R,h]=w.useState([]),f=w.useRef(null),{uploadFile:u,isUploading:j,progress:T}=ry({onSuccess:O=>{x(O.objectPath)},onError:O=>{console.error("Upload failed:",O)}}),E=["all","ideas","lyrics","inspiration","audio","visual","journal"];w.useEffect(()=>{P(),g()},[]);async function P(){try{const O=await fetch("/api/creative/notes");if(O.ok){const z=await O.json();t(z.notes||[])}}catch(O){console.error("Failed to load notes:",O)}finally{r(!1)}}async function g(){try{const O=await fetch("/api/community/my-submissions");if(O.ok){const z=await O.json();h(z.submissions||[])}}catch(O){console.error("Failed to load submissions:",O)}}async function b(O){try{const z=await fetch("/api/community/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:O})});if(z.ok)g(),alert("Note submitted for community sharing! It will be visible once approved.");else{const G=await z.json();alert(G.message||"Failed to submit")}}catch(z){console.error("Failed to share note:",z)}}function k(O){const z=R.find(G=>G.noteId===O);return(z==null?void 0:z.status)||null}async function D(O){var Qn;O.preventDefault();const z=O.currentTarget,G=new FormData(z),oe=G.get("media_url"),_e={category:G.get("category"),content:G.get("content"),media_url:v||oe||null,tags:((Qn=G.get("tags"))==null?void 0:Qn.split(",").map(Ts=>Ts.trim()).filter(Boolean))||[]},Ke=c?`/api/creative/notes/${c.id}`:"/api/creative/notes",mt=c?"PUT":"POST";try{(await fetch(Ke,{method:mt,headers:{"Content-Type":"application/json"},body:JSON.stringify(_e)})).ok&&(o(!1),m(null),x(""),P())}catch(Ts){console.error("Failed to save note:",Ts)}}async function A(O){if(confirm("Delete this note?"))try{(await fetch(`/api/creative/notes/${O}`,{method:"DELETE"})).ok&&P()}catch(z){console.error("Failed to delete note:",z)}}async function B(O){try{t(G=>G.map(oe=>oe.id===O?{...oe,is_pinned:!oe.is_pinned}:oe)),(await fetch(`/api/creative/notes/${O}/pin`,{method:"POST"})).ok||t(G=>G.map(oe=>oe.id===O?{...oe,is_pinned:!oe.is_pinned}:oe))}catch(z){console.error("Failed to toggle pin:",z),P()}}function K(O,z){N(z),O.dataTransfer.effectAllowed="move"}function U(O,z){O.preventDefault(),y(z)}function ee(){y(null)}async function ue(O,z){if(O.preventDefault(),y(null),!d||d.id===z.id){N(null);return}const G=[...e],oe=G.findIndex(mt=>mt.id===d.id),_e=G.findIndex(mt=>mt.id===z.id);G.splice(oe,1),G.splice(_e,0,d);const Ke=G.map((mt,Qn)=>({...mt,sort_order:Qn}));t(Ke),N(null);try{(await fetch("/api/creative/notes/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteIds:Ke.map(Qn=>Qn.id)})})).ok||P()}catch(mt){console.error("Failed to reorder notes:",mt),P()}}function C(){N(null),y(null)}const M=[...l==="all"?e:e.filter(O=>O.category===l)].sort((O,z)=>O.is_pinned&&!z.is_pinned?-1:!O.is_pinned&&z.is_pinned?1:(O.sort_order||0)-(z.sort_order||0));function ne(O){if(!O)return null;const z=O.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(z)return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${z[1]}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});const G=O.match(/vimeo\.com\/(\d+)/);if(G)return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://player.vimeo.com/video/${G[1]}`,allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})});if(O.includes("soundcloud.com"))return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://w.soundcloud.com/player/?url=${encodeURIComponent(O)}&color=%23000000&auto_play=false&hide_related=true&show_comments=false&show_user=true&show_reposts=false&show_teaser=false&visual=true`,allow:"autoplay"})});const oe=O.match(/open\.spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/);if(oe)return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://open.spotify.com/embed/${oe[1]}/${oe[2]}`,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})});if(O.match(/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i)||O.includes("images.unsplash.com")||O.includes("pbs.twimg.com")||O.includes("i.pinimg.com"))return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("img",{src:O,alt:"Inspiration",loading:"lazy"})});const _e=O.match(/assets\.pinterest\.com\/ext\/embed\.html\?id=(\d+)/);if(_e)return s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://assets.pinterest.com/ext/embed.html?id=${_e[1]}`,scrolling:"no",style:{border:"none"}})});const Ke=O.match(/pinterest\.com\/pin\/(\d+)/);return Ke?s.jsx("div",{className:"media-embed mb-3",children:s.jsx("iframe",{src:`https://assets.pinterest.com/ext/embed.html?id=${Ke[1]}`,scrolling:"no",style:{border:"none"}})}):s.jsxs("a",{href:O,target:"_blank",rel:"noreferrer",className:"text-accent text-xs hover:underline block mb-3",children:[O.length>40?O.substring(0,40)+"...":O," "]})}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Your Private Space"}),s.jsx("p",{className:"text-sm sm:text-base text-theme-secondary",children:"Capture ideas, inspiration, and creative notes"})]}),s.jsx("button",{onClick:()=>{m(null),x(""),o(!0)},className:"btn-primary font-bold px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base w-full sm:w-auto",children:"+ New Note"})]}),s.jsx("div",{className:"flex gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:E.map(O=>s.jsx("button",{onClick:()=>i(O),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm whitespace-nowrap ${l===O?"btn-primary":"bg-theme-tertiary text-theme-secondary"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),n?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):M.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No notes yet. Start capturing your ideas!"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(O=>s.jsxs("div",{draggable:l==="all",onDragStart:z=>{l==="all"&&K(z,O)},onDragOver:z=>{z.preventDefault(),l==="all"&&U(z,O.id)},onDragLeave:ee,onDrop:z=>{l==="all"&&ue(z,O)},onDragEnd:C,className:`card p-4 rounded-xl transition-all ${l==="all"?"cursor-move":""} ${O.is_pinned?"border-accent":""} ${(d==null?void 0:d.id)===O.id?"opacity-50 scale-95":""} ${S===O.id?"ring-2 ring-accent scale-105":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-theme-muted uppercase",children:O.category}),O.is_pinned&&s.jsx("span",{className:"text-xs text-accent",children:"[pinned]"})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[(()=>{const z=k(O.id);return z==="pending"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-yellow-500/20 text-yellow-400",children:"pending"}):z==="approved"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-green-500/20 text-green-400",children:"shared"}):z==="rejected"?s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-500/20 text-red-400",children:"declined"}):s.jsx("button",{type:"button",onClick:()=>b(O.id),className:"text-xs px-2 py-0.5 rounded bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary",title:"Submit to community",children:"share"})})(),s.jsx("button",{type:"button",onClick:()=>B(O.id),className:`text-xs px-2 py-0.5 rounded ${O.is_pinned?"bg-accent text-theme-primary":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,style:O.is_pinned?{color:"var(--bg-primary)"}:{},children:O.is_pinned?"unpin":"pin"}),s.jsx("button",{type:"button",onClick:()=>{m(O),o(!0)},className:"text-theme-muted hover:text-theme-primary text-sm",children:""}),s.jsx("button",{type:"button",onClick:()=>A(O.id),className:"text-theme-muted hover:text-red-400 text-sm",children:""})]})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3 text-theme-primary",children:O.content}),O.media_url&&ne(O.media_url),O.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:O.tags.map(z=>s.jsx("span",{className:"tag-pill",children:z},z))})]},O.id))})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-end sm:items-center justify-center p-0 sm:p-6 z-50",children:s.jsxs("div",{className:"card p-4 sm:p-6 rounded-t-xl sm:rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-accent",children:c?"Edit Note":"New Note"}),s.jsx("button",{onClick:()=>o(!1),className:"text-theme-muted hover:text-theme-primary text-xl p-1",children:""})]}),s.jsxs("form",{onSubmit:D,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Category"}),s.jsx("select",{name:"category",defaultValue:(c==null?void 0:c.category)||"ideas",className:"input-field w-full p-2 rounded",children:E.filter(O=>O!=="all").map(O=>s.jsx("option",{value:O,children:O.charAt(0).toUpperCase()+O.slice(1)},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Content *"}),s.jsx("textarea",{name:"content",defaultValue:c==null?void 0:c.content,required:!0,rows:5,className:"input-field w-full p-2 rounded",placeholder:"Write your thoughts..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Media"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{name:"media_url",defaultValue:(c==null?void 0:c.media_url)||"",className:"input-field w-full p-2 rounded",placeholder:"YouTube, SoundCloud, URL...",disabled:!!v}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-theme-muted",children:"or"}),s.jsx("input",{ref:f,type:"file",accept:"image/*,audio/*,video/*",onChange:O=>{var G;const z=(G=O.target.files)==null?void 0:G[0];z&&u(z)},className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var O;return(O=f.current)==null?void 0:O.click()},disabled:j,className:"px-3 py-1 text-xs bg-theme-tertiary rounded hover:bg-theme-secondary",children:j?`Uploading ${T}%...`:"Upload File"}),v&&s.jsx("span",{className:"text-xs text-green-500",children:" Uploaded"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Tags"}),s.jsx("input",{name:"tags",defaultValue:(c==null?void 0:c.tags.join(", "))||"",className:"input-field w-full p-2 rounded",placeholder:"Separate with commas"})]}),s.jsx("button",{type:"submit",className:"w-full btn-primary font-bold py-3 rounded",children:c?"Save Changes":"Create Note"})]})]})})]})}const Ys=[{id:"fixation",title:"1. Fix Your Work",fee:"FREE",description:"Record or document in tangible form",fields:[{key:"fixation_date",label:"Date Fixed",type:"date",placeholder:"When was it recorded?"},{key:"fixation_format",label:"Format",type:"text",placeholder:"Audio file, video, manuscript..."}]},{id:"copyright",title:"2. Register Copyright",fee:"$45-65",description:"File with US Copyright Office",fields:[{key:"copyright_reg_number",label:"Registration Number",type:"text",placeholder:"e.g., SR0000123456"},{key:"copyright_date",label:"Registration Date",type:"date",placeholder:""}]},{id:"pro",title:"3. Join a PRO",fee:"FREE-$50",description:"ASCAP, BMI for royalty collection",fields:[{key:"pro_name",label:"PRO Name",type:"select",options:["ASCAP","BMI","SESAC","GMR","Other"]},{key:"pro_member_id",label:"Member ID",type:"text",placeholder:"Your PRO member ID"}]},{id:"register_song",title:"4. Register Composition",fee:"FREE",description:"Get ISWC from your PRO",fields:[{key:"iswc",label:"ISWC",type:"text",placeholder:"e.g., T-123.456.789-0"}]},{id:"distributor",title:"5. Upload to Distributor",fee:"$0-30/yr",description:"Get ISRC and UPC codes",fields:[{key:"distributor",label:"Distributor",type:"text",placeholder:"DistroKid, TuneCore, CD Baby..."},{key:"isrc",label:"ISRC",type:"text",placeholder:"e.g., USRC12345678"},{key:"upc",label:"UPC",type:"text",placeholder:"e.g., 012345678901"}]},{id:"release",title:"6. Release & Monitor",fee:"N/A",description:"Track performance and royalties",fields:[{key:"release_date",label:"Release Date",type:"date",placeholder:""},{key:"release_notes",label:"Notes",type:"text",placeholder:"Streaming links, first week stats..."}]}];function ly(){var S;const{id:e}=ti(),[t,n]=w.useState(null),[r,l]=w.useState(!0),[i,a]=w.useState(null),[o,c]=w.useState(!1);w.useEffect(()=>{m()},[e]);async function m(){try{const y=await fetch(`/api/projects/${e}`);if(y.ok){const R=await y.json();n(R.project)}}catch(y){console.error("Failed to load project:",y)}finally{l(!1)}}async function v(y,R){var h;if(t){c(!0);try{const u={...((h=t.metadata)==null?void 0:h.workflow)||{},...R},j={...t.metadata,workflow:u},T=await fetch(`/api/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:j})});if(T.ok){const E=await T.json();n(E.project)}}catch(f){console.error("Failed to update workflow:",f)}finally{c(!1)}}}async function x(y){var f;if(!t)return;const h=(((f=t.metadata)==null?void 0:f.workflow)||{})[`${y}_complete`];await v(y,{[`${y}_complete`]:!h})}async function d(y,R,h){await v(y,{[R]:h})}if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Project not found"}),s.jsx(Qe,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})});const N=((S=t.metadata)==null?void 0:S.workflow)||{};return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("span",{className:`status-${t.status} px-3 py-1 rounded text-xs uppercase`,children:t.status}),s.jsx("span",{className:"text-theme-muted text-sm",children:t.type})]}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.title}),s.jsx("p",{className:"text-theme-secondary",children:t.description||"No description"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-accent",children:"IP Protection Workflow"}),s.jsx("p",{className:"text-theme-muted text-sm",children:"Click each step to track your progress and enter details."})]}),s.jsx(Qe,{href:"/docs",className:"text-xs text-accent hover:underline whitespace-nowrap",children:"View full guide "})]}),(()=>{const y=Ys.filter(h=>N[`${h.id}_complete`]).length,R=Math.round(y/Ys.length*100);return s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm text-theme-secondary",children:[y," of ",Ys.length," steps complete"]}),s.jsxs("span",{className:"text-sm font-bold text-accent",children:[R,"%"]})]}),s.jsx("div",{className:"h-3 bg-theme-tertiary rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${R}%`}})})]})})(),s.jsx("div",{className:"space-y-3",children:Ys.map(y=>{const R=N[`${y.id}_complete`],h=i===y.id;return s.jsxs("div",{className:`card rounded-lg border transition-all ${R?"step-complete":"step-pending"}`,children:[s.jsxs("button",{onClick:()=>a(h?null:y.id),className:"w-full p-4 flex items-center gap-4 text-left",children:[s.jsx("div",{className:"step-icon w-10 h-10 rounded-full flex items-center justify-center font-bold flex-shrink-0",children:R?"":y.title.charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold",children:y.title}),s.jsx("p",{className:"text-theme-muted text-sm truncate",children:y.description})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`text-xs ${R?"text-green-400":"text-theme-muted"}`,children:R?"Complete":y.fee}),s.jsx("svg",{className:`w-4 h-4 text-theme-muted transition-transform ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h&&s.jsxs("div",{className:"px-4 pb-4 border-t border-theme mt-0 pt-4",children:[s.jsx("div",{className:"space-y-3",children:y.fields.map(f=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-theme-muted mb-1",children:f.label}),f.type==="select"&&f.options?s.jsxs("select",{value:N[f.key]||"",onChange:u=>d(y.id,f.key,u.target.value),className:"w-full input-field px-3 py-2 rounded text-sm",disabled:o,children:[s.jsx("option",{value:"",children:"Select..."}),f.options.map(u=>s.jsx("option",{value:u,children:u},u))]}):s.jsx("input",{type:f.type,value:N[f.key]||"",onChange:u=>d(y.id,f.key,u.target.value),placeholder:f.placeholder,className:"w-full input-field px-3 py-2 rounded text-sm",disabled:o})]},f.key))}),s.jsx("button",{onClick:()=>x(y.id),disabled:o,className:`mt-4 w-full py-2 px-4 rounded text-sm font-medium transition-colors ${R?"bg-theme-tertiary text-theme-secondary hover:bg-red-900/30 hover:text-red-400":"bg-accent text-accent-contrast hover:opacity-90"}`,children:o?"Saving...":R?"Mark as Incomplete":"Mark as Complete"})]})]},y.id)})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Identifiers"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"ISRC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:N.isrc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"UPC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:N.upc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"ISWC"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:N.iswc||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Copyright #"}),s.jsx("span",{className:"text-theme-secondary font-mono",children:N.copyright_reg_number||"Not set"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Tracking Tools"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("a",{href:"https://artists.spotify.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-green-400 hover:underline",children:[s.jsx("span",{children:"Spotify for Artists"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),s.jsxs("a",{href:"https://artists.apple.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-pink-400 hover:underline",children:[s.jsx("span",{children:"Apple Music"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Daily"})]}),s.jsxs("a",{href:"https://soundexchange.com",target:"_blank",rel:"noreferrer",className:"flex justify-between text-blue-400 hover:underline",children:[s.jsx("span",{children:"SoundExchange"}),s.jsx("span",{className:"text-theme-muted text-xs",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Created"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(t.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Updated"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(t.updated_at).toLocaleDateString()})]}),N.release_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-theme-muted",children:"Released"}),s.jsx("span",{className:"text-theme-secondary",children:new Date(N.release_date).toLocaleDateString()})]})]})]})]})]})]})]})}const Oi=[{id:"split_sheet",name:"Split Sheet",description:"Document ownership splits"},{id:"license_basic",name:"Basic License",description:"Non-exclusive lease"},{id:"license_premium",name:"Premium License",description:"Exclusive rights"},{id:"production",name:"Production Agreement",description:"Producer/artist terms"},{id:"confidentiality",name:"NDA",description:"Confidentiality agreement"}];function iy(){var v,x;const[e,t]=w.useState(1),[n,r]=w.useState(""),[l,i]=w.useState({});function a(d){r(d),t(2)}function o(d){i({...l,[d.target.name]:d.target.value})}function c(d){d.preventDefault(),t(3)}function m(){t(1),r(""),i({})}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center gap-4 mb-8",children:[1,2,3].map(d=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=d?"btn-primary":"bg-theme-tertiary text-theme-muted"}`,children:d}),s.jsx("span",{className:`text-sm ${e>=d?"text-theme-primary":"text-theme-muted"}`,children:d===1?"Select Type":d===2?"Fill Details":"Download"}),d<3&&s.jsx("div",{className:"w-8 h-px bg-theme-tertiary"})]},d))}),e===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Agreement Type"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Oi.map(d=>s.jsxs("div",{onClick:()=>a(d.id),className:"card p-6 rounded-xl cursor-pointer hover:border-accent transition-colors",children:[s.jsx("h3",{className:"font-bold mb-1",children:d.name}),s.jsx("p",{className:"text-sm text-theme-muted",children:d.description})]},d.id))})]}),e===2&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Fill in Details"}),s.jsxs("form",{onSubmit:c,className:"card p-6 rounded-xl space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Party A Name *"}),s.jsx("input",{name:"partyA",required:!0,onChange:o,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Party B Name *"}),s.jsx("input",{name:"partyB",required:!0,onChange:o,className:"input-field w-full p-2 rounded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Work Title *"}),s.jsx("input",{name:"workTitle",required:!0,onChange:o,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Date"}),s.jsx("input",{name:"date",type:"date",onChange:o,className:"input-field w-full p-2 rounded"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>t(1),className:"px-6 py-3 bg-theme-tertiary rounded",children:"Back"}),s.jsx("button",{type:"submit",className:"flex-1 btn-primary font-bold py-3 rounded",children:"Generate Agreement"})]})]})]}),e===3&&s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"card p-8 rounded-xl mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-3xl mx-auto mb-4",children:""}),s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Agreement Generated!"}),s.jsxs("p",{className:"text-theme-muted mb-6",children:[(v=Oi.find(d=>d.id===n))==null?void 0:v.name,' for "',l.workTitle,'"']}),s.jsxs("div",{className:"text-left bg-theme-tertiary p-4 rounded-lg text-sm font-mono mb-6 max-h-64 overflow-y-auto",children:[s.jsx("p",{className:"text-accent mb-2",children:"// AGREEMENT PREVIEW"}),s.jsxs("p",{children:["Type: ",(x=Oi.find(d=>d.id===n))==null?void 0:x.name]}),s.jsxs("p",{children:["Party A: ",l.partyA]}),s.jsxs("p",{children:["Party B: ",l.partyB]}),s.jsxs("p",{children:["Work: ",l.workTitle]}),s.jsxs("p",{children:["Date: ",l.date||new Date().toLocaleDateString()]})]}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"PDF generation available in full version"})]}),s.jsx("button",{onClick:m,className:"text-accent hover:underline",children:"Create Another Agreement"})]})]})]})}function ay(){var P,g;const[e,t]=w.useState(!1),[n,r]=w.useState(""),[l,i]=w.useState(""),[a,o]=w.useState(!0),[c,m]=w.useState([]),[v,x]=w.useState([]),[d,N]=w.useState(null),[S,y]=w.useState([]),[R,h]=w.useState("overview");w.useEffect(()=>{f()},[]);async function f(){try{(await fetch("/api/admin/check")).ok&&(t(!0),T())}catch(b){console.error("Auth check failed:",b)}finally{o(!1)}}async function u(b){b.preventDefault(),i("");try{(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})})).ok?(t(!0),T()):i("Invalid password")}catch{i("Login failed")}}async function j(){await fetch("/api/admin/logout",{method:"POST"}),t(!1),m([]),x([]),N(null)}async function T(){try{const[b,k,D,A]=await Promise.all([fetch("/api/admin/users"),fetch("/api/admin/projects"),fetch("/api/admin/stats"),fetch("/api/admin/submissions")]);if(b.ok&&m(await b.json()),k.ok&&x(await k.json()),D.ok&&N(await D.json()),A.ok){const B=await A.json();y(B.submissions||[])}}catch(b){console.error("Failed to load data:",b)}}async function E(b,k,D){try{(await fetch(`/api/admin/submissions/${b}/review`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:k,adminNotes:D})})).ok&&T()}catch(A){console.error("Failed to review submission:",A)}}return a?s.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):e?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center text-white font-bold text-sm",children:"A"}),s.jsx("span",{className:"text-red-400 font-bold",children:"ADMIN DASHBOARD"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Qe,{href:"/",className:"text-gray-500 hover:text-white text-sm",children:"View Site"}),s.jsx("button",{onClick:j,className:"text-gray-500 hover:text-red-400 text-sm",children:"Logout"})]})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsx("div",{className:"flex gap-2 mb-6",children:["overview","users","projects","submissions"].map(b=>s.jsx("button",{onClick:()=>h(b),className:`px-4 py-2 rounded text-sm ${R===b?"bg-red-500 text-white":"bg-gray-800 text-gray-400"}`,children:b.charAt(0).toUpperCase()+b.slice(1)},b))}),R==="overview"&&d&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Platform Overview"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-400",children:d.totalUsers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Users"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-accent",children:d.totalProjects}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total Projects"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-400",children:((P=d.projectsByStatus)==null?void 0:P.development)||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"In Development"})]}),s.jsxs("div",{className:"card p-6 rounded-xl text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-400",children:((g=d.projectsByStatus)==null?void 0:g.published)||0}),s.jsx("p",{className:"text-xs text-gray-500",children:"Published"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Projects by Status"}),s.jsx("div",{className:"space-y-2",children:Object.entries(d.projectsByStatus||{}).map(([b,k])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400 capitalize",children:b}),s.jsx("span",{className:"text-white",children:k})]},b))})]})]}),R==="users"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["All Users (",c.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[c.map(b=>s.jsxs("div",{className:"card p-4 rounded-xl flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:[b.firstName," ",b.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:b.email})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Joined"}),s.jsx("p",{className:"text-sm",children:new Date(b.createdAt).toLocaleDateString()})]})]},b.id)),c.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No users yet"})]})]}),R==="projects"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["All Projects (",v.length,")"]}),s.jsxs("div",{className:"space-y-2",children:[v.map(b=>s.jsx("div",{className:"card p-4 rounded-xl",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`status-${b.status} px-2 py-1 rounded text-xs uppercase`,children:b.status}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:b.title}),s.jsx("p",{className:"text-xs text-gray-500",children:b.type})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["User: ",b.userId.slice(0,8),"..."]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(b.createdAt).toLocaleDateString()})]})]})},b.id)),v.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No projects yet"})]})]}),R==="submissions"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Community Submissions"}),s.jsxs("div",{className:"space-y-4",children:[S.map(b=>{var k;return s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-400 uppercase",children:b.noteCategory}),s.jsx("span",{className:`ml-2 text-xs px-2 py-0.5 rounded ${b.status==="pending"?"bg-yellow-500/20 text-yellow-400":b.status==="approved"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:b.status})]}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(b.createdAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm mb-4 whitespace-pre-wrap",children:b.noteContent}),((k=b.noteTags)==null?void 0:k.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:b.noteTags.map((D,A)=>s.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded",children:["#",D]},A))}),b.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>E(b.id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Approve"}),s.jsx("button",{onClick:()=>E(b.id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Reject"})]})]},b.id)}),S.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No submissions yet"})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-theme-primary flex items-center justify-center",children:s.jsxs("div",{className:"card p-8 rounded-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-xl",children:"A"}),s.jsx("span",{className:"text-xl font-bold",children:"Admin Access"})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Admin Password"}),s.jsx("input",{type:"password",value:n,onChange:b=>r(b.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter admin password",required:!0})]}),l&&s.jsx("p",{className:"text-red-400 text-sm",children:l}),s.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white font-bold py-3 rounded hover:bg-red-600",children:"Login as Admin"})]}),s.jsx(Qe,{href:"/",className:"block text-center text-gray-500 hover:text-white mt-4 text-sm",children:"Back to Home"})]})})}function oy(){const{user:e}=At(),[t,n]=w.useState(""),[r,l]=w.useState(""),[i,a]=w.useState(""),[o,c]=w.useState(null),[m,v]=w.useState(!1),[x,d]=w.useState((e==null?void 0:e.firstName)||(e==null?void 0:e.displayName)||""),[N,S]=w.useState(null),[y,R]=w.useState(!1);async function h(u){u.preventDefault(),S(null),R(!0);try{const j=await fetch("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:x})}),T=await j.json();j.ok?(S({type:"success",text:"Profile updated successfully"}),window.location.reload()):S({type:"error",text:T.message||"Failed to update profile"})}catch{S({type:"error",text:"Failed to update profile"})}finally{R(!1)}}async function f(u){if(u.preventDefault(),c(null),r!==i){c({type:"error",text:"New passwords do not match"});return}if(r.length<6){c({type:"error",text:"Password must be at least 6 characters"});return}v(!0);try{const j=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:r})}),T=await j.json();j.ok?(c({type:"success",text:"Password changed successfully"}),n(""),l(""),a("")):c({type:"error",text:T.message||"Failed to change password"})}catch{c({type:"error",text:"Failed to change password"})}finally{v(!1)}}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-2xl mx-auto p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-theme-primary",children:"Settings"}),s.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Your BOX Code"}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg mb-4",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-2",children:"Share this code for collaborations and connections"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("code",{className:"text-2xl font-mono font-bold text-accent tracking-wider",children:(e==null?void 0:e.boxCode)||"Generating..."}),s.jsx("button",{onClick:()=>{e!=null&&e.boxCode&&(navigator.clipboard.writeText(e.boxCode),alert("BOX code copied to clipboard!"))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3",children:(e==null?void 0:e.role)==="studio"?"Artists can use this code to join your network when they sign up.":"Share this code with studios or other artists to connect and collaborate."})]})]}),s.jsxs("section",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Account Information"}),s.jsxs("div",{className:"space-y-2 text-theme-secondary mb-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Email:"})," ",(e==null?void 0:e.email)||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Role:"})," ",(e==null?void 0:e.role)==="studio"?"Studio / Business":"Artist"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-theme-muted",children:"Account Type:"})," ",(e==null?void 0:e.authType)==="email"?"Email/Password":"OAuth"]})]}),N&&s.jsx("div",{className:`p-3 rounded mb-4 ${N.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:N.text}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:x,onChange:u=>d(u.target.value),className:"input-field w-full p-3 rounded",placeholder:"Enter your display name"})]}),s.jsx("button",{type:"submit",disabled:y,className:"btn-primary py-2 px-4 rounded font-bold disabled:opacity-50",children:y?"Saving...":"Save Profile"})]})]}),(e==null?void 0:e.authType)==="email"&&s.jsxs("section",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Change Password"}),o&&s.jsx("div",{className:`p-3 rounded mb-4 ${o.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:o.text}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Current Password"}),s.jsx("input",{type:"password",value:t,onChange:u=>n(u.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"New Password"}),s.jsx("input",{type:"password",value:r,onChange:u=>l(u.target.value),className:"input-field w-full p-3 rounded",required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-muted mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:i,onChange:u=>a(u.target.value),className:"input-field w-full p-3 rounded",required:!0})]}),s.jsx("button",{type:"submit",disabled:m,className:"btn-primary w-full py-3 rounded font-bold disabled:opacity-50",children:m?"Changing...":"Change Password"})]})]}),(e==null?void 0:e.authType)!=="email"&&s.jsxs("section",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-theme-primary",children:"Password"}),s.jsx("p",{className:"text-theme-muted",children:"You signed in with OAuth (Google, GitHub, etc.). Password management is handled by your OAuth provider."})]})]})]})}function cy(){const{isAuthenticated:e}=At(),[t,n]=w.useState([]),[r,l]=w.useState(!0),[i,a]=w.useState(null),[o,c]=w.useState([]),[m,v]=w.useState(""),[x,d]=w.useState(new Set);w.useEffect(()=>{N(),e&&S()},[e]);async function N(){try{const u=await fetch("/api/community");if(u.ok){const j=await u.json();n(j.content||[])}}catch(u){console.error("Failed to load community content:",u)}finally{l(!1)}}async function S(){try{const u=await fetch("/api/community/my-favorites");if(u.ok){const j=await u.json();d(new Set(j.favoriteIds||[]))}}catch(u){console.error("Failed to load favorites:",u)}}async function y(u){try{const j=await fetch(`/api/community/${u}/comments`);if(j.ok){const T=await j.json();c(T.comments||[])}}catch(j){console.error("Failed to load comments:",j)}}async function R(u){if(!e){alert("Please sign in to favorite content");return}try{const j=await fetch(`/api/community/${u}/favorite`,{method:"POST"});if(j.ok){const T=await j.json();d(E=>{const P=new Set(E);return T.favorited?P.add(u):P.delete(u),P}),N()}}catch(j){console.error("Failed to toggle favorite:",j)}}async function h(){if(!(!e||!i||!m.trim()))try{(await fetch(`/api/community/${i.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:m.trim()})})).ok&&(v(""),y(i.id),N())}catch(u){console.error("Failed to add comment:",u)}}function f(u){if(!u)return null;if(u.includes("youtube.com")||u.includes("youtu.be")){const j=u.includes("youtu.be")?u.split("/").pop():new URLSearchParams(new URL(u).search).get("v");if(j)return s.jsx("div",{className:"aspect-video mb-3",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${j}`,className:"w-full h-full rounded",allowFullScreen:!0})})}if(u.includes("spotify.com")){const j=u.replace("spotify.com","spotify.com/embed");return s.jsx("div",{className:"mb-3",children:s.jsx("iframe",{src:j,width:"100%",height:"152",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",className:"rounded"})})}return u.match(/\.(jpg|jpeg|png|gif|webp)$/i)||u.includes("/object-storage/")?s.jsx("div",{className:"mb-3",children:s.jsx("img",{src:u,alt:"Media",className:"w-full h-auto rounded max-h-64 object-cover"})}):null}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Community"}),s.jsx("p",{className:"text-theme-muted",children:"Creative work shared by BOX members"})]}),r?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"Loading..."}):t.length===0?s.jsx("div",{className:"text-center py-12 text-theme-muted",children:"No shared content yet. Be the first to share!"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(u=>{var j,T;return s.jsxs("div",{className:"card p-4 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-xs text-theme-muted uppercase",children:u.noteCategory}),s.jsx("span",{className:"text-xs text-theme-muted",children:new Date(u.approvedAt).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap mb-3",children:u.noteContent}),((j=u.noteMediaUrls)==null?void 0:j[0])&&f(u.noteMediaUrls[0]),((T=u.noteTags)==null?void 0:T.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:u.noteTags.map((E,P)=>s.jsxs("span",{className:"text-xs bg-theme-tertiary px-2 py-0.5 rounded",children:["#",E]},P))}),s.jsx("div",{className:"flex justify-between items-center pt-3 border-t border-theme",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>R(u.id),className:`text-sm flex items-center gap-1 ${x.has(u.id)?"text-accent":"text-theme-muted hover:text-theme-primary"}`,children:[x.has(u.id)?"":""," ",u.favoritesCount]}),s.jsxs("button",{onClick:()=>{a(u),y(u.id)},className:"text-sm text-theme-muted hover:text-theme-primary flex items-center gap-1",children:[" ",u.commentsCount]})]})})]},u.id)})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-theme-secondary rounded-xl w-full max-w-lg max-h-[80vh] overflow-y-auto p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-theme-primary",children:"Comments"}),s.jsx("button",{onClick:()=>a(null),className:"text-theme-muted hover:text-theme-primary text-xl",children:""})]}),s.jsx("div",{className:"mb-4 p-4 bg-theme-tertiary rounded",children:s.jsx("p",{className:"text-sm",children:i.noteContent})}),s.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:o.length===0?s.jsx("p",{className:"text-theme-muted text-sm text-center py-4",children:"No comments yet"}):o.map(u=>s.jsxs("div",{className:"p-3 bg-theme-tertiary rounded",children:[s.jsx("p",{className:"text-sm",children:u.content}),s.jsx("p",{className:"text-xs text-theme-muted mt-1",children:new Date(u.createdAt).toLocaleDateString()})]},u.id))}),e&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:m,onChange:u=>v(u.target.value),placeholder:"Add a comment...",className:"input-field flex-1 p-2 rounded text-sm",onKeyDown:u=>u.key==="Enter"&&h()}),s.jsx("button",{onClick:h,className:"btn-primary px-4 py-2 rounded text-sm",disabled:!m.trim(),children:"Post"})]})]})})]})]})}const uy=[{id:"overview",label:"Overview"},{id:"copyright",label:"Copyright"},{id:"identifiers",label:"Global IDs"},{id:"pro",label:"PROs"},{id:"workflow",label:"IP Workflow"}];function dy(){const[e,t]=w.useState("overview");return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Documentation"}),s.jsx("p",{className:"text-theme-secondary",children:"Reference guide for protecting and monetizing your creative work"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6 overflow-x-auto pb-2",children:uy.map(n=>s.jsx("button",{onClick:()=>t(n.id),className:`px-4 py-2 rounded text-sm whitespace-nowrap transition-colors ${e===n.id?"btn-primary":"bg-theme-tertiary text-theme-secondary hover:text-theme-primary"}`,children:n.label},n.id))}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[e==="overview"&&s.jsx(my,{}),e==="copyright"&&s.jsx(hy,{}),e==="identifiers"&&s.jsx(fy,{}),e==="pro"&&s.jsx(py,{}),e==="workflow"&&s.jsx(xy,{})]})]})]})}function my(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Protecting Your Creative Work"}),s.jsx("p",{className:"text-theme-secondary leading-relaxed",children:"As an independent music artist, protecting your intellectual property is essential for building a sustainable career. This guide walks you through the key steps to register, protect, and monetize your creative work."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Why This Matters"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsx("li",{children:"- Prove ownership of your work"}),s.jsx("li",{children:"- Collect royalties from streams and plays"}),s.jsx("li",{children:"- Protect against unauthorized use"}),s.jsx("li",{children:"- Enable licensing opportunities"})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Key Components"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsx("li",{children:"- Copyright registration"}),s.jsx("li",{children:"- PRO membership (BMI/ASCAP)"}),s.jsx("li",{children:"- Global identifiers (ISRC, UPC, ISWC)"}),s.jsx("li",{children:"- Distribution platform"})]})]})]})]})}function hy(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Copyright Registration"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What is Copyright?"}),s.jsxs("p",{className:"text-theme-secondary leading-relaxed",children:["Copyright is automatic protection that exists the moment you create an original work in a fixed form (recording, written notation, etc.). However, ",s.jsx("strong",{children:"registering"})," your copyright with the U.S. Copyright Office provides additional legal benefits."]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Benefits of Registration"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Public Record:"})," Creates official documentation of ownership"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Standing:"})," Required to sue for infringement in federal court"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Statutory Damages:"})," Eligible for up to $150,000 per work if registered before infringement"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Attorney's Fees:"})," Can recover legal costs in successful lawsuits"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Two Copyrights Per Song"}),s.jsx("p",{className:"text-theme-secondary mb-3",children:"Every song has two separate copyrights that can be registered:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-1",children:"PA (Performing Arts)"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:'Covers the underlying musical composition - the melody, lyrics, and arrangement. This is the "song" itself, separate from any recording.'}),s.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $45"})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h4",{className:"font-bold mb-1",children:"SR (Sound Recording)"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:"Covers the specific recorded performance - the actual audio file. This protects the production, vocals, and instrumentation as recorded."}),s.jsx("p",{className:"text-sm text-accent mt-2",children:"Cost: $65"})]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"How to Register"}),s.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:["1. Visit ",s.jsx("strong",{children:"copyright.gov"})]}),s.jsx("li",{children:"2. Create an account or log in"}),s.jsx("li",{children:'3. Select "Register a Work"'}),s.jsx("li",{children:"4. Choose PA or SR form"}),s.jsx("li",{children:"5. Complete the application and upload your work"}),s.jsx("li",{children:"6. Pay the filing fee ($45-$65)"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-3",children:"Processing time: 3-10 months"})]})]})]})}function fy(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Global Identifiers"}),s.jsx("p",{className:"text-theme-secondary mb-4",children:"Global identifiers are unique codes that help track, report, and pay royalties for your music across platforms worldwide."}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISRC (International Standard Recording Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A unique 12-character code assigned to each specific recording of a song."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"CC-XXX-YY-NNNNN"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"US-S1Z-21-00001"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Distributors (DistroKid, TuneCore, CD Baby) or you can register as an ISRC manager"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Usually free through distributors"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Tracking streams, radio plays, and generating royalty reports"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"UPC (Universal Product Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"A barcode for your release (single, EP, or album) - not individual tracks."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"12-digit number"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"012345678901"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Distributors typically provide these free"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Usually included with distribution"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Retail tracking, chart reporting, and sales data"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ISWC (International Standard Musical Work Code)"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Identifies the underlying composition (not the recording) - the songwriting."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Format:"}),s.jsx("p",{className:"font-mono",children:"T-NNNNNNNNN-C"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted",children:"Example:"}),s.jsx("p",{className:"font-mono",children:"T-070237182-1"})]})]}),s.jsxs("div",{className:"mt-3 text-sm text-theme-secondary",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Who assigns:"})," Your PRO (BMI, ASCAP, SESAC) when you register the work"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Cost:"})," Free through PRO membership"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Used for:"})," Tracking performance royalties globally"]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Quick Reference"}),s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-theme-muted",children:[s.jsx("th",{className:"text-left py-1",children:"ID"}),s.jsx("th",{className:"text-left py-1",children:"Covers"}),s.jsx("th",{className:"text-left py-1",children:"Get From"})]})}),s.jsxs("tbody",{className:"text-theme-secondary",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"ISRC"}),s.jsx("td",{className:"py-1",children:"Recording"}),s.jsx("td",{className:"py-1",children:"Distributor"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"UPC"}),s.jsx("td",{className:"py-1",children:"Release"}),s.jsx("td",{className:"py-1",children:"Distributor"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-mono",children:"ISWC"}),s.jsx("td",{className:"py-1",children:"Composition"}),s.jsx("td",{className:"py-1",children:"PRO"})]})]})]})]})]})]})}function py(){return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Performance Rights Organizations (PROs)"}),s.jsx("p",{className:"text-theme-secondary mb-4",children:"PROs collect royalties when your music is publicly performed - radio, TV, venues, streaming, and more. You must join one to collect these royalties."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"BMI"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Broadcast Music, Inc. - One of the largest PROs in the US."}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," FREE for songwriters"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publisher fee:"})," $150 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payout:"})," Quarterly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," bmi.com"]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"ASCAP"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"American Society of Composers, Authors and Publishers."}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," $50 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publisher fee:"})," $50 (one-time)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payout:"})," Quarterly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Website:"})," ascap.com"]})]})]})]}),s.jsxs("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"SESAC"}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:"Invitation-only PRO that represents select artists."}),s.jsxs("ul",{className:"text-sm text-theme-secondary",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Cost:"})," Free (by invitation)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Note:"})," Smaller roster, more personalized service"]})]})]}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Important Notes"}),s.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Choose one:"})," You can only be a member of ONE PRO at a time"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Register works:"})," After joining, you must register each song to collect royalties"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Co-writers:"})," Each co-writer needs their own PRO membership"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Publishing:"})," Consider registering as your own publisher to collect both writer AND publisher share"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Royalty Types PROs Collect"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Radio Airplay","TV/Film Sync","Live Venues","Streaming","Retail/Restaurants","Digital Radio","Airlines","Hotels"].map(e=>s.jsx("div",{className:"bg-theme-tertiary p-2 rounded text-center text-sm text-theme-secondary",children:e},e))})]})]})}function xy(){const e=[{step:1,title:"Fix Your Work",description:"Record or document your music in a tangible form (audio file, sheet music, written lyrics).",cost:"FREE",time:"Immediate",tips:["Keep dated backups","Email yourself a copy for timestamp","Store securely"]},{step:2,title:"Register Copyright",description:"File with the U.S. Copyright Office to create an official public record of ownership.",cost:"$45-$65",time:"3-10 months",tips:["Register PA for composition","Register SR for recording","Can register multiple works together"]},{step:3,title:"Join a PRO",description:"Sign up with BMI, ASCAP, or SESAC to collect performance royalties.",cost:"FREE-$50",time:"1-2 weeks",tips:["BMI is free for writers","ASCAP is $50 one-time","Only join ONE PRO"]},{step:4,title:"Register Your Composition",description:"Register your songs with your PRO to receive an ISWC and start collecting royalties.",cost:"FREE",time:"2-4 weeks",tips:["Include all co-writers","Add accurate metadata","Update if info changes"]},{step:5,title:"Upload to Distributor",description:"Use a distributor (DistroKid, TuneCore, CD Baby) to get on Spotify, Apple Music, etc.",cost:"$0-$30/year",time:"1-2 weeks",tips:["You'll get ISRC and UPC codes","Set a release date","Prepare artwork (3000x3000)"]},{step:6,title:"Release & Monitor",description:"Track your streams, royalties, and usage across platforms.",cost:"FREE",time:"Ongoing",tips:["Check PRO statements quarterly","Monitor distributor dashboard","Track with BOX"]}];return s.jsxs("div",{className:"space-y-6 text-theme-primary",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"IP Protection Workflow"}),s.jsx("p",{className:"text-theme-secondary mb-6",children:"Follow these 6 steps to fully protect and monetize your music. Each step builds on the previous one."}),s.jsx("div",{className:"space-y-4",children:e.map(t=>s.jsx("div",{className:"bg-theme-tertiary p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full btn-primary flex items-center justify-center font-bold",children:t.step}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:t.title}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.cost}),s.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-theme-secondary text-theme-muted",children:t.time})]}),s.jsx("p",{className:"text-sm text-theme-secondary mb-3",children:t.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tips.map((n,r)=>s.jsx("span",{className:"text-xs bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:n},r))})]})]})},t.step))}),s.jsxs("div",{className:"bg-theme-secondary p-4 rounded-lg border-l-4 border-accent mt-6",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Pro Tip: Track Everything in BOX"}),s.jsx("p",{className:"text-sm text-theme-secondary",children:"Use your project pages to store all identifiers (ISRC, UPC, ISWC, copyright registration numbers) and track which steps you've completed for each release."})]})]})}function yy(){const{user:e}=At(),[t,n]=w.useState([]),[r,l]=w.useState(null),[i,a]=w.useState([]),[o,c]=w.useState(""),[m,v]=w.useState(!0),[x,d]=w.useState(!1),[N,S]=w.useState(""),[y,R]=w.useState(""),[h,f]=w.useState("roster");w.useEffect(()=>{u()},[]);async function u(){try{const g=await fetch("/api/studio/artists");if(g.ok){const b=await g.json();n(b.artists||[])}}catch(g){console.error("Failed to load artists:",g)}finally{v(!1)}}async function j(g){try{const b=await fetch(`/api/studio/artists/${g}/projects`);if(b.ok){const k=await b.json();a(k.projects||[])}}catch(b){console.error("Failed to load artist projects:",b)}}async function T(g){g.preventDefault(),S(""),R(""),d(!0);try{const b=await fetch("/api/studio/invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})}),k=await b.json();b.ok?(R("Invitation sent successfully!"),c(""),u()):S(k.message||"Failed to send invitation")}catch{S("Failed to send invitation")}finally{d(!1)}}async function E(g,b){try{(await fetch(`/api/studio/projects/${g}/feature`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({featured:!b})})).ok&&r&&j(r.artistId)}catch(k){console.error("Failed to toggle featured status:",k)}}async function P(g){if(confirm("Are you sure you want to remove this artist from your roster?"))try{(await fetch(`/api/studio/artists/${g}`,{method:"DELETE"})).ok&&(u(),l(null),a([]))}catch(b){console.error("Failed to remove artist:",b)}}return(e==null?void 0:e.role)!=="studio"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Studio access only"}),s.jsx(Qe,{href:"/",className:"text-accent hover:underline",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.businessName||"Studio Dashboard"}),s.jsx("p",{className:"text-theme-secondary",children:"Manage your artist roster and curate your portfolio"}),s.jsxs("div",{className:"mt-4 p-4 bg-theme-secondary rounded-lg inline-block",children:[s.jsx("p",{className:"text-xs text-theme-muted mb-1",children:"Your Studio Code"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("code",{className:"text-xl font-mono font-bold text-accent tracking-wider",children:e.boxCode||"Loading..."}),s.jsx("button",{onClick:()=>{e.boxCode&&(navigator.clipboard.writeText(e.boxCode),R("Code copied!"),setTimeout(()=>R(""),2e3))},className:"text-xs bg-theme-tertiary px-3 py-1 rounded hover:opacity-80",children:"Copy"})]}),s.jsx("p",{className:"text-xs text-theme-muted mt-2",children:"Share this code with artists to join your network during signup"})]})]}),s.jsxs("div",{className:"flex gap-2 mb-6 border-b border-theme pb-2",children:[s.jsx("button",{onClick:()=>f("roster"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="roster"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Artist Roster"}),s.jsx("button",{onClick:()=>f("portfolio"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="portfolio"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Portfolio"}),s.jsx("button",{onClick:()=>f("settings"),className:`px-4 py-2 rounded-t-lg transition-colors ${h==="settings"?"bg-theme-tertiary text-accent":"text-theme-muted hover:text-theme-primary"}`,children:"Settings"})]}),h==="roster"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Invite Artist"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsx("input",{type:"email",value:o,onChange:g=>c(g.target.value),className:"input-field w-full p-3 rounded",placeholder:"artist@email.com",required:!0}),N&&s.jsx("p",{className:"text-red-400 text-sm",children:N}),y&&s.jsx("p",{className:"text-green-400 text-sm",children:y}),s.jsx("button",{type:"submit",disabled:x,className:"w-full btn-primary py-3 rounded-lg font-bold disabled:opacity-50",children:x?"Sending...":"Send Invitation"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("h2",{className:"text-lg font-bold text-accent mb-4",children:["Your Roster (",t.filter(g=>g.status==="accepted").length,")"]}),m?s.jsx("p",{className:"text-theme-muted",children:"Loading..."}):t.length===0?s.jsx("p",{className:"text-theme-muted text-sm",children:"No artists yet. Invite some to get started!"}):s.jsx("div",{className:"space-y-3",children:t.map(g=>s.jsx("div",{onClick:()=>{g.status==="accepted"&&g.artistId&&(l(g),j(g.artistId))},className:`p-3 rounded-lg cursor-pointer transition-colors ${(r==null?void 0:r.id)===g.id?"bg-theme-tertiary border border-accent":"bg-theme-secondary hover:bg-theme-tertiary"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm",children:g.artistName||g.inviteEmail}),s.jsx("p",{className:"text-theme-muted text-xs",children:g.status==="pending"?"Pending invite":`${g.projectCount} projects`})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${g.status==="accepted"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:g.status})]})},g.id))})]})]}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:r.artistName}),s.jsx("p",{className:"text-theme-muted text-sm",children:r.artistEmail})]}),s.jsx("button",{onClick:()=>P(r.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove from roster"})]}),s.jsx("h3",{className:"font-bold text-accent mb-4",children:"Projects"}),i.length===0?s.jsx("p",{className:"text-theme-muted text-sm",children:"No projects yet"}):s.jsx("div",{className:"space-y-3",children:i.map(g=>s.jsxs("div",{className:"p-4 bg-theme-secondary rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:g.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-theme-muted text-xs",children:g.type}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${g.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:g.status})]})]}),s.jsx("button",{onClick:()=>E(g.id,g.isFeatured),className:`px-3 py-1.5 rounded text-sm transition-colors ${g.isFeatured?"bg-accent text-accent-contrast font-bold":"bg-theme-tertiary text-theme-muted hover:text-theme-primary"}`,children:g.isFeatured?"Featured":"Feature"})]},g.id))})]}):s.jsx("div",{className:"card p-6 rounded-xl text-center",children:s.jsx("p",{className:"text-theme-muted",children:"Select an artist to view their projects"})})})]}),h==="portfolio"&&s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Work"}),s.jsx("p",{className:"text-theme-muted text-sm mb-6",children:"These projects will appear on your public portfolio page."}),s.jsx(Qe,{href:`/portfolio/${e.id}`,className:"text-accent hover:underline text-sm",children:"View public portfolio "})]}),h==="settings"&&s.jsxs("div",{className:"card p-6 rounded-xl max-w-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Studio Settings"}),s.jsx("p",{className:"text-theme-muted text-sm",children:"Update your studio profile in the Settings page."}),s.jsx(Qe,{href:"/settings",className:"inline-block mt-4 btn-primary px-4 py-2 rounded-lg text-sm",children:"Go to Settings"})]})]})]})}function gy(){const{id:e}=ti(),{theme:t,toggleTheme:n}=ei(),[r,l]=w.useState(null),[i,a]=w.useState([]),[o,c]=w.useState([]),[m,v]=w.useState(!0);w.useEffect(()=>{x()},[e]);async function x(){try{const d=await fetch(`/api/portfolio/${e}`);if(d.ok){const N=await d.json();l(N.studio),a(N.featuredProjects||[]),c(N.roster||[])}}catch(d){console.error("Failed to load portfolio:",d)}finally{v(!1)}}return m?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("p",{className:"text-theme-muted",children:"Loading..."})}):r?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qe,{href:"/",children:s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"})}),s.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono transition-colors",children:["[",t,"]"]})]})}),s.jsxs("main",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:r.businessName}),r.businessBio&&s.jsx("p",{className:"text-theme-secondary max-w-2xl mx-auto",children:r.businessBio})]}),o.length>0&&s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Artist Roster"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(d=>{var N;return s.jsxs("div",{className:"card p-4 rounded-xl text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-theme-tertiary mx-auto mb-3 flex items-center justify-center",children:s.jsx("span",{className:"text-2xl font-bold text-accent",children:((N=d.displayName)==null?void 0:N.charAt(0))||"?"})}),s.jsx("p",{className:"font-bold",children:d.displayName}),s.jsxs("p",{className:"text-theme-muted text-xs",children:[d.projectCount," projects"]})]},d.id)})})]}),i.length>0&&s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-bold text-accent mb-6",children:"Featured Work"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(d=>s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:d.type}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${d.status==="published"?"bg-green-900/50 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:d.status})]}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:d.title}),s.jsxs("p",{className:"text-theme-muted text-sm mb-3",children:["by ",d.artistName]}),d.description&&s.jsx("p",{className:"text-theme-secondary text-sm line-clamp-3",children:d.description})]},d.id))})]}),i.length===0&&o.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-theme-muted",children:"No content to display yet"})})]}),s.jsx("footer",{className:"border-t border-theme p-6 mt-12",children:s.jsx("div",{className:"max-w-6xl mx-auto text-center text-theme-muted text-sm",children:s.jsx("p",{children:"Powered by BOX | luctheleo.com"})})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"Portfolio not found"}),s.jsx(Qe,{href:"/",className:"text-accent hover:underline",children:"Back to Home"})]})})}const qs={mlc:{name:"The MLC",fullName:"The Mechanical Licensing Collective",description:"Bulk Work Registration for digital mechanical royalties in the U.S.",format:"csv",fields:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID","Alternative Titles"]},ascap_bmi:{name:"ASCAP/BMI",fullName:"MusicMark Electronic Batch Registration",description:"Performance royalties registration via MusicMark EBR system.",format:"csv",fields:["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"]},music_reports:{name:"Music Reports",fullName:"Songdex Catalog Template",description:"Licensing registration for platforms like TikTok and Amazon Music.",format:"csv",fields:["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"]},soundexchange:{name:"SoundExchange",fullName:"ISRC Ingest Form",description:"Digital performance royalties for master recordings.",format:"csv",fields:["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"]},hfa:{name:"Harry Fox Agency",fullName:"eSong Bulk Registration Template",description:"Mechanical royalties for reproductions (streaming, downloads, CDs). Excel template for bulk uploads.",format:"csv",fields:["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"]}};function vy(){const{user:e}=At(),[t,n]=w.useState([]),[r,l]=w.useState([]),[i,a]=w.useState(null),[o,c]=w.useState(!0),[m,v]=w.useState("select-platform");w.useEffect(()=>{x()},[]);async function x(){try{const P=await fetch("/api/projects");if(P.ok){const g=await P.json();n(g.projects||[])}}catch(P){console.error("Failed to load projects:",P)}finally{c(!1)}}function d(P){l(g=>g.includes(P)?g.filter(b=>b!==P):[...g,P])}function N(){l(t.map(P=>P.id))}function S(){l([])}function y(){if(!i)return"";const P=t.filter(b=>r.includes(b.id));let g="";switch(i){case"mlc":g=R(P);break;case"ascap_bmi":g=h(P);break;case"music_reports":g=f(P);break;case"soundexchange":g=u(P);break;case"hfa":g=j(P);break}return g}function R(P){const g=["Work Title","ISWC","Writers","Publishers","Ownership Percentage","PRO Work ID","Alternative Titles"],b=P.map(k=>{var D,A,B,K;return[k.title,((D=k.metadata)==null?void 0:D.iswc)||"",(((A=k.metadata)==null?void 0:A.writers)||[]).join("; "),(((B=k.metadata)==null?void 0:B.publishers)||[]).join("; "),"100",((K=k.metadata)==null?void 0:K.proWorkId)||"",""]});return[g.join(","),...b.map(k=>k.map(D=>`"${D}"`).join(","))].join(`
`)}function h(P){const g=["Work Title","Writers","Publishers","ISWC","Duration","Genre","PRO Affiliation"],b=P.map(k=>{var D,A,B,K,U;return[k.title,(((D=k.metadata)==null?void 0:D.writers)||[]).join("; "),(((A=k.metadata)==null?void 0:A.publishers)||[]).join("; "),((B=k.metadata)==null?void 0:B.iswc)||"",((K=k.metadata)==null?void 0:K.duration)||"",((U=k.metadata)==null?void 0:U.genre)||"",""]});return[g.join(","),...b.map(k=>k.map(D=>`"${D}"`).join(","))].join(`
`)}function f(P){const g=["Song Title","ISRC","ISWC","Writers","Publishers","Release Date","Duration","UPC"],b=P.map(k=>{var D,A,B,K,U,ee,ue;return[k.title,((D=k.metadata)==null?void 0:D.isrc)||"",((A=k.metadata)==null?void 0:A.iswc)||"",(((B=k.metadata)==null?void 0:B.writers)||[]).join("; "),(((K=k.metadata)==null?void 0:K.publishers)||[]).join("; "),((U=k.metadata)==null?void 0:U.releaseDate)||"",((ee=k.metadata)==null?void 0:ee.duration)||"",((ue=k.metadata)==null?void 0:ue.upc)||""]});return[g.join(","),...b.map(k=>k.map(D=>`"${D}"`).join(","))].join(`
`)}function u(P){const g=["Recording Title","ISRC","Artist Name","Featured Artists","Release Date","Duration","Label","UPC"],b=P.map(k=>{var D,A,B,K;return[k.title,((D=k.metadata)==null?void 0:D.isrc)||"",(e==null?void 0:e.displayName)||"","",((A=k.metadata)==null?void 0:A.releaseDate)||"",((B=k.metadata)==null?void 0:B.duration)||"","",((K=k.metadata)==null?void 0:K.upc)||""]});return[g.join(","),...b.map(k=>k.map(D=>`"${D}"`).join(","))].join(`
`)}function j(P){const g=["Song Title","Writer First Name","Writer Last Name","Ownership Share","ISRC","Artist Name","Album Title","Publisher P#"],b=[];return P.forEach(k=>{var A,B;const D=((A=k.metadata)==null?void 0:A.writers)||[];if(D.length===0)b.push([k.title,"","","100",((B=k.metadata)==null?void 0:B.isrc)||"",(e==null?void 0:e.displayName)||"","",""]);else{const K=Math.floor(100/D.length);D.forEach((U,ee)=>{var M;const ue=U.trim().split(" "),C=ue[0]||"",L=ue.slice(1).join(" ")||"";b.push([k.title,C,L,String(K),((M=k.metadata)==null?void 0:M.isrc)||"",(e==null?void 0:e.displayName)||"","",""])})}}),[g.join(","),...b.map(k=>k.map(D=>`"${D}"`).join(","))].join(`
`)}function T(){if(!i)return;const P=y(),g=qs[i],b=new Blob([P],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(b),D=document.createElement("a");D.href=k,D.download=`${g.name.replace(/\//g,"_")}_submission_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(k)}function E(){if(!i)return{headers:[],rows:[]};const P=t.filter(g=>r.includes(g.id));switch(i){case"mlc":return{headers:["Work Title","ISWC","Writers","Publishers","Ownership %","PRO Work ID"],rows:P.map(g=>{var b,k,D,A;return[g.title,((b=g.metadata)==null?void 0:b.iswc)||"-",(((k=g.metadata)==null?void 0:k.writers)||[]).join("; ")||"-",(((D=g.metadata)==null?void 0:D.publishers)||[]).join("; ")||"-","100%",((A=g.metadata)==null?void 0:A.proWorkId)||"-"]})};case"ascap_bmi":return{headers:["Work Title","Writers","Publishers","ISWC","Duration","Genre"],rows:P.map(g=>{var b,k,D,A,B;return[g.title,(((b=g.metadata)==null?void 0:b.writers)||[]).join("; ")||"-",(((k=g.metadata)==null?void 0:k.publishers)||[]).join("; ")||"-",((D=g.metadata)==null?void 0:D.iswc)||"-",((A=g.metadata)==null?void 0:A.duration)||"-",((B=g.metadata)==null?void 0:B.genre)||"-"]})};case"music_reports":return{headers:["Song Title","ISRC","ISWC","Writers","Release Date","UPC"],rows:P.map(g=>{var b,k,D,A,B;return[g.title,((b=g.metadata)==null?void 0:b.isrc)||"-",((k=g.metadata)==null?void 0:k.iswc)||"-",(((D=g.metadata)==null?void 0:D.writers)||[]).join("; ")||"-",((A=g.metadata)==null?void 0:A.releaseDate)||"-",((B=g.metadata)==null?void 0:B.upc)||"-"]})};case"soundexchange":return{headers:["Recording Title","ISRC","Artist","Release Date","Duration","UPC"],rows:P.map(g=>{var b,k,D,A;return[g.title,((b=g.metadata)==null?void 0:b.isrc)||"-",(e==null?void 0:e.displayName)||"-",((k=g.metadata)==null?void 0:k.releaseDate)||"-",((D=g.metadata)==null?void 0:D.duration)||"-",((A=g.metadata)==null?void 0:A.upc)||"-"]})};case"hfa":return{headers:["Song Title","Writer First","Writer Last","Share","ISRC","Artist"],rows:P.flatMap(g=>{var D,A;const b=((D=g.metadata)==null?void 0:D.writers)||[];if(b.length===0)return[[g.title,"-","-","100",((A=g.metadata)==null?void 0:A.isrc)||"-",(e==null?void 0:e.displayName)||"-"]];const k=Math.floor(100/b.length);return b.map(B=>{var U;const K=B.trim().split(" ");return[g.title,K[0]||"-",K.slice(1).join(" ")||"-",String(k),((U=g.metadata)==null?void 0:U.isrc)||"-",(e==null?void 0:e.displayName)||"-"]})})};default:return{headers:[],rows:[]}}}return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Submission File Generator"}),s.jsx("p",{className:"text-theme-secondary",children:"Export your project data in industry-standard formats for royalty and rights platforms"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 justify-center md:justify-start",children:[s.jsx("button",{onClick:()=>v("select-platform"),className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${m==="select-platform"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"}`,children:"1. Platform"}),s.jsx("button",{onClick:()=>i&&v("select-projects"),disabled:!i,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${m==="select-projects"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"2. Projects"}),s.jsx("button",{onClick:()=>r.length>0&&v("preview"),disabled:r.length===0,className:`px-3 py-2 rounded-lg text-xs sm:text-sm ${m==="preview"?"bg-accent text-accent-contrast font-bold":"bg-theme-secondary text-theme-muted"} disabled:opacity-50`,children:"3. Download"})]}),m==="select-platform"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Select Destination Platform"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(qs).map(([P,g])=>s.jsxs("button",{onClick:()=>{a(P),v("select-projects")},className:`card p-6 rounded-xl text-left transition-all hover:border-accent ${i===P?"border-2 border-accent":"border border-theme"}`,children:[s.jsx("h3",{className:"text-lg font-bold text-accent mb-1",children:g.name}),s.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:g.fullName}),s.jsx("p",{className:"text-xs text-theme-muted mb-3",children:g.description}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.fields.slice(0,4).map((b,k)=>s.jsx("span",{className:"text-xs bg-theme-tertiary px-2 py-1 rounded",children:b},k)),g.fields.length>4&&s.jsxs("span",{className:"text-xs text-theme-muted",children:["+",g.fields.length-4," more"]})]})]},P))}),s.jsxs("div",{className:"card p-6 rounded-xl mt-8",children:[s.jsx("h3",{className:"text-lg font-bold mb-3",children:"About File Formats"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-accent mb-1",children:"CSV (Comma-Separated Values)"}),s.jsx("p",{className:"text-theme-muted",children:"User-friendly format for bulk uploads. Opens in Excel or Google Sheets. Recommended for independent artists and small publishers."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-accent mb-1",children:"CWR (Common Works Registration)"}),s.jsx("p",{className:"text-theme-muted",children:'Industry "gold standard" for large publishers. Machine-readable format requiring specialized software. Used for automated catalog registration.'})]})]})]})]}),m==="select-projects"&&i&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Select Projects to Export"}),s.jsxs("p",{className:"text-sm text-theme-muted",children:["Exporting for: ",s.jsx("span",{className:"text-accent",children:qs[i].name})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:N,className:"text-sm text-accent hover:underline",children:"Select All"}),s.jsx("span",{className:"text-theme-muted",children:"|"}),s.jsx("button",{onClick:S,className:"text-sm text-theme-muted hover:underline",children:"Deselect All"})]})]}),o?s.jsx("p",{className:"text-theme-muted",children:"Loading projects..."}):t.length===0?s.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[s.jsx("p",{className:"text-theme-muted mb-4",children:"No projects found. Create some projects first to export."}),s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Go to Dashboard"})]}):s.jsx("div",{className:"space-y-2",children:t.map(P=>{var g,b,k;return s.jsxs("div",{onClick:()=>d(P.id),className:`card p-4 rounded-lg cursor-pointer transition-all flex items-center gap-4 ${r.includes(P.id)?"border-2 border-accent bg-theme-secondary":"border border-theme hover:border-theme-muted"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 ${r.includes(P.id)?"border-accent bg-accent":"border-theme-muted bg-transparent"}`,children:r.includes(P.id)&&s.jsx("span",{className:"text-black text-xs font-bold",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold",children:P.title}),s.jsxs("div",{className:"flex gap-3 text-xs text-theme-muted mt-1",children:[s.jsx("span",{children:P.type}),s.jsx("span",{children:""}),s.jsx("span",{children:P.status}),((g=P.metadata)==null?void 0:g.isrc)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:["ISRC: ",P.metadata.isrc]})]})]})]}),s.jsxs("div",{className:"text-xs text-theme-muted",children:[(b=P.metadata)!=null&&b.iswc?" ISWC":"",(k=P.metadata)!=null&&k.isrc?"  ISRC":""]})]},P.id)})}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{onClick:()=>v("select-platform"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),s.jsxs("button",{onClick:()=>v("preview"),disabled:r.length===0,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:["Preview (",r.length," selected) "]})]})]}),m==="preview"&&i&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Preview & Download"}),s.jsxs("p",{className:"text-sm text-theme-muted",children:[s.jsx("span",{className:"text-accent",children:qs[i].name})," format ",r.length," project",r.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"card p-6 rounded-xl mb-6 overflow-x-auto",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Data Preview"}),(()=>{const{headers:P,rows:g}=E();return s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b border-theme",children:P.map((b,k)=>s.jsx("th",{className:"text-left py-2 px-3 text-accent font-bold",children:b},k))})}),s.jsx("tbody",{children:g.map((b,k)=>s.jsx("tr",{className:"border-b border-theme-tertiary hover:bg-theme-secondary",children:b.map((D,A)=>s.jsx("td",{className:"py-2 px-3 text-theme-secondary",children:D},A))},k))})]})})()]}),s.jsxs("div",{className:"card p-6 rounded-xl mb-6",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Missing Data Notice"}),s.jsx("p",{className:"text-sm text-theme-muted mb-4",children:'Fields marked with "-" are empty. Complete your project metadata for accurate submissions.'}),s.jsx("p",{className:"text-xs text-theme-muted",children:"Tip: Add ISRC, ISWC, writers, and publishers in each project's details page before exporting."})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>v("select-projects"),className:"text-theme-muted hover:text-theme-primary",children:" Back"}),s.jsx("button",{onClick:T,className:"btn-primary px-8 py-3 rounded-lg font-bold",children:"Download CSV File"})]})]})]})]})}const _i={shortBio:"",mediumBio:"",longBio:"",genre:"",location:"",photoUrls:[],videoUrls:[],featuredTracks:[],achievements:[],pressQuotes:[],socialLinks:{},contactEmail:"",contactName:"",bookingEmail:"",technicalRider:"",stagePlot:"",isPublished:!1};function jy(){const{user:e}=At(),[t,n]=w.useState(_i),[r,l]=w.useState(!0),[i,a]=w.useState(!1),[o,c]=w.useState(null),[m,v]=w.useState("bio"),[x,d]=w.useState(""),[N,S]=w.useState(""),[y,R]=w.useState({title:"",url:"",platform:"spotify"}),[h,f]=w.useState(""),[u,j]=w.useState({quote:"",source:""});w.useEffect(()=>{T()},[]);async function T(){try{const C=await fetch("/api/epk");if(C.ok){const L=await C.json();L.epk&&n({..._i,...L.epk,photoUrls:L.epk.photoUrls||[],videoUrls:L.epk.videoUrls||[],featuredTracks:L.epk.featuredTracks||[],achievements:L.epk.achievements||[],pressQuotes:L.epk.pressQuotes||[],socialLinks:L.epk.socialLinks||{}})}}catch(C){console.error("Failed to load EPK:",C)}finally{l(!1)}}async function E(C=!1){a(!0),c(null);try{const L=await fetch("/api/epk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,isPublished:C?!0:t.isPublished})});if(L.ok){const M=await L.json();n({..._i,...M.epk,photoUrls:M.epk.photoUrls||[],videoUrls:M.epk.videoUrls||[],featuredTracks:M.epk.featuredTracks||[],achievements:M.epk.achievements||[],pressQuotes:M.epk.pressQuotes||[],socialLinks:M.epk.socialLinks||{}}),c({type:"success",text:C?"EPK published!":"EPK saved!"})}else c({type:"error",text:"Failed to save EPK"})}catch{c({type:"error",text:"Failed to save EPK"})}finally{a(!1)}}function P(){x.trim()&&(n({...t,photoUrls:[...t.photoUrls,x.trim()]}),d(""))}function g(C){n({...t,photoUrls:t.photoUrls.filter((L,M)=>M!==C)})}function b(){N.trim()&&(n({...t,videoUrls:[...t.videoUrls,N.trim()]}),S(""))}function k(C){n({...t,videoUrls:t.videoUrls.filter((L,M)=>M!==C)})}function D(){y.title.trim()&&y.url.trim()&&(n({...t,featuredTracks:[...t.featuredTracks,{...y}]}),R({title:"",url:"",platform:"spotify"}))}function A(C){n({...t,featuredTracks:t.featuredTracks.filter((L,M)=>M!==C)})}function B(){h.trim()&&(n({...t,achievements:[...t.achievements,h.trim()]}),f(""))}function K(C){n({...t,achievements:t.achievements.filter((L,M)=>M!==C)})}function U(){u.quote.trim()&&(n({...t,pressQuotes:[...t.pressQuotes,{...u}]}),j({quote:"",source:""}))}function ee(C){n({...t,pressQuotes:t.pressQuotes.filter((L,M)=>M!==C)})}function ue(C,L){n({...t,socialLinks:{...t.socialLinks,[C]:L}})}return r?s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("p",{className:"text-theme-muted",children:"Loading your EPK..."})})]}):s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx(dt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Electronic Press Kit"}),s.jsx("p",{className:"text-theme-secondary",children:"Your professional resume for the music industry"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[t.isPublished&&(e==null?void 0:e.boxCode)&&s.jsx("a",{href:`/epk/${e.boxCode}`,target:"_blank",className:"text-xs text-accent hover:underline",children:"View Public EPK"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.isPublished?"bg-green-500/20 text-green-400":"bg-theme-tertiary text-theme-muted"}`,children:t.isPublished?"Published":"Draft"})]})]}),o&&s.jsx("div",{className:`p-3 rounded mb-6 ${o.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:o.text}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-theme pb-2",children:["bio","media","achievements","contact","technical"].map(C=>s.jsx("button",{onClick:()=>v(C),className:`px-4 py-2 rounded-t-lg text-sm transition-colors ${m===C?"bg-theme-tertiary text-accent font-bold":"text-theme-muted hover:text-theme-primary"}`,children:C==="bio"?"Biography":C==="media"?"Media & Music":C==="achievements"?"Press & Awards":C==="contact"?"Contact":"Technical"},C))}),m==="bio"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Artist Biography"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Write in third person so journalists can copy/paste. Create three versions for different contexts."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Short Bio (50-100 words) - Elevator pitch"}),s.jsx("textarea",{value:t.shortBio,onChange:C=>n({...t,shortBio:C.target.value}),className:"input-field w-full p-3 rounded h-24",placeholder:"[Artist Name] is a [genre] artist from [location]..."}),s.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.shortBio.split(/\s+/).filter(Boolean).length," words"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Medium Bio (150-250 words) - For press"}),s.jsx("textarea",{value:t.mediumBio,onChange:C=>n({...t,mediumBio:C.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Expand on your story, influences, and recent work..."}),s.jsxs("p",{className:"text-xs text-theme-muted mt-1",children:[t.mediumBio.split(/\s+/).filter(Boolean).length," words"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Long Bio - For in-depth features"}),s.jsx("textarea",{value:t.longBio,onChange:C=>n({...t,longBio:C.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:"Your complete artist story..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Genre"}),s.jsx("input",{type:"text",value:t.genre,onChange:C=>n({...t,genre:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Hip-Hop, R&B, Electronic..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Location"}),s.jsx("input",{type:"text",value:t.location,onChange:C=>n({...t,location:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Los Angeles, CA"})]})]})]})]})}),m==="media"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Featured Tracks"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 of your best tracks. Lead with your strongest song."}),s.jsx("div",{className:"space-y-3 mb-4",children:t.featuredTracks.map((C,L)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsxs("span",{className:"text-accent font-bold",children:[L+1,"."]}),s.jsx("span",{className:"flex-1",children:C.title}),s.jsx("span",{className:"text-xs text-theme-muted",children:C.platform}),s.jsx("button",{onClick:()=>A(L),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},L))}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("input",{type:"text",value:y.title,onChange:C=>R({...y,title:C.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Track title"}),s.jsx("input",{type:"text",value:y.url,onChange:C=>R({...y,url:C.target.value}),className:"input-field p-2 rounded text-sm",placeholder:"Streaming URL"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:y.platform,onChange:C=>R({...y,platform:C.target.value}),className:"input-field p-2 rounded text-sm flex-1",children:[s.jsx("option",{value:"spotify",children:"Spotify"}),s.jsx("option",{value:"apple",children:"Apple Music"}),s.jsx("option",{value:"soundcloud",children:"SoundCloud"}),s.jsx("option",{value:"youtube",children:"YouTube"}),s.jsx("option",{value:"other",children:"Other"})]}),s.jsx("button",{onClick:D,className:"btn-primary px-3 py-2 rounded text-sm",children:"Add"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Photos"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 3-5 high-resolution photo URLs. Include landscape, portrait, and square formats."}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:t.photoUrls.map((C,L)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:C,alt:`Photo ${L+1}`,className:"w-full h-32 object-cover rounded"}),s.jsx("button",{onClick:()=>g(L),className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Remove"})]},L))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:C=>d(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Photo URL (https://...)"}),s.jsx("button",{onClick:P,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Photo"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Videos"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Add 2-3 video links: live performances and official music videos."}),s.jsx("div",{className:"space-y-2 mb-4",children:t.videoUrls.map((C,L)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsx("span",{className:"flex-1 text-sm truncate",children:C}),s.jsx("button",{onClick:()=>k(L),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},L))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:N,onChange:C=>S(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Video URL (YouTube, Vimeo...)"}),s.jsx("button",{onClick:b,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Video"})]})]})]}),m==="achievements"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Achievements & Stats"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Awards, streaming milestones, notable performances, chart positions."}),s.jsx("div",{className:"space-y-2 mb-4",children:t.achievements.map((C,L)=>s.jsxs("div",{className:"flex items-center gap-3 bg-theme-secondary p-3 rounded",children:[s.jsx("span",{className:"flex-1",children:C}),s.jsx("button",{onClick:()=>K(L),className:"text-red-400 text-sm hover:underline",children:"Remove"})]},L))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"1M+ streams on Spotify, Winner of XYZ Award..."}),s.jsx("button",{onClick:B,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add"})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Press Quotes"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Notable quotes from press, reviews, or industry professionals."}),s.jsx("div",{className:"space-y-3 mb-4",children:t.pressQuotes.map((C,L)=>s.jsxs("div",{className:"bg-theme-secondary p-4 rounded",children:[s.jsxs("p",{className:"italic text-theme-primary",children:['"',C.quote,'"']}),C.source&&s.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:[" ",C.source]}),s.jsx("button",{onClick:()=>ee(L),className:"text-red-400 text-xs mt-2 hover:underline",children:"Remove"})]},L))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:u.quote,onChange:C=>j({...u,quote:C.target.value}),className:"input-field w-full p-2 rounded text-sm h-20",placeholder:"Quote text..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:u.source,onChange:C=>j({...u,source:C.target.value}),className:"input-field flex-1 p-2 rounded text-sm",placeholder:"Source (Rolling Stone, Billboard...)"}),s.jsx("button",{onClick:U,className:"btn-primary px-4 py-2 rounded text-sm",children:"Add Quote"})]})]})]})]}),m==="contact"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:t.contactName,onChange:C=>n({...t,contactName:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"Manager, publicist, or artist name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Press/General Inquiries Email"}),s.jsx("input",{type:"email",value:t.contactEmail,onChange:C=>n({...t,contactEmail:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"press@artist.com"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1",children:"Booking Email"}),s.jsx("input",{type:"email",value:t.bookingEmail,onChange:C=>n({...t,bookingEmail:C.target.value}),className:"input-field w-full p-3 rounded",placeholder:"booking@artist.com"})]})]})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Social Links"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["instagram","twitter","tiktok","youtube","spotify","soundcloud","website"].map(C=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-theme-secondary mb-1 capitalize",children:C}),s.jsx("input",{type:"text",value:t.socialLinks[C]||"",onChange:L=>ue(C,L.target.value),className:"input-field w-full p-3 rounded",placeholder:`https://${C}.com/...`})]},C))})]})]}),m==="technical"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Technical Rider"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Equipment needs, input list, and stage requirements for venues."}),s.jsx("textarea",{value:t.technicalRider,onChange:C=>n({...t,technicalRider:C.target.value}),className:"input-field w-full p-3 rounded h-48",placeholder:`Input List:
- Vocal Mic (SM58 or equivalent)
- DI Box for backing tracks
- 2 Monitor wedges

Equipment Provided:
- Laptop with backing tracks
- ...`})]}),s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h2",{className:"text-lg font-bold text-accent mb-4",children:"Stage Plot"}),s.jsx("p",{className:"text-xs text-theme-muted mb-4",children:"Describe your stage setup or link to a stage plot image."}),s.jsx("textarea",{value:t.stagePlot,onChange:C=>n({...t,stagePlot:C.target.value}),className:"input-field w-full p-3 rounded h-36",placeholder:"Stage setup description or URL to stage plot diagram..."})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-theme",children:[s.jsx("div",{className:"text-sm text-theme-muted",children:(e==null?void 0:e.boxCode)&&s.jsxs("span",{children:["Your EPK URL: ",s.jsxs("code",{className:"text-accent",children:["/epk/",e.boxCode]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),disabled:i,className:"bg-theme-secondary px-6 py-3 rounded-lg font-bold hover:opacity-80 disabled:opacity-50",children:i?"Saving...":"Save Draft"}),s.jsx("button",{onClick:()=>E(!0),disabled:i,className:"btn-primary px-6 py-3 rounded-lg font-bold disabled:opacity-50",children:i?"Publishing...":t.isPublished?"Update & Publish":"Publish EPK"})]})]})]})]})}function Ny(){const{boxCode:e}=ti(),{theme:t,toggleTheme:n}=ei(),[r,l]=w.useState(null),[i,a]=w.useState(!0),[o,c]=w.useState(""),[m,v]=w.useState("bio");w.useEffect(()=>{x()},[e]);async function x(){try{const y=await fetch(`/api/epk/${e}`);if(y.ok){const R=await y.json();l(R)}else c("Press kit not found or not published")}catch{c("Failed to load press kit")}finally{a(!1)}}if(i)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-theme-muted",children:"Loading press kit..."})]})});if(o||!r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-theme-primary",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Press Kit Not Found"}),s.jsx("p",{className:"text-theme-muted mb-6",children:o}),s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"Return to BOX"})]})});const{epk:d,artist:N,projects:S}=r;return s.jsxs("div",{className:"min-h-screen bg-theme-primary",children:[s.jsx("header",{className:"border-b border-theme p-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[s.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-8 h-8"}),s.jsx("span",{className:"text-xl brand-font tracking-wider",children:"BOX"})]}),s.jsxs("button",{onClick:n,className:"text-theme-muted hover:text-theme-primary text-xs font-mono",children:["[",t,"]"]})]})}),s.jsxs("main",{className:"max-w-5xl mx-auto p-6",children:[s.jsxs("section",{className:"text-center mb-12",children:[N.profileImageUrl&&s.jsx("img",{src:N.profileImageUrl,alt:N.displayName,className:"w-32 h-32 rounded-full mx-auto mb-6 object-cover border-4 border-accent"}),s.jsx("h1",{className:"text-4xl font-bold mb-2",children:N.displayName}),d.genre&&s.jsx("p",{className:"text-accent text-lg mb-1",children:d.genre}),d.location&&s.jsx("p",{className:"text-theme-muted",children:d.location}),Object.keys(d.socialLinks).length>0&&s.jsx("div",{className:"flex justify-center gap-4 mt-6",children:Object.entries(d.socialLinks).filter(([y,R])=>R).map(([y,R])=>s.jsx("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"text-theme-muted hover:text-accent transition-colors capitalize text-sm",children:y},y))})]}),s.jsx("nav",{className:"flex flex-wrap justify-center gap-2 mb-8 border-b border-theme pb-4",children:["bio","music","media","press","contact"].map(y=>s.jsx("button",{onClick:()=>v(y),className:`px-4 py-2 rounded-lg text-sm transition-colors ${m===y?"bg-accent text-accent-contrast font-bold":"text-theme-muted hover:text-theme-primary"}`,children:y==="bio"?"About":y==="music"?"Music":y==="media"?"Photos & Videos":y==="press"?"Press":"Contact"},y))}),m==="bio"&&s.jsxs("section",{className:"max-w-3xl mx-auto",children:[s.jsx("div",{className:"prose prose-invert max-w-none",children:d.mediumBio?s.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.mediumBio}):d.shortBio?s.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:d.shortBio}):s.jsx("p",{className:"text-theme-muted",children:"No biography available."})}),d.longBio&&s.jsxs("details",{className:"mt-8",children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"Read full bio"}),s.jsx("p",{className:"mt-4 text-theme-secondary whitespace-pre-wrap",children:d.longBio})]})]}),m==="music"&&s.jsxs("section",{children:[d.featuredTracks.length>0?s.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.featuredTracks.map((y,R)=>s.jsxs("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",className:"card p-6 rounded-xl flex items-center gap-4 hover:border-accent transition-colors",children:[s.jsx("span",{className:"text-2xl font-bold text-accent",children:R+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg",children:y.title}),s.jsx("p",{className:"text-xs text-theme-muted capitalize",children:y.platform})]}),s.jsx("span",{className:"text-accent",children:"Listen"})]},R))}):s.jsx("p",{className:"text-center text-theme-muted",children:"No featured tracks available."}),S.length>0&&s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Published Projects"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map(y=>s.jsxs("div",{className:"card p-4 rounded-xl",children:[s.jsx("h3",{className:"font-bold",children:y.title}),s.jsx("p",{className:"text-xs text-theme-muted capitalize",children:y.type})]},y.id))})]})]}),m==="media"&&s.jsxs("section",{className:"space-y-12",children:[d.photoUrls.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Photos"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.photoUrls.map((y,R)=>s.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:y,alt:`Photo ${R+1}`,className:"w-full h-48 object-cover rounded-lg hover:opacity-80 transition-opacity"})},R))})]}),d.videoUrls.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-6 text-center",children:"Videos"}),s.jsx("div",{className:"grid gap-4 max-w-2xl mx-auto",children:d.videoUrls.map((y,R)=>s.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"card p-4 rounded-xl hover:border-accent transition-colors flex items-center gap-4",children:s.jsxs("span",{className:"text-2xl",children:["Watch Video ",R+1]})},R))})]}),d.photoUrls.length===0&&d.videoUrls.length===0&&s.jsx("p",{className:"text-center text-theme-muted",children:"No media available."})]}),m==="press"&&s.jsxs("section",{className:"max-w-3xl mx-auto space-y-8",children:[d.achievements.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Achievements"}),s.jsx("ul",{className:"space-y-2",children:d.achievements.map((y,R)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-accent",children:""}),s.jsx("span",{children:y})]},R))})]}),d.pressQuotes.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Press Quotes"}),s.jsx("div",{className:"space-y-6",children:d.pressQuotes.map((y,R)=>s.jsxs("blockquote",{className:"card p-6 rounded-xl border-l-4 border-accent",children:[s.jsxs("p",{className:"text-lg italic",children:['"',y.quote,'"']}),y.source&&s.jsxs("footer",{className:"mt-3 text-theme-muted text-sm",children:[" ",y.source]})]},R))})]}),d.achievements.length===0&&d.pressQuotes.length===0&&s.jsx("p",{className:"text-center text-theme-muted",children:"No press information available."})]}),m==="contact"&&s.jsxs("section",{className:"max-w-2xl mx-auto space-y-8",children:[s.jsxs("div",{className:"card p-8 rounded-xl text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get In Touch"}),s.jsxs("div",{className:"space-y-4",children:[d.contactName&&s.jsx("p",{className:"text-lg",children:d.contactName}),d.contactEmail&&s.jsxs("div",{children:[s.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Press & General Inquiries"}),s.jsx("a",{href:`mailto:${d.contactEmail}`,className:"text-accent hover:underline text-lg",children:d.contactEmail})]}),d.bookingEmail&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-theme-muted text-sm mb-1",children:"Booking"}),s.jsx("a",{href:`mailto:${d.bookingEmail}`,className:"text-accent hover:underline text-lg",children:d.bookingEmail})]})]})]}),(d.technicalRider||d.stagePlot)&&s.jsxs("div",{className:"card p-6 rounded-xl",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Technical Information"}),d.technicalRider&&s.jsxs("details",{className:"mb-4",children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Technical Rider"}),s.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.technicalRider})]}),d.stagePlot&&s.jsxs("details",{children:[s.jsx("summary",{className:"cursor-pointer text-accent hover:underline",children:"View Stage Plot"}),s.jsx("pre",{className:"mt-4 text-sm text-theme-secondary whitespace-pre-wrap bg-theme-secondary p-4 rounded",children:d.stagePlot})]})]})]})]}),s.jsxs("footer",{className:"border-t border-theme p-6 mt-12 text-center",children:[s.jsxs("p",{className:"text-theme-muted text-sm",children:["Electronic Press Kit powered by ",s.jsx("a",{href:"/",className:"text-accent hover:underline",children:"BOX"})," by luctheleo.com"]}),s.jsxs("p",{className:"text-xs text-theme-muted mt-2",children:["BOX Code: ",N.boxCode]})]})]})}function wy(){const{isLoading:e,isAuthenticated:t}=At(),[n]=ah();return n==="/admin"?s.jsx(ay,{}):n==="/community"?s.jsx(cy,{}):n==="/docs"?s.jsx(dy,{}):n.startsWith("/portfolio/")?s.jsx(gy,{}):n.startsWith("/epk/")?s.jsx(Ny,{}):e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:"/box-logo.png",alt:"BOX",className:"w-12 h-12 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:"Loading..."})]})}):t?s.jsxs(ey,{children:[s.jsx(Nt,{path:"/",component:ny}),s.jsx(Nt,{path:"/creative",component:sy}),s.jsx(Nt,{path:"/project/:id",component:ly}),s.jsx(Nt,{path:"/generator",component:iy}),s.jsx(Nt,{path:"/submissions",component:vy}),s.jsx(Nt,{path:"/epk",component:jy}),s.jsx(Nt,{path:"/settings",component:oy}),s.jsx(Nt,{path:"/studio",component:yy}),s.jsx(Nt,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-gray-500",children:"Page not found"})]})})})]}):s.jsx(ty,{})}const by=new cx({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});Di.createRoot(document.getElementById("root")).render(s.jsx(Mu.StrictMode,{children:s.jsx(ux,{client:by,children:s.jsx(Sx,{children:s.jsx(wy,{})})})}));
